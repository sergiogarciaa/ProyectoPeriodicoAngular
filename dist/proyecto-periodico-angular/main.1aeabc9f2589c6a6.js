(self.webpackChunkProyectoPeriodicoAngular=self.webpackChunkProyectoPeriodicoAngular||[]).push([[179],{4939:(Tt,Ne,F)=>{"use strict";F.d(Ne,{$:()=>As,A:()=>oe,C:()=>qr,E:()=>Pu,G:()=>We,K:()=>Ls,L:()=>mo,N:()=>Mi,P:()=>ui,R:()=>ch,U:()=>ct,V:()=>uo,W:()=>Vn,X:()=>wr,Y:()=>Ro,Z:()=>Ts,_:()=>rs,a:()=>Xe,a0:()=>Ss,a1:()=>hi,a2:()=>xi,a3:()=>ys,a4:()=>Li,a5:()=>lo,a6:()=>br,a7:()=>Ms,a8:()=>qo,a9:()=>Os,aA:()=>Ue,aB:()=>ze,aC:()=>De,aD:()=>ei,aE:()=>Ee,aF:()=>It,aG:()=>Io,aH:()=>Gs,aI:()=>La,aJ:()=>kn,aN:()=>On,aQ:()=>ns,aa:()=>Su,ab:()=>_o,ac:()=>Vi,ad:()=>$s,ae:()=>ea,af:()=>su,ag:()=>Z,ah:()=>z,ak:()=>Qt,al:()=>jn,am:()=>cr,ap:()=>ya,aq:()=>Dt,as:()=>va,at:()=>xn,au:()=>Ut,av:()=>fe,aw:()=>ce,ax:()=>we,ay:()=>pu,az:()=>qs,b:()=>$,c:()=>Ai,d:()=>ks,e:()=>Ns,f:()=>yc,g:()=>ph,h:()=>sd,i:()=>y,j:()=>Fu,k:()=>ld,l:()=>Dl,m:()=>gu,o:()=>ju,p:()=>pe,r:()=>nd,s:()=>dh,u:()=>ws,w:()=>lt});var p=F(5861),W=F(9058),te=F(534),ye=F(7879),ue=F(7582),q=F(4537);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function Ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},He=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new ye.Yd("@firebase/auth");function mt(_,...h){Ke.logLevel<=ye.in.ERROR&&Ke.error(`Auth (${te.SDK_VERSION}): ${_}`,...h)}function we(_,...h){throw it(_,...h)}function ze(_,...h){return it(_,...h)}function Oe(_,h,g){const I=Object.assign(Object.assign({},He()),{[h]:g});return new W.LL("auth","Firebase",I).create(h,{appName:_.name})}function Fe(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&we(_,"argument-error"),Oe(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(_,...h){if("string"!=typeof _){const g=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(g,...I)}return et.create(_,...h)}function De(_,h,...g){if(!_)throw it(h,...g)}function Rt(_){const h="INTERNAL ASSERTION FAILED: "+_;throw mt(h),new Error(h)}function Ut(_,h){_||Rt(h)}function Jt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Cn(){return"http:"===ln()||"https:"===ln()}function ln(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Zt{constructor(h,g){this.shortDelay=h,this.longDelay=g,Ut(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function Xn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Cn()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bt(_,h){Ut(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Te{static initialize(h,g,I){this.fetchImpl=h,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},se=new Zt(3e4,6e4);function Re(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function Ie(_,h,g,I){return tt.apply(this,arguments)}function tt(){return(tt=(0,p.Z)(function*(_,h,g,I,H={}){return Je(_,H,(0,p.Z)(function*(){let ne={},Ae={};I&&("GET"===h?Ae=I:ne={body:JSON.stringify(I)});const Ye=(0,W.xO)(Object.assign({key:_.config.apiKey},Ae)).slice(1),ft=yield _._getAdditionalHeaders();return ft["Content-Type"]="application/json",_.languageCode&&(ft["X-Firebase-Locale"]=_.languageCode),Te.fetch()(bn(_,_.config.apiHost,g,Ye),Object.assign({method:h,headers:ft,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Je(_,h,g){return Be.apply(this,arguments)}function Be(){return(Be=(0,p.Z)(function*(_,h,g){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},xe),h);try{const H=new $n(_),ne=yield Promise.race([g(),H.promise]);H.clearNetworkTimeout();const Ae=yield ne.json();if("needConfirmation"in Ae)throw Pn(_,"account-exists-with-different-credential",Ae);if(ne.ok&&!("errorMessage"in Ae))return Ae;{const Ye=ne.ok?Ae.errorMessage:Ae.error.message,[ft,en]=Ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw Pn(_,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===ft)throw Pn(_,"email-already-in-use",Ae);if("USER_DISABLED"===ft)throw Pn(_,"user-disabled",Ae);const mn=I[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(en)throw Oe(_,mn,en);we(_,mn)}}catch(H){if(H instanceof W.ZR)throw H;we(_,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function Ve(_,h,g,I){return kt.apply(this,arguments)}function kt(){return(kt=(0,p.Z)(function*(_,h,g,I,H={}){const ne=yield Ie(_,h,g,I,H);return"mfaPendingCredential"in ne&&we(_,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function bn(_,h,g,I){const H=`${h}${g}?${I}`;return _.config.emulator?Bt(_.config,H):`${_.config.apiScheme}://${H}`}function nn(_){switch(_){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $n{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(ze(this.auth,"network-request-failed")),se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pn(_,h,g){const I={appName:_.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const H=ze(_,h,I);return H.customData._tokenResponse=g,H}function Nn(_){return void 0!==_&&void 0!==_.getResponse}function Tn(_){return void 0!==_&&void 0!==_.enterprise}class Et{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return nn(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function lr(){return(lr=(0,p.Z)(function*(_){return(yield Ie(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ht(_,h){return In.apply(this,arguments)}function In(){return(In=(0,p.Z)(function*(_,h){return Ie(_,"GET","/v2/recaptchaConfig",Re(_,h))})).apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function on(){return(on=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function cn(){return(cn=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function hn(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function zn(){return(zn=(0,p.Z)(function*(_,h=!1){const g=(0,W.m9)(_),I=yield g.getIdToken(h),H=vt(I);De(H&&H.exp&&H.auth_time&&H.iat,g.auth,"internal-error");const ne="object"==typeof H.firebase?H.firebase:void 0,Ae=ne?.sign_in_provider;return{claims:H,token:I,authTime:hn(Hr(H.auth_time)),issuedAtTime:hn(Hr(H.iat)),expirationTime:hn(Hr(H.exp)),signInProvider:Ae||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function Hr(_){return 1e3*Number(_)}function vt(_){const[h,g,I]=_.split(".");if(void 0===h||void 0===g||void 0===I)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,W.tV)(g);return H?JSON.parse(H):(mt("Failed to decode base64 JWT payload"),null)}catch(H){return mt("Caught error parsing JWT payload as JSON",H?.toString()),null}}function Wt(_,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,p.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(I){throw I instanceof W.ZR&&function an({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}class Lr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const H=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),I)}iteration(){var h=this;return(0,p.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class An{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=hn(this.lastLoginAt),this.creationTime=hn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fn(_){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,p.Z)(function*(_){var h;const g=_.auth,I=yield _.getIdToken(),H=yield Wt(_,function Ot(_,h){return cn.apply(this,arguments)}(g,{idToken:I}));De(H?.users.length,g,"internal-error");const ne=H.users[0];_._notifyReloadListener(ne);const Ae=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?function Kn(_){return _.map(h=>{var{providerId:g}=h,I=(0,ue._T)(h,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(ne.providerUserInfo):[],Ye=function ci(_,h){return[..._.filter(I=>!h.some(H=>H.providerId===I.providerId)),...h]}(_.providerData,Ae),mn=!!_.isAnonymous&&!(_.email&&ne.passwordHash||Ye?.length),yr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:Ye,metadata:new An(ne.createdAt,ne.lastLoginAt),isAnonymous:mn};Object.assign(_,yr)}),Ur.apply(this,arguments)}function mr(){return(mr=(0,p.Z)(function*(_){const h=(0,W.m9)(_);yield fn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function vn(){return(vn=(0,p.Z)(function*(_,h){const g=yield Je(_,{},(0,p.Z)(function*(){const I=(0,W.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:ne}=_.config,Ae=bn(_,H,"/v1/token",`key=${ne}`),Ye=yield _._getAdditionalHeaders();return Ye["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(Ae,{method:"POST",headers:Ye,body:I})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function K(){return(K=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v2/accounts:revokeToken",Re(_,h))})).apply(this,arguments)}class L{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){De(h.idToken,"internal-error"),De(typeof h.idToken<"u","internal-error"),De(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ci(_){const h=vt(_);return De(h,"internal-error"),De(typeof h.exp<"u","internal-error"),De(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var I=this;return(0,p.Z)(function*(){return De(!I.accessToken||I.refreshToken,h,"user-token-expired"),g||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(h,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var I=this;return(0,p.Z)(function*(){const{accessToken:H,refreshToken:ne,expiresIn:Ae}=yield function _n(_,h){return vn.apply(this,arguments)}(h,g);I.updateTokensAndExpiration(H,ne,Number(Ae))})()}updateTokensAndExpiration(h,g,I){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,g){const{refreshToken:I,accessToken:H,expirationTime:ne}=g,Ae=new L;return I&&(De("string"==typeof I,"internal-error",{appName:h}),Ae.refreshToken=I),H&&(De("string"==typeof H,"internal-error",{appName:h}),Ae.accessToken=H),ne&&(De("number"==typeof ne,"internal-error",{appName:h}),Ae.expirationTime=ne),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new L,this.toJSON())}_performRefresh(){return Rt("not implemented")}}function M(_,h){De("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class O{constructor(h){var{uid:g,auth:I,stsTokenManager:H}=h,ne=(0,ue._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new An(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,p.Z)(function*(){const I=yield Wt(g,g.stsTokenManager.getToken(g.auth,h));return De(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(h){return function sn(_){return zn.apply(this,arguments)}(this,h)}reload(){return function tr(_){return mr.apply(this,arguments)}(this)}_assign(h){this!==h&&(De(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new O(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var I=this;return(0,p.Z)(function*(){let H=!1;h.idToken&&h.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(h),H=!0),g&&(yield fn(I)),yield I.auth._persistUserIfCurrent(I),H&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var h=this;return(0,p.Z)(function*(){const g=yield h.getIdToken();return yield Wt(h,function Cr(_,h){return Hn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var I,H,ne,Ae,Ye,ft,en,mn;const yr=null!==(I=g.displayName)&&void 0!==I?I:void 0,Wi=null!==(H=g.email)&&void 0!==H?H:void 0,Is=null!==(ne=g.phoneNumber)&&void 0!==ne?ne:void 0,kl=null!==(Ae=g.photoURL)&&void 0!==Ae?Ae:void 0,Ga=null!==(Ye=g.tenantId)&&void 0!==Ye?Ye:void 0,$u=null!==(ft=g._redirectEventId)&&void 0!==ft?ft:void 0,Hu=null!==(en=g.createdAt)&&void 0!==en?en:void 0,Dh=null!==(mn=g.lastLoginAt)&&void 0!==mn?mn:void 0,{uid:zu,emailVerified:Fl,isAnonymous:Gf,providerData:bh,stsTokenManager:Ii}=g;De(zu&&Ii,h,"internal-error");const pd=L.fromJSON(this.name,Ii);De("string"==typeof zu,h,"internal-error"),M(yr,h.name),M(Wi,h.name),De("boolean"==typeof Fl,h,"internal-error"),De("boolean"==typeof Gf,h,"internal-error"),M(Is,h.name),M(kl,h.name),M(Ga,h.name),M($u,h.name),M(Hu,h.name),M(Dh,h.name);const Gu=new O({uid:zu,auth:h,email:Wi,emailVerified:Fl,displayName:yr,isAnonymous:Gf,photoURL:kl,phoneNumber:Is,tenantId:Ga,stsTokenManager:pd,createdAt:Hu,lastLoginAt:Dh});return bh&&Array.isArray(bh)&&(Gu.providerData=bh.map(Ll=>Object.assign({},Ll))),$u&&(Gu._redirectEventId=$u),Gu}static _fromIdTokenResponse(h,g,I=!1){return(0,p.Z)(function*(){const H=new L;H.updateFromServerResponse(g);const ne=new O({uid:g.localId,auth:h,stsTokenManager:H,isAnonymous:I});return yield fn(ne),ne})()}}const ie=new Map;function Ee(_){Ut(_ instanceof Function,"Expected a class definition");let h=ie.get(_);return h?(Ut(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,ie.set(_,h),h)}const ct=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,I){var H=this;return(0,p.Z)(function*(){H.storage[g]=I})()}_get(g){var I=this;return(0,p.Z)(function*(){const H=I.storage[g];return void 0===H?null:H})()}_remove(g){var I=this;return(0,p.Z)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return _.type="NONE",_})();function It(_,h,g){return`firebase:${_}:${h}:${g}`}class _t{constructor(h,g,I){this.persistence=h,this.auth=g,this.userKey=I;const{config:H,name:ne}=this.auth;this.fullUserKey=It(this.userKey,H.apiKey,ne),this.fullPersistenceKey=It("persistence",H.apiKey,ne),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,p.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?O._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,p.Z)(function*(){if(g.persistence===h)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,I="authUser"){return(0,p.Z)(function*(){if(!g.length)return new _t(Ee(ct),h,I);const H=(yield Promise.all(g.map(function(){var en=(0,p.Z)(function*(mn){if(yield mn._isAvailable())return mn});return function(mn){return en.apply(this,arguments)}}()))).filter(en=>en);let ne=H[0]||Ee(ct);const Ae=It(I,h.config.apiKey,h.name);let Ye=null;for(const en of g)try{const mn=yield en._get(Ae);if(mn){const yr=O._fromJSON(h,mn);en!==ne&&(Ye=yr),ne=en;break}}catch{}const ft=H.filter(en=>en._shouldAllowMigration);return ne._shouldAllowMigration&&ft.length?(ne=ft[0],Ye&&(yield ne._set(Ae,Ye.toJSON())),yield Promise.all(g.map(function(){var en=(0,p.Z)(function*(mn){if(mn!==ne)try{yield mn._remove(Ae)}catch{}});return function(mn){return en.apply(this,arguments)}}())),new _t(ne,h,I)):new _t(ne,h,I)})()}}function Kt(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Si(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Dn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(N(h))return"Blackberry";if(J(h))return"Webos";if(Xt(h))return"Safari";if((h.includes("chrome/")||Rr(h))&&!h.includes("edge/"))return"Chrome";if(ce(h))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Dn(_=(0,W.z$)()){return/firefox\//i.test(_)}function Xt(_=(0,W.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Rr(_=(0,W.z$)()){return/crios\//i.test(_)}function Si(_=(0,W.z$)()){return/iemobile/i.test(_)}function ce(_=(0,W.z$)()){return/android/i.test(_)}function N(_=(0,W.z$)()){return/blackberry/i.test(_)}function J(_=(0,W.z$)()){return/webos/i.test(_)}function fe(_=(0,W.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ue(_=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function un(_=(0,W.z$)()){return fe(_)||ce(_)||J(_)||N(_)||/windows phone/i.test(_)||Si(_)}function _r(_,h=[]){let g;switch(_){case"Browser":g=Kt((0,W.z$)());break;case"Worker":g=`${Kt((0,W.z$)())}-${_}`;break;default:g=_}const I=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${te.SDK_VERSION}/${I}`}class dr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const I=ne=>new Promise((Ae,Ye)=>{try{Ae(h(ne))}catch(ft){Ye(ft)}});I.onAbort=g,this.queue.push(I);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===h)return;const I=[];try{for(const H of g.queue)yield H(h),H.onAbort&&I.push(H.onAbort)}catch(H){I.reverse();for(const ne of I)try{ne()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function hr(){return(hr=(0,p.Z)(function*(_,h={}){return Ie(_,"GET","/v2/passwordPolicy",Re(_,h))})).apply(this,arguments)}class ri{constructor(h){var g,I,H,ne;const Ae=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ae.minPasswordLength)&&void 0!==g?g:6,Ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ae.maxPasswordLength),void 0!==Ae.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ae.containsLowercaseCharacter),void 0!==Ae.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ae.containsUppercaseCharacter),void 0!==Ae.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ae.containsNumericCharacter),void 0!==Ae.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ae.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(I=h.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(ne=h.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,I,H,ne,Ae,Ye;const ft={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,ft),this.validatePasswordCharacterOptions(h,ft),ft.isValid&&(ft.isValid=null===(g=ft.meetsMinPasswordLength)||void 0===g||g),ft.isValid&&(ft.isValid=null===(I=ft.meetsMaxPasswordLength)||void 0===I||I),ft.isValid&&(ft.isValid=null===(H=ft.containsLowercaseLetter)||void 0===H||H),ft.isValid&&(ft.isValid=null===(ne=ft.containsUppercaseLetter)||void 0===ne||ne),ft.isValid&&(ft.isValid=null===(Ae=ft.containsNumericCharacter)||void 0===Ae||Ae),ft.isValid&&(ft.isValid=null===(Ye=ft.containsNonAlphanumericCharacter)||void 0===Ye||Ye),ft}validatePasswordLengthOptions(h,g){const I=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;I&&(g.meetsMinPasswordLength=h.length>=I),H&&(g.meetsMaxPasswordLength=h.length<=H)}validatePasswordCharacterOptions(h,g){let I;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let H=0;H<h.length;H++)I=h.charAt(H),this.updatePasswordCharacterOptionsStatuses(g,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(h,g,I,H,ne){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ne))}}class Pi{constructor(h,g,I,H){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=I,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new di(this),this.idTokenSubscription=new di(this),this.beforeStateQueue=new dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,g){var I=this;return g&&(this._popupRedirectResolver=Ee(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var H,ne;if(!I._deleted&&(I.persistenceManager=yield _t.create(I,h),!I._deleted)){if(null!==(H=I._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(g),I.lastNotifiedUid=(null===(ne=I.currentUser)||void 0===ne?void 0:ne.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,p.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,p.Z)(function*(){var I;const H=yield g.assertedPersistence.getCurrentUser();let ne=H,Ae=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ye=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,ft=ne?._redirectEventId,en=yield g.tryRedirectSignIn(h);(!Ye||Ye===ft)&&en?.user&&(ne=en.user,Ae=!0)}if(!ne)return g.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Ae)try{yield g.beforeStateQueue.runMiddleware(ne)}catch(Ye){ne=H,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ye))}return ne?g.reloadAndSetCurrentUserOrClear(ne):g.directlySetCurrentUser(null)}return De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ne._redirectEventId?g.directlySetCurrentUser(ne):g.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var g=this;return(0,p.Z)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,p.Z)(function*(){try{yield fn(h)}catch(I){if("auth/network-request-failed"!==I?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function st(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,p.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,p.Z)(function*(){const I=h?(0,W.m9)(h):null;return I&&De(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(h,g=!1){var I=this;return(0,p.Z)(function*(){if(!I._deleted)return h&&De(I.tenantId===h.tenantId,I,"tenant-id-mismatch"),g||(yield I.beforeStateQueue.runMiddleware(h)),I.queue((0,p.Z)(function*(){yield I.directlySetCurrentUser(h),I.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,p.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(Ee(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,p.Z)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const I=g._getPasswordPolicyInternal();return I.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,p.Z)(function*(){const g=yield function ni(_){return hr.apply(this,arguments)}(h),I=new ri(g);null===h.tenantId?h._projectPasswordPolicy=I:h._tenantPasswordPolicies[h.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new W.LL("auth","Firebase",h())}onAuthStateChanged(h,g,I){return this.registerStateListener(this.authStateSubscription,h,g,I)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,I){return this.registerStateListener(this.idTokenSubscription,h,g,I)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const I=this.onAuthStateChanged(()=>{I(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,p.Z)(function*(){if(g.currentUser){const I=yield g.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:I};null!=g.tenantId&&(H.tenantId=g.tenantId),yield function ge(_,h){return K.apply(this,arguments)}(g,H)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var I=this;return(0,p.Z)(function*(){const H=yield I.getOrInitRedirectPersistenceManager(g);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const I=h&&Ee(h)||g._popupRedirectResolver;De(I,g,"argument-error"),g.redirectPersistenceManager=yield _t.create(g,[Ee(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,p.Z)(function*(){var I,H;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===h?g._currentUser:(null===(H=g.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,p.Z)(function*(){if(h===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,I,H){if(this._deleted)return()=>{};const ne="function"==typeof g?g:g.next.bind(g);let Ae=!1;const Ye=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(Ye,this,"internal-error"),Ye.then(()=>{Ae||ne(this.currentUser)}),"function"==typeof g){const ft=h.addObserver(g,I,H);return()=>{Ae=!0,ft()}}{const ft=h.addObserver(g);return()=>{Ae=!0,ft()}}}directlySetCurrentUser(h){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=_r(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,p.Z)(function*(){var g;const I={"X-Client-Version":h.clientVersion};h.app.options.appId&&(I["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();H&&(I["X-Firebase-Client"]=H);const ne=yield h._getAppCheckToken();return ne&&(I["X-Firebase-AppCheck"]=ne),I})()}_getAppCheckToken(){var h=this;return(0,p.Z)(function*(){var g;const I=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return I?.error&&function St(_,...h){Ke.logLevel<=ye.in.WARN&&Ke.warn(`Auth (${te.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function kn(_){return(0,W.m9)(_)}class di{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,W.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mi={loadJS:()=>(0,p.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ar(_){return mi.loadJS(_)}function xt(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Vr{constructor(h){this.type="recaptcha-enterprise",this.auth=kn(h)}verify(h="verify",g=!1){var I=this;return(0,p.Z)(function*(){function ne(){return ne=(0,p.Z)(function*(Ye){if(!g){if(null==Ye.tenantId&&null!=Ye._agentRecaptchaConfig)return Ye._agentRecaptchaConfig.siteKey;if(null!=Ye.tenantId&&void 0!==Ye._tenantRecaptchaConfigs[Ye.tenantId])return Ye._tenantRecaptchaConfigs[Ye.tenantId].siteKey}return new Promise(function(){var ft=(0,p.Z)(function*(en,mn){Ht(Ye,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yr=>{if(void 0!==yr.recaptchaKey){const Wi=new Et(yr);return null==Ye.tenantId?Ye._agentRecaptchaConfig=Wi:Ye._tenantRecaptchaConfigs[Ye.tenantId]=Wi,en(Wi.siteKey)}mn(new Error("recaptcha Enterprise site key undefined"))}).catch(yr=>{mn(yr)})});return function(en,mn){return ft.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Ae(Ye,ft,en){const mn=window.grecaptcha;Tn(mn)?mn.enterprise.ready(()=>{mn.enterprise.execute(Ye,{action:h}).then(yr=>{ft(yr)}).catch(()=>{ft("NO_RECAPTCHA")})}):en(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ye,ft)=>{(function H(Ye){return ne.apply(this,arguments)})(I.auth).then(en=>{if(!g&&Tn(window.grecaptcha))Ae(en,Ye,ft);else{if(typeof window>"u")return void ft(new Error("RecaptchaVerifier is only supported in browser"));let mn=function dt(){return mi.recaptchaEnterpriseScript}();0!==mn.length&&(mn+=en),Ar(mn).then(()=>{Ae(en,Ye,ft)}).catch(yr=>{ft(yr)})}}).catch(en=>{ft(en)})})})()}}function Br(_,h,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(_,h,g,I=!1){const H=new Vr(_);let ne;try{ne=yield H.verify(g)}catch{ne=yield H.verify(g,!0)}const Ae=Object.assign({},h);return Object.assign(Ae,I?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(Ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ae})).apply(this,arguments)}function ii(_,h,g,I){return $i.apply(this,arguments)}function $i(){return $i=(0,p.Z)(function*(_,h,g,I){var H;if(null!==(H=_._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=yield Br(_,h,g,"getOobCode"===g);return I(_,ne)}return I(_,h).catch(function(){var ne=(0,p.Z)(function*(Ae){if("auth/missing-recaptcha-token"===Ae.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ye=yield Br(_,h,g,"getOobCode"===g);return I(_,Ye)}return Promise.reject(Ae)});return function(Ae){return ne.apply(this,arguments)}}())}),$i.apply(this,arguments)}function Ls(_,h,g){const I=kn(_);De(I._canInitEmulator,I,"emulator-config-failed"),De(/^https?:\/\//.test(h),I,"invalid-emulator-scheme");const H=!!g?.disableWarnings,ne=Uo(h),{host:Ae,port:Ye}=function ps(_){const h=Uo(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(I);if(H){const ne=H[1];return{host:ne,port:Yi(I.substr(ne.length+1))}}{const[ne,Ae]=I.split(":");return{host:ne,port:Yi(Ae)}}}(h);I.config.emulator={url:`${ne}//${Ae}${null===Ye?"":`:${Ye}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ae,port:Ye,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function gs(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Uo(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Yi(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class mo{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Rt("not implemented")}_getIdTokenResponse(h){return Rt("not implemented")}_linkToIdToken(h,g){return Rt("not implemented")}_getReauthenticationResolver(h){return Rt("not implemented")}}function Vs(_,h){return bo.apply(this,arguments)}function bo(){return(bo=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:resetPassword",Re(_,h))})).apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function jr(_,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function To(){return(To=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:update",Re(_,h))})).apply(this,arguments)}function es(_,h){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(_,h){return Ve(_,"POST","/v1/accounts:signInWithPassword",Re(_,h))})).apply(this,arguments)}function Di(_,h){return bi.apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:sendOobCode",Re(_,h))})).apply(this,arguments)}function bt(){return(bt=(0,p.Z)(function*(_,h){return Di(_,h)})).apply(this,arguments)}function yn(_,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(_,h){return Di(_,h)})).apply(this,arguments)}function Ri(_,h){return io.apply(this,arguments)}function io(){return(io=(0,p.Z)(function*(_,h){return Di(_,h)})).apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(_,h){return Di(_,h)})).apply(this,arguments)}function Hi(){return(Hi=(0,p.Z)(function*(_,h){return Ve(_,"POST","/v1/accounts:signInWithEmailLink",Re(_,h))})).apply(this,arguments)}function pn(){return(pn=(0,p.Z)(function*(_,h){return Ve(_,"POST","/v1/accounts:signInWithEmailLink",Re(_,h))})).apply(this,arguments)}class oi extends mo{constructor(h,g,I,H=null){super("password",I),this._email=h,this._password=g,this._tenantId=H}static _fromEmailAndPassword(h,g){return new oi(h,g,"password")}static _fromEmailAndCode(h,g,I=null){return new oi(h,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,p.Z)(function*(){switch(g.signInMethod){case"password":return ii(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",es);case"emailLink":return function rr(_,h){return Hi.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:we(h,"internal-error")}})()}_linkToIdToken(h,g){var I=this;return(0,p.Z)(function*(){switch(I.signInMethod){case"password":return ii(h,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jr);case"emailLink":return function oo(_,h){return pn.apply(this,arguments)}(h,{idToken:g,email:I._email,oobCode:I._password});default:we(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function _i(_,h){return so.apply(this,arguments)}function so(){return(so=(0,p.Z)(function*(_,h){return Ve(_,"POST","/v1/accounts:signInWithIdp",Re(_,h))})).apply(this,arguments)}class Mi extends mo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Mi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):we("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:H}=g,ne=(0,ue._T)(g,["providerId","signInMethod"]);if(!I||!H)return null;const Ae=new Mi(I,H);return Ae.idToken=ne.idToken||void 0,Ae.accessToken=ne.accessToken||void 0,Ae.secret=ne.secret,Ae.nonce=ne.nonce,Ae.pendingToken=ne.pendingToken||null,Ae}_getIdTokenResponse(h){return _i(h,this.buildRequest())}_linkToIdToken(h,g){const I=this.buildRequest();return I.idToken=g,_i(h,I)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,_i(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,W.xO)(g)}return h}}function Ti(){return(Ti=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:sendVerificationCode",Re(_,h))})).apply(this,arguments)}function So(){return(So=(0,p.Z)(function*(_,h){return Ve(_,"POST","/v1/accounts:signInWithPhoneNumber",Re(_,h))})).apply(this,arguments)}function si(){return(si=(0,p.Z)(function*(_,h){const g=yield Ve(_,"POST","/v1/accounts:signInWithPhoneNumber",Re(_,h));if(g.temporaryProof)throw Pn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Bo={USER_NOT_FOUND:"user-not-found"};function Mn(){return(Mn=(0,p.Z)(function*(_,h){return Ve(_,"POST","/v1/accounts:signInWithPhoneNumber",Re(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Bo)})).apply(this,arguments)}class jo extends mo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new jo({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new jo({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Ao(_,h){return So.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Qi(_,h){return si.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Ji(_,h){return Mn.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:I,verificationCode:H}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:I,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:I,phoneNumber:H,temporaryProof:ne}=h;return I||g||H||ne?new jo({verificationId:g,verificationCode:I,phoneNumber:H,temporaryProof:ne}):null}}class Sr{constructor(h){var g,I,H,ne,Ae,Ye;const ft=(0,W.zd)((0,W.pd)(h)),en=null!==(g=ft.apiKey)&&void 0!==g?g:null,mn=null!==(I=ft.oobCode)&&void 0!==I?I:null,yr=function ts(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=ft.mode)&&void 0!==H?H:null);De(en&&mn&&yr,"argument-error"),this.apiKey=en,this.operation=yr,this.code=mn,this.continueUrl=null!==(ne=ft.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Ae=ft.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(Ye=ft.tenantId)&&void 0!==Ye?Ye:null}static parseLink(h){const g=function Po(_){const h=(0,W.zd)((0,W.pd)(_)).link,g=h?(0,W.zd)((0,W.pd)(h)).deep_link_id:null,I=(0,W.zd)((0,W.pd)(_)).deep_link_id;return(I?(0,W.zd)((0,W.pd)(I)).link:null)||I||g||h||_}(h);try{return new Sr(g)}catch{return null}}}let uo=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,I){return oi._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const H=Sr.parseLink(I);return De(H,"argument-error"),oi._fromEmailAndCode(g,H.code,H.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Wr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Mr extends Wr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ts extends Mr{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return De("providerId"in g&&"signInMethod"in g,"argument-error"),Mi._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return De(h.idToken||h.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ts.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ts.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:H,pendingToken:ne,nonce:Ae,providerId:Ye}=h;if(!I&&!H&&!g&&!ne||!Ye)return null;try{return new Ts(Ye)._credential({idToken:g,accessToken:I,nonce:Ae,pendingToken:ne})}catch{return null}}}let Vn=(()=>{class _ extends Mr{constructor(){super("facebook.com")}static credential(g){return Mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),wr=(()=>{class _ extends Mr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return Mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:H}=g;if(!I&&!H)return null;try{return _.credential(I,H)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ro=(()=>{class _ extends Mr{constructor(){super("github.com")}static credential(g){return Mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ns extends mo{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return _i(h,this.buildRequest())}_linkToIdToken(h,g){const I=this.buildRequest();return I.idToken=g,_i(h,I)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,_i(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:H,pendingToken:ne}=g;return I&&H&&ne&&I===H?new ns(I,ne):null}static _create(h,g){return new ns(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rs extends Wr{constructor(h){De(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return rs.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return rs.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=ns.fromJSON(h);return De(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:I}=h;if(!g||!I)return null;try{return ns._create(I,g)}catch{return null}}}let As=(()=>{class _ extends Mr{constructor(){super("twitter.com")}static credential(g,I){return Mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:H}=g;if(!I||!H)return null;try{return _.credential(I,H)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Mo(_,h){return ma.apply(this,arguments)}function ma(){return(ma=(0,p.Z)(function*(_,h){return Ve(_,"POST","/v1/accounts:signUp",Re(_,h))})).apply(this,arguments)}class Yr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,I,H=!1){return(0,p.Z)(function*(){const ne=yield O._fromIdTokenResponse(h,I,H),Ae=yo(I);return new Yr({user:ne,providerId:Ae,_tokenResponse:I,operationType:g})})()}static _forOperation(h,g,I){return(0,p.Z)(function*(){yield h._updateTokensIfNecessary(I,!0);const H=yo(I);return new Yr({user:h,providerId:H,_tokenResponse:I,operationType:g})})()}}function yo(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ss(_){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,p.Z)(function*(_){var h;const g=kn(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Yr({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield Mo(g,{returnSecureToken:!0}),H=yield Yr._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser(H.user),H})).apply(this,arguments)}class Ps extends W.ZR{constructor(h,g,I,H){var ne;super(g.code,g.message),this.operationType=I,this.user=H,Object.setPrototypeOf(this,Ps.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:g.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,g,I,H){return new Ps(h,g,I,H)}}function sr(_,h,g,I){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Ps._fromErrorAndOperation(_,ne,h,I):ne})}function ms(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function ya(_,h){return B.apply(this,arguments)}function B(){return B=(0,p.Z)(function*(_,h){const g=(0,W.m9)(_);yield ee(!0,g,h);const{providerUserInfo:I}=yield function zt(_,h){return on.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),H=ms(I||[]);return g.providerData=g.providerData.filter(ne=>H.has(ne.providerId)),H.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),B.apply(this,arguments)}function G(_,h){return R.apply(this,arguments)}function R(){return(R=(0,p.Z)(function*(_,h,g=!1){const I=yield Wt(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return Yr._forOperation(_,"link",I)})).apply(this,arguments)}function ee(_,h,g){return _e.apply(this,arguments)}function _e(){return(_e=(0,p.Z)(function*(_,h,g){yield fn(h);const H=!1===_?"provider-already-linked":"no-such-provider";De(ms(h.providerData).has(g)===_,h.auth,H)})).apply(this,arguments)}function Nt(_,h){return gn.apply(this,arguments)}function gn(){return(gn=(0,p.Z)(function*(_,h,g=!1){const{auth:I}=_,H="reauthenticate";try{const ne=yield Wt(_,sr(I,H,h,_),g);De(ne.idToken,I,"internal-error");const Ae=vt(ne.idToken);De(Ae,I,"internal-error");const{sub:Ye}=Ae;return De(_.uid===Ye,I,"user-mismatch"),Yr._forOperation(_,H,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&we(I,"user-mismatch"),ne}})).apply(this,arguments)}function Jr(_,h){return zi.apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(_,h,g=!1){const I="signIn",H=yield sr(_,I,h),ne=yield Yr._fromIdTokenResponse(_,I,H);return g||(yield _._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function hi(_,h){return $o.apply(this,arguments)}function $o(){return($o=(0,p.Z)(function*(_,h){return Jr(kn(_),h)})).apply(this,arguments)}function xi(_,h){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,p.Z)(function*(_,h){const g=(0,W.m9)(_);return yield ee(!1,g,h.providerId),G(g,h)})).apply(this,arguments)}function ys(_,h){return is.apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(_,h){return Nt((0,W.m9)(_),h)})).apply(this,arguments)}function Ho(){return(Ho=(0,p.Z)(function*(_,h){return Ve(_,"POST","/v1/accounts:signInWithCustomToken",Re(_,h))})).apply(this,arguments)}function Li(_,h){return zo.apply(this,arguments)}function zo(){return zo=(0,p.Z)(function*(_,h){const g=kn(_),I=yield function vi(_,h){return Ho.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),H=yield Yr._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser(H.user),H}),zo.apply(this,arguments)}class Go{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Ni._fromServerResponse(h,g):"totpInfo"in g?Wo._fromServerResponse(h,g):we(h,"internal-error")}}class Ni extends Go{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Ni(g)}}class Wo extends Go{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Wo(g)}}function os(_,h,g){var I;De((null===(I=g.url)||void 0===I?void 0:I.length)>0,_,"invalid-continue-uri"),De(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Gi(_){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,p.Z)(function*(_){const h=kn(_);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function lo(_,h,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,p.Z)(function*(_,h,g){const I=kn(_),H={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&os(I,H,g),yield ii(I,H,"getOobCode",yn)})).apply(this,arguments)}function br(_,h,g){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,p.Z)(function*(_,h,g){yield Vs((0,W.m9)(_),{oobCode:h,newPassword:g}).catch(function(){var I=(0,p.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Gi(_),H});return function(H){return I.apply(this,arguments)}}())}),Bs.apply(this,arguments)}function Ms(_,h){return wi.apply(this,arguments)}function wi(){return wi=(0,p.Z)(function*(_,h){yield function Gr(_,h){return To.apply(this,arguments)}((0,W.m9)(_),{oobCode:h})}),wi.apply(this,arguments)}function qo(_,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,p.Z)(function*(_,h){const g=(0,W.m9)(_),I=yield Vs(g,{oobCode:h}),H=I.requestType;switch(De(H,g,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(I.mfaInfo,g,"internal-error");default:De(I.email,g,"internal-error")}let ne=null;return I.mfaInfo&&(ne=Go._fromServerResponse(kn(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:ne},operation:H}})).apply(this,arguments)}function Os(_,h){return js.apply(this,arguments)}function js(){return(js=(0,p.Z)(function*(_,h){const{data:g}=yield qo((0,W.m9)(_),h);return g.email})).apply(this,arguments)}function Su(_,h,g){return to.apply(this,arguments)}function to(){return(to=(0,p.Z)(function*(_,h,g){const I=kn(_),Ae=yield ii(I,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mo).catch(ft=>{throw"auth/password-does-not-meet-requirements"===ft.code&&Gi(_),ft}),Ye=yield Yr._fromIdTokenResponse(I,"signIn",Ae);return yield I._updateCurrentUser(Ye.user),Ye})).apply(this,arguments)}function _o(_,h,g){return hi((0,W.m9)(_),uo.credential(h,g)).catch(function(){var I=(0,p.Z)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Gi(_),H});return function(H){return I.apply(this,arguments)}}())}function Vi(_,h,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,p.Z)(function*(_,h,g){const I=kn(_),H={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ne(Ae,Ye){De(Ye.handleCodeInApp,I,"argument-error"),Ye&&os(I,Ae,Ye)})(H,g),yield ii(I,H,"getOobCode",Ri)})).apply(this,arguments)}function $s(_,h){const g=Sr.parseLink(h);return"EMAIL_SIGNIN"===g?.operation}function ea(_,h,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,p.Z)(function*(_,h,g){const I=(0,W.m9)(_),H=uo.credentialWithLink(h,g||Jt());return De(H._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),hi(I,H)})).apply(this,arguments)}function xo(){return(xo=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:createAuthUri",Re(_,h))})).apply(this,arguments)}function su(_,h){return C.apply(this,arguments)}function C(){return C=(0,p.Z)(function*(_,h){const I={identifier:h,continueUri:Cn()?Jt():"http://localhost"},{signinMethods:H}=yield function ou(_,h){return xo.apply(this,arguments)}((0,W.m9)(_),I);return H||[]}),C.apply(this,arguments)}function Z(_,h){return x.apply(this,arguments)}function x(){return x=(0,p.Z)(function*(_,h){const g=(0,W.m9)(_),H={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&os(g.auth,H,h);const{email:ne}=yield function Dr(_,h){return bt.apply(this,arguments)}(g.auth,H);ne!==_.email&&(yield _.reload())}),x.apply(this,arguments)}function z(_,h,g){return he.apply(this,arguments)}function he(){return he=(0,p.Z)(function*(_,h,g){const I=(0,W.m9)(_),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&os(I.auth,ne,g);const{email:Ae}=yield function Kr(_,h){return Fi.apply(this,arguments)}(I.auth,ne);Ae!==_.email&&(yield _.reload())}),he.apply(this,arguments)}function ot(){return(ot=(0,p.Z)(function*(_,h){return Ie(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qt(_,h){return fr.apply(this,arguments)}function fr(){return fr=(0,p.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const I=(0,W.m9)(_),ne={idToken:yield I.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Ae=yield Wt(I,function Ze(_,h){return ot.apply(this,arguments)}(I.auth,ne));I.displayName=Ae.displayName||null,I.photoURL=Ae.photoUrl||null;const Ye=I.providerData.find(({providerId:ft})=>"password"===ft);Ye&&(Ye.displayName=I.displayName,Ye.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ae)}),fr.apply(this,arguments)}function jn(_,h){return rn((0,W.m9)(_),h,null)}function cr(_,h){return rn((0,W.m9)(_),null,h)}function rn(_,h,g){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,p.Z)(function*(_,h,g){const{auth:I}=_,ne={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),g&&(ne.password=g);const Ae=yield Wt(_,function Fn(_,h){return Zr.apply(this,arguments)}(I,ne));yield _._updateTokensIfNecessary(Ae,!0)}),Tr.apply(this,arguments)}class pr{constructor(h,g,I={}){this.isNewUser=h,this.providerId=g,this.profile=I}}class vo extends pr{constructor(h,g,I,H){super(h,g,I),this.username=H}}class ut extends pr{constructor(h,g){super(h,"facebook.com",g)}}class Nr extends vo{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class kr extends pr{constructor(h,g){super(h,"google.com",g)}}class Ko extends vo{constructor(h,g,I){super(h,"twitter.com",g,I)}}function Dt(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ar(_){var h,g;if(!_)return null;const{providerId:I}=_,H=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},ne=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!I&&_?.idToken){const Ae=null===(g=null===(h=vt(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ae)return new pr(ne,"anonymous"!==Ae&&"custom"!==Ae?Ae:null)}if(!I)return null;switch(I){case"facebook.com":return new ut(ne,H);case"github.com":return new Nr(ne,H);case"google.com":return new kr(ne,H);case"twitter.com":return new Ko(ne,H,_.screenName||null);case"custom":case"anonymous":return new pr(ne,null);default:return new pr(ne,I,H)}}(g)}function lt(_,h,g,I){return(0,W.m9)(_).onIdTokenChanged(h,g,I)}function qr(_){return(0,W.m9)(_).signOut()}function Pu(_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(_){return(0,W.m9)(_).delete()})).apply(this,arguments)}class co{constructor(h,g,I){this.type=h,this.credential=g,this.user=I}static _fromIdtoken(h,g){return new co("enroll",h,g)}static _fromMfaPendingCredential(h){return new co("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,I;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return co._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(I=h.multiFactorSession)&&void 0!==I&&I.idToken)return co._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Oo{constructor(h,g,I){this.session=h,this.hints=g,this.signInResolver=I}static _fromError(h,g){const I=kn(h),H=g.customData._serverResponse,ne=(H.mfaInfo||[]).map(Ye=>Go._fromServerResponse(I,Ye));De(H.mfaPendingCredential,I,"internal-error");const Ae=co._fromMfaPendingCredential(H.mfaPendingCredential);return new Oo(Ae,ne,function(){var Ye=(0,p.Z)(function*(ft){const en=yield ft._process(I,Ae);delete H.mfaInfo,delete H.mfaPendingCredential;const mn=Object.assign(Object.assign({},H),{idToken:en.idToken,refreshToken:en.refreshToken});switch(g.operationType){case"signIn":const yr=yield Yr._fromIdTokenResponse(I,g.operationType,mn);return yield I._updateCurrentUser(yr.user),yr;case"reauthenticate":return De(g.user,I,"internal-error"),Yr._forOperation(g.user,g.operationType,mn);default:we(I,"internal-error")}});return function(ft){return Ye.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,p.Z)(function*(){return g.signInResolver(h)})()}}function va(_,h){var g;const I=(0,W.m9)(_),H=h;return De(h.customData.operationType,I,"argument-error"),De(null===(g=H.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),Oo._fromError(I,H)}class tn{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>Go._fromServerResponse(h.auth,I)))})}static _fromUser(h){return new tn(h)}getSession(){var h=this;return(0,p.Z)(function*(){return co._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var I=this;return(0,p.Z)(function*(){const H=h,ne=yield I.getSession(),Ae=yield Wt(I.user,H._process(I.user.auth,ne,g));return yield I.user._updateTokensIfNecessary(Ae),I.user.reload()})()}unenroll(h){var g=this;return(0,p.Z)(function*(){const I="string"==typeof h?h:h.uid,H=yield g.user.getIdToken();try{const ne=yield Wt(g.user,function jt(_,h){return Ie(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Re(_,h))}(g.user.auth,{idToken:H,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ae})=>Ae!==I),yield g.user._updateTokensIfNecessary(ne),yield g.user.reload()}catch(ne){throw ne}})()}}const zs=new WeakMap;function xn(_){const h=(0,W.m9)(_);return zs.has(h)||zs.set(h,tn._fromUser(h)),zs.get(h)}const wa="__sak";class $r{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const $=(()=>{class _ extends $r{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function At(){const _=(0,W.z$)();return Xt(_)||fe(_)}()&&function dn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=un(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const H=this.storage.getItem(I),ne=this.localCache[I];H!==ne&&g(I,ne,H)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((Ye,ft,en)=>{this.notifyListeners(Ye,en)});const H=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ye=this.storage.getItem(H);if(g.newValue!==Ye)null!==g.newValue?this.storage.setItem(H,g.newValue):this.storage.removeItem(H);else if(this.localCache[H]===g.newValue&&!I)return}const ne=()=>{const Ye=this.storage.getItem(H);!I&&this.localCache[H]===Ye||this.notifyListeners(H,Ye)},Ae=this.storage.getItem(H);!function Mt(){return(0,W.w1)()&&10===document.documentMode}()||Ae===g.newValue||g.newValue===g.oldValue?ne():setTimeout(ne,10)}notifyListeners(g,I){this.localCache[g]=I;const H=this.listeners[g];if(H)for(const ne of Array.from(H))ne(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var H=()=>super._set,ne=this;return(0,p.Z)(function*(){yield H().call(ne,g,I),ne.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,H=this;return(0,p.Z)(function*(){const ne=yield I().call(H,g);return H.localCache[g]=JSON.stringify(ne),ne})()}_remove(g){var I=()=>super._remove,H=this;return(0,p.Z)(function*(){yield I().call(H,g),delete H.localCache[g]})()}}return _.type="LOCAL",_})(),Xe=(()=>{class _ extends $r{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return _.type="SESSION",_})();let Lt=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(ne=>ne.isListeningto(g));if(I)return I;const H=new _(g);return this.receivers.push(H),H}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,p.Z)(function*(){const H=g,{eventId:ne,eventType:Ae,data:Ye}=H.data,ft=I.handlersMap[Ae];if(!ft?.size)return;H.ports[0].postMessage({status:"ack",eventId:ne,eventType:Ae});const en=Array.from(ft).map(function(){var yr=(0,p.Z)(function*(Wi){return Wi(H.origin,Ye)});return function(Wi){return yr.apply(this,arguments)}}()),mn=yield function Me(_){return Promise.all(_.map(function(){var h=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return h.apply(this,arguments)}}()))}(en);H.ports[0].postMessage({status:"done",eventId:ne,eventType:Ae,response:mn})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function On(_="",h=10){let g="";for(let I=0;I<h;I++)g+=Math.floor(10*Math.random());return _+g}class gr{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,I=50){var H=this;return(0,p.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Ae,Ye;return new Promise((ft,en)=>{const mn=On("",20);ne.port1.start();const yr=setTimeout(()=>{en(new Error("unsupported_event"))},I);Ye={messageChannel:ne,onMessage(Wi){const Is=Wi;if(Is.data.eventId===mn)switch(Is.data.status){case"ack":clearTimeout(yr),Ae=setTimeout(()=>{en(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),ft(Is.data.response);break;default:clearTimeout(yr),clearTimeout(Ae),en(new Error("invalid_response"))}}},H.handlers.add(Ye),ne.port1.addEventListener("message",Ye.onMessage),H.target.postMessage({eventType:h,eventId:mn,data:g},[ne.port2])}).finally(()=>{Ye&&H.removeMessageHandler(Ye)})})()}}function Un(){return window}function na(){return typeof Un().WorkerGlobalScope<"u"&&"function"==typeof Un().importScripts}function ra(){return(ra=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ss="firebaseLocalStorageDb",Ei="firebaseLocalStorage",no="fbase_key";class Oa{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function wo(_,h){return _.transaction([Ei],h?"readwrite":"readonly").objectStore(Ei)}function au(){const _=indexedDB.open(ss,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(Ei,{keyPath:no})}catch(H){g(H)}}),_.addEventListener("success",(0,p.Z)(function*(){const I=_.result;I.objectStoreNames.contains(Ei)?h(I):(I.close(),yield function vs(){const _=indexedDB.deleteDatabase(ss);return new Oa(_).toPromise()}(),h(yield au()))}))})}function dc(_,h,g){return hc.apply(this,arguments)}function hc(){return(hc=(0,p.Z)(function*(_,h,g){const I=wo(_,!0).put({[no]:h,value:g});return new Oa(I).toPromise()})).apply(this,arguments)}function ia(){return(ia=(0,p.Z)(function*(_,h){const g=wo(_,!1).get(h),I=yield new Oa(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Ea(_,h){const g=wo(_,!0).delete(h);return new Oa(g).toPromise()}const y=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield au()),g.db})()}_withRetries(g){var I=this;return(0,p.Z)(function*(){let H=0;for(;;)try{const ne=yield I._openDb();return yield g(ne)}catch(ne){if(H++>3)throw ne;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return na()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Lt._getInstance(function Ru(){return na()?self:null}()),g.receiver._subscribe("keyChanged",function(){var I=(0,p.Z)(function*(H,ne){return{keyProcessed:(yield g._poll()).includes(ne.key)}});return function(H,ne){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,p.Z)(function*(H,ne){return["keyChanged"]});return function(H,ne){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var I,H;if(g.activeServiceWorker=yield function ho(){return ra.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new gr(g.activeServiceWorker);const ne=yield g.sender._send("ping",{},800);ne&&null!==(I=ne[0])&&void 0!==I&&I.fulfilled&&null!==(H=ne[0])&&void 0!==H&&H.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,p.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Le(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield au();return yield dc(g,wa,"1"),yield Ea(g,wa),!0}catch{}return!1})()}_withPendingWrite(g){var I=this;return(0,p.Z)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var H=this;return(0,p.Z)(function*(){return H._withPendingWrite((0,p.Z)(function*(){return yield H._withRetries(ne=>dc(ne,g,I)),H.localCache[g]=I,H.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,p.Z)(function*(){const H=yield I._withRetries(ne=>function as(_,h){return ia.apply(this,arguments)}(ne,g));return I.localCache[g]=H,H})()}_remove(g){var I=this;return(0,p.Z)(function*(){return I._withPendingWrite((0,p.Z)(function*(){return yield I._withRetries(H=>Ea(H,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const I=yield g._withRetries(Ae=>{const Ye=wo(Ae,!1).getAll();return new Oa(Ye).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const H=[],ne=new Set;if(0!==I.length)for(const{fbase_key:Ae,value:Ye}of I)ne.add(Ae),JSON.stringify(g.localCache[Ae])!==JSON.stringify(Ye)&&(g.notifyListeners(Ae,Ye),H.push(Ae));for(const Ae of Object.keys(g.localCache))g.localCache[Ae]&&!ne.has(Ae)&&(g.notifyListeners(Ae,null),H.push(Ae));return H})()}notifyListeners(g,I){this.localCache[g]=I;const H=this.listeners[g];if(H)for(const ne of Array.from(H))ne(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),$e=1e12;class Vt{constructor(h){this.auth=h,this.counter=$e,this._widgets=new Map}render(h,g){const I=this.counter;return this._widgets.set(I,new Bn(h,this.auth.name,g||{})),this.counter++,I}reset(h){var g;const I=h||$e;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(h){var g;return(null===(g=this._widgets.get(h||$e))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,p.Z)(function*(){var I;return null===(I=g._widgets.get(h||$e))||void 0===I||I.execute(),""})()}}class Bn{constructor(h,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;De(H,"argument-error",{appName:g}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Yn(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<_;I++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wn=xt("rcb"),xr=new Zt(3e4,6e4);class Na{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Un().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return De(function uu(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Nn(Un().grecaptcha)?Promise.resolve(Un().grecaptcha):new Promise((I,H)=>{const ne=Un().setTimeout(()=>{H(ze(h,"network-request-failed"))},xr.get());Un()[Wn]=()=>{Un().clearTimeout(ne),delete Un()[Wn];const Ye=Un().grecaptcha;if(!Ye||!Nn(Ye))return void H(ze(h,"internal-error"));const ft=Ye.render;Ye.render=(en,mn)=>{const yr=ft(en,mn);return this.counter++,yr},this.hostLanguage=g,I(Ye)},Ar(`${function zr(){return mi.recaptchaV2Script}()}?${(0,W.xO)({onload:Wn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ne),H(ze(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Un().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mu{load(h){return(0,p.Z)(function*(){return new Vt(h)})()}clearedOneInstance(){}}const Ia="recaptcha",pc={theme:"light",type:"image"};class ch{constructor(h,g,I=Object.assign({},pc)){this.parameters=I,this.type=Ia,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kn(h),this.isInvisible="invisible"===this.parameters.size,De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof g?document.getElementById(g):g;De(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mu:new Na,this.validateStartingState()}verify(){var h=this;return(0,p.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),I=h.getAssertedRecaptcha();return I.getResponse(g)||new Promise(ne=>{const Ae=Ye=>{Ye&&(h.tokenChangeListeners.delete(Ae),ne(Ye))};h.tokenChangeListeners.add(Ae),h.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof h)h(g);else if("string"==typeof h){const I=Un()[h];"function"==typeof I&&I(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,p.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,p.Z)(function*(){De(Cn()&&!na(),h.auth,"internal-error"),yield function gc(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function er(_){return lr.apply(this,arguments)}(h.auth);De(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oa{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=jo._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function dh(_,h,g){return xu.apply(this,arguments)}function xu(){return(xu=(0,p.Z)(function*(_,h,g){const I=kn(_),H=yield ki(I,h,(0,W.m9)(g));return new oa(H,ne=>hi(I,ne))})).apply(this,arguments)}function Dl(_,h,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,p.Z)(function*(_,h,g){const I=(0,W.m9)(_);yield ee(!1,I,"phone");const H=yield ki(I.auth,h,(0,W.m9)(g));return new oa(H,ne=>xi(I,ne))})).apply(this,arguments)}function nd(_,h,g){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,p.Z)(function*(_,h,g){const I=(0,W.m9)(_),H=yield ki(I.auth,h,(0,W.m9)(g));return new oa(H,ne=>ys(I,ne))})).apply(this,arguments)}function ki(_,h,g){return mc.apply(this,arguments)}function mc(){return mc=(0,p.Z)(function*(_,h,g){var I;const H=yield g.verify();try{let ne;if(De("string"==typeof H,_,"argument-error"),De(g.type===Ia,_,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const Ae=ne.session;if("phoneNumber"in ne)return De("enroll"===Ae.type,_,"internal-error"),(yield function ai(_,h){return Ie(_,"POST","/v2/accounts/mfaEnrollment:start",Re(_,h))}(_,{idToken:Ae.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{De("signin"===Ae.type,_,"internal-error");const Ye=(null===(I=ne.multiFactorHint)||void 0===I?void 0:I.uid)||ne.multiFactorUid;return De(Ye,_,"missing-multi-factor-info"),(yield function A(_,h){return Ie(_,"POST","/v2/accounts/mfaSignIn:start",Re(_,h))}(_,{mfaPendingCredential:Ae.credential,mfaEnrollmentId:Ye,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ae}=yield function ao(_,h){return Ti.apply(this,arguments)}(_,{phoneNumber:ne.phoneNumber,recaptchaToken:H});return Ae}}finally{g._reset()}}),mc.apply(this,arguments)}function ws(_,h){return ka.apply(this,arguments)}function ka(){return(ka=(0,p.Z)(function*(_,h){yield G((0,W.m9)(_),h)})).apply(this,arguments)}let ui=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=kn(g)}verifyPhoneNumber(g,I){return ki(this.auth,g,(0,W.m9)(I))}static credential(g,I){return jo._fromVerification(g,I)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:H}=g;return I&&H?jo._fromTokenResponse(I,H):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ca(_,h){return h?Ee(h):(De(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ui extends mo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return _i(h,this._buildIdpRequest())}_linkToIdToken(h,g){return _i(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return _i(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Xr(_){return Jr(_.auth,new Ui(_),_.bypassAuthState)}function hh(_){const{auth:h,user:g}=_;return De(g,h,"internal-error"),Nt(g,new Ui(_),_.bypassAuthState)}function Nu(_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,p.Z)(function*(_){const{auth:h,user:g}=_;return De(g,h,"internal-error"),G(g,new Ui(_),_.bypassAuthState)})).apply(this,arguments)}class fh{constructor(h,g,I,H,ne=!1){this.auth=h,this.resolver=I,this.user=H,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,p.Z)(function*(I,H){h.pendingPromise={resolve:I,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(I,H){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,p.Z)(function*(){const{urlResponse:I,sessionId:H,postBody:ne,tenantId:Ae,error:Ye,type:ft}=h;if(Ye)return void g.reject(Ye);const en={auth:g.auth,requestUri:I,sessionId:H,tenantId:Ae||void 0,postBody:ne||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ft)(en))}catch(mn){g.reject(mn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Xr;case"linkViaPopup":case"linkViaRedirect":return Nu;case"reauthViaPopup":case"reauthViaRedirect":return hh;default:we(this.auth,"internal-error")}}resolve(h){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rd=new Zt(2e3,1e4);function Ai(_,h,g){return id.apply(this,arguments)}function id(){return(id=(0,p.Z)(function*(_,h,g){const I=kn(_);Fe(_,h,Wr);const H=Ca(I,g);return new cu(I,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function Ns(_,h,g){return li.apply(this,arguments)}function li(){return(li=(0,p.Z)(function*(_,h,g){const I=(0,W.m9)(_);Fe(I.auth,h,Wr);const H=Ca(I.auth,g);return new cu(I.auth,"reauthViaPopup",h,H,I).executeNotNull()})).apply(this,arguments)}function ks(_,h,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,p.Z)(function*(_,h,g){const I=(0,W.m9)(_);Fe(I.auth,h,Wr);const H=Ca(I.auth,g);return new cu(I.auth,"linkViaPopup",h,H,I).executeNotNull()})).apply(this,arguments)}let cu=(()=>{class _ extends fh{constructor(g,I,H,ne,Ae){super(g,I,ne,Ae),this.provider=H,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const I=yield g.execute();return De(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,p.Z)(function*(){Ut(1===g.filter.length,"Popup operations only handle one event");const I=On();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch(H=>{g.reject(H)}),g.resolver._isIframeWebStorageSupported(g.auth,H=>{H||g.reject(ze(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,H;this.pollId=null!==(H=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,rd.get())};g()}}return _.currentPopupAction=null,_})();const ku="pendingRedirect",Tl=new Map;class Eo extends fh{constructor(h,g,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,p.Z)(function*(){let I=Tl.get(g.auth._key());if(!I){try{const ne=(yield function Fa(_,h){return Da.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;I=()=>Promise.resolve(ne)}catch(H){I=()=>Promise.reject(H)}Tl.set(g.auth._key(),I)}return g.bypassAuthState||Tl.set(g.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,I=this;return(0,p.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(I,h);if("unknown"!==h.type){if(h.eventId){const H=yield I.auth._redirectUserForId(h.eventId);if(H)return I.user=H,g().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Da(){return(Da=(0,p.Z)(function*(_,h){const g=Va(h),I=od(_);if(!(yield I._isAvailable()))return!1;const H="true"===(yield I._get(g));return yield I._remove(g),H})).apply(this,arguments)}function Fs(_,h){return Es.apply(this,arguments)}function Es(){return(Es=(0,p.Z)(function*(_,h){return od(_)._set(Va(h),"true")})).apply(this,arguments)}function La(){Tl.clear()}function Gs(_,h){Tl.set(_._key(),h)}function od(_){return Ee(_._redirectPersistence)}function Va(_){return It(ku,_.config.apiKey,_.name)}function yc(_,h,g){return function Al(_,h,g){return sa.apply(this,arguments)}(_,h,g)}function sa(){return(sa=(0,p.Z)(function*(_,h,g){const I=kn(_);Fe(_,h,Wr),yield I._initializationPromise;const H=Ca(I,g);return yield Fs(H,I),H._openRedirect(I,h,"signInViaRedirect")})).apply(this,arguments)}function sd(_,h,g){return function Ua(_,h,g){return aa.apply(this,arguments)}(_,h,g)}function aa(){return(aa=(0,p.Z)(function*(_,h,g){const I=(0,W.m9)(_);Fe(I.auth,h,Wr),yield I.auth._initializationPromise;const H=Ca(I.auth,g);yield Fs(H,I.auth);const ne=yield vc(I);return H._openRedirect(I.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function ph(_,h,g){return function Sl(_,h,g){return Ba.apply(this,arguments)}(_,h,g)}function Ba(){return(Ba=(0,p.Z)(function*(_,h,g){const I=(0,W.m9)(_);Fe(I.auth,h,Wr),yield I.auth._initializationPromise;const H=Ca(I.auth,g);yield ee(!1,I,h.providerId),yield Fs(H,I.auth);const ne=yield vc(I);return H._openRedirect(I.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function Fu(_,h){return ad.apply(this,arguments)}function ad(){return(ad=(0,p.Z)(function*(_,h){return yield kn(_)._initializationPromise,Io(_,h,!1)})).apply(this,arguments)}function Io(_,h){return _c.apply(this,arguments)}function _c(){return(_c=(0,p.Z)(function*(_,h,g=!1){const I=kn(_),H=Ca(I,h),Ae=yield new Eo(I,H,g).execute();return Ae&&!g&&(delete Ae.user._redirectEventId,yield I._persistUserIfCurrent(Ae.user),yield I._setRedirectUser(null,h)),Ae})).apply(this,arguments)}function vc(_){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,p.Z)(function*(_){const h=On(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class ei{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(g=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function du(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ja(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var I;if(h.error&&!ja(h)){const H=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(ze(this.auth,H))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const I=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ws(h))}saveEventToCache(h){this.cachedEventUids.add(Ws(h)),this.lastProcessedEventTime=Date.now()}}function Ws(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function ja({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function qs(_){return wc.apply(this,arguments)}function wc(){return(wc=(0,p.Z)(function*(_,h={}){return Ie(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Ec=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^https?/;function $a(){return($a=(0,p.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield qs(_);for(const g of h)try{if(mh(g))return}catch{}we(_,"unauthorized-domain")})).apply(this,arguments)}function mh(_){const h=Jt(),{protocol:g,hostname:I}=new URL(h);if(_.startsWith("chrome-extension://")){const Ae=new URL(_);return""===Ae.hostname&&""===I?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ae.hostname===I}if(!ir.test(g))return!1;if(Ec.test(_))return I===_;const H=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(I)}const yh=new Zt(3e4,6e4);function _h(){const _=Un().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ic=null;const hu=new Zt(5e3,15e3),$f="__/auth/iframe",Hf="emulator/auth/iframe",ro={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pl(_){const h=_.config;De(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?Bt(h,Hf):`https://${_.config.authDomain}/${$f}`,I={apiKey:h.apiKey,appName:_.name,v:te.SDK_VERSION},H=wh.get(_.config.apiHost);H&&(I.eid=H);const ne=_._getFrameworks();return ne.length&&(I.fw=ne.join(",")),`${g}?${(0,W.xO)(I).slice(1)}`}function us(){return us=(0,p.Z)(function*(_){const h=yield function jf(_){return Ic=Ic||function vh(_){return new Promise((h,g)=>{var I,H,ne;function Ae(){_h(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{_h(),g(ze(_,"network-request-failed"))},timeout:yh.get()})}if(null!==(H=null===(I=Un().gapi)||void 0===I?void 0:I.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=Un().gapi)||void 0===ne||!ne.load){const Ye=xt("iframefcb");return Un()[Ye]=()=>{gapi.load?Ae():g(ze(_,"network-request-failed"))},Ar(`${function yt(){return mi.gapiScript}()}?onload=${Ye}`).catch(ft=>g(ft))}Ae()}}).catch(h=>{throw Ic=null,h})}(_),Ic}(_),g=Un().gapi;return De(g,_,"internal-error"),h.open({where:document.body,url:Pl(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ro,dontclear:!0},I=>new Promise(function(){var H=(0,p.Z)(function*(ne,Ae){yield I.restyle({setHideOnLeave:!1});const Ye=ze(_,"network-request-failed"),ft=Un().setTimeout(()=>{Ae(Ye)},hu.get());function en(){Un().clearTimeout(ft),ne(I)}I.ping(en).then(en,()=>{Ae(Ye)})});return function(ne,Ae){return H.apply(this,arguments)}}()))}),us.apply(this,arguments)}const Lu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ls="__/auth/handler",Ks="emulator/auth/handler",fu=encodeURIComponent("fac");function pu(_,h,g,I,H,ne){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,p.Z)(function*(_,h,g,I,H,ne){De(_.config.authDomain,_,"auth-domain-config-required"),De(_.config.apiKey,_,"invalid-api-key");const Ae={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:I,v:te.SDK_VERSION,eventId:H};if(h instanceof Wr){h.setDefaultLanguage(_.languageCode),Ae.providerId=h.providerId||"",(0,W.xb)(h.getCustomParameters())||(Ae.customParameters=JSON.stringify(h.getCustomParameters()));for(const[mn,yr]of Object.entries(ne||{}))Ae[mn]=yr}if(h instanceof Mr){const mn=h.getScopes().filter(yr=>""!==yr);mn.length>0&&(Ae.scopes=mn.join(","))}_.tenantId&&(Ae.tid=_.tenantId);const Ye=Ae;for(const mn of Object.keys(Ye))void 0===Ye[mn]&&delete Ye[mn];const ft=yield _._getAppCheckToken(),en=ft?`#${fu}=${encodeURIComponent(ft)}`:"";return`${function ud({config:_}){return _.emulator?Bt(_,Ks):`https://${_.authDomain}/${ls}`}(_)}?${(0,W.xO)(Ye).slice(1)}${en}`})).apply(this,arguments)}const Ha="webStorageSupport",ld=class Qo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xe,this._completeRedirectFn=Io,this._overrideRedirectResult=Gs}_openPopup(h,g,I,H){var ne=this;return(0,p.Z)(function*(){var Ae;Ut(null===(Ae=ne.eventManagers[h._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const Ye=yield pu(h,g,I,Jt(),H);return function Dc(_,h,g,I=500,H=600){const ne=Math.max((window.screen.availHeight-H)/2,0).toString(),Ae=Math.max((window.screen.availWidth-I)/2,0).toString();let Ye="";const ft=Object.assign(Object.assign({},Lu),{width:I.toString(),height:H.toString(),top:ne,left:Ae}),en=(0,W.z$)().toLowerCase();g&&(Ye=Rr(en)?"_blank":g),Dn(en)&&(h=h||"http://localhost",ft.scrollbars="yes");const mn=Object.entries(ft).reduce((Wi,[Is,kl])=>`${Wi}${Is}=${kl},`,"");if(function rt(_=(0,W.z$)()){var h;return fe(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(en)&&"_self"!==Ye)return function zf(_,h){const g=document.createElement("a");g.href=_,g.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(h||"",Ye),new Cc(null);const yr=window.open(h||"",Ye,mn);De(yr,_,"popup-blocked");try{yr.focus()}catch{}return new Cc(yr)}(h,Ye,On())})()}_openRedirect(h,g,I,H){var ne=this;return(0,p.Z)(function*(){return yield ne._originValidation(h),function lc(_){Un().location.href=_}(yield pu(h,g,I,Jt(),H)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:H,promise:ne}=this.eventManagers[g];return H?Promise.resolve(H):(Ut(ne,"If manager is not set, promise should be"),ne)}const I=this.initAndGetManager(h);return this.eventManagers[g]={promise:I},I.catch(()=>{delete this.eventManagers[g]}),I}initAndGetManager(h){var g=this;return(0,p.Z)(function*(){const I=yield function Eh(_){return us.apply(this,arguments)}(h),H=new ei(h);return I.register("authEvent",ne=>(De(ne?.authEvent,h,"invalid-auth-event"),{status:H.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:H},g.iframes[h._key()]=I,H})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Ha,{type:Ha},H=>{var ne;const Ae=null===(ne=H?.[0])||void 0===ne?void 0:ne[Ha];void 0!==Ae&&g(!!Ae),we(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Qr(_){return $a.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return un()||Xt()||fe()}};class cd{constructor(h){this.factorId=h}_process(h,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,I);case"signin":return this._finalizeSignIn(h,g.credential);default:return Rt("unexpected MultiFactorSessionType")}}}class Uu extends cd{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Uu(h)}_finalizeEnroll(h,g,I){return function Sn(_,h){return Ie(_,"POST","/v2/accounts/mfaEnrollment:finalize",Re(_,h))}(h,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function k(_,h){return Ie(_,"POST","/v2/accounts/mfaSignIn:finalize",Re(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gu=(()=>{class _{constructor(){}static assertion(g){return Uu._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Bu="@firebase/auth";class ua{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(I=>{h(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ol=(0,W.Pz)("authIdTokenMaxAge")||300;let fd=null;const Jo=_=>function(){var h=(0,p.Z)(function*(g){const I=g&&(yield g.getIdTokenResult()),H=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(H&&H>Ol)return;const ne=I?.token;fd!==ne&&(fd=ne,yield fetch(_,{method:ne?"POST":"DELETE",headers:ne?{Authorization:`Bearer ${ne}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function ju(_=(0,te.getApp)()){const h=(0,te._getProvider)(_,"auth");if(h.isInitialized())return h.getImmediate();const g=function Ma(_,h){const g=(0,te._getProvider)(_,"auth");if(g.isInitialized()){const H=g.getImmediate(),ne=g.getOptions();if((0,W.vZ)(ne,h??{}))return H;we(H,"already-initialized")}return g.initialize({options:h})}(_,{popupRedirectResolver:ld,persistence:[y,$,Xe]}),I=(0,W.Pz)("authTokenSyncURL");if(I){const ne=Jo(I);(function Er(_,h,g){(0,W.m9)(_).beforeAuthStateChanged(h,g)})(g,ne,()=>ne(g.currentUser)),lt(g,Ae=>ne(Ae))}const H=(0,W.q4)("auth");return H&&Ls(g,`http://${H}`),g}(function or(_){mi=_})({loadJS:_=>new Promise((h,g)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=h,I.onerror=H=>{const ne=ze("internal-error");ne.customData=H,g(ne)},I.type="text/javascript",I.charset="UTF-8",function Nl(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Co(_){(0,te._registerComponent)(new q.wA("auth",(h,{options:g})=>{const I=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),ne=h.getProvider("app-check-internal"),{apiKey:Ae,authDomain:Ye}=I.options;De(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:I.name});const ft={apiKey:Ae,authDomain:Ye,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_r(_)},en=new Pi(I,H,ne,ft);return function fs(_,h){const g=h?.persistence||[],I=(Array.isArray(g)?g:[g]).map(Ee);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(I,h?.popupRedirectResolver)}(en,g),en},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,I)=>{h.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new q.wA("auth-internal",h=>{const g=kn(h.getProvider("auth").getImmediate());return new ua(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Bu,"1.6.0",function dd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_)),(0,te.registerVersion)(Bu,"1.6.0","esm2017")}("Browser")},5776:(Tt,Ne,F)=>{"use strict";F.d(Ne,{u7:()=>nh,Jj:()=>nu,IX:()=>cv,my:()=>Zi,xU:()=>sc,Lz:()=>hl,WA:()=>lt,F8:()=>Ef,$q:()=>ih,W:()=>ac,EK:()=>jt,PU:()=>Ng,l7:()=>Eo,Ky:()=>At,Xb:()=>$r,Cf:()=>qn,K9:()=>wl,Me:()=>rd,yq:()=>kr,Wi:()=>gg,ET:()=>Jy,Ab:()=>s_,vr:()=>Fg,Fc:()=>Jd,hJ:()=>Kd,B$:()=>Oy,at:()=>xy,oe:()=>Mv,AK:()=>kg,TF:()=>gv,JU:()=>Yd,ST:()=>ky,fH:()=>hv,Ix:()=>pv,Wu:()=>jw,Lx:()=>Iv,qY:()=>Ki,GL:()=>ed,QT:()=>Pf,kl:()=>Hw,Xk:()=>Av,PL:()=>Sv,UQ:()=>Sg,zN:()=>Pv,ad:()=>Qd,nP:()=>Lv,b9:()=>Wy,vh:()=>Dg,Pb:()=>mv,L$:()=>yv,cf:()=>Xy,sc:()=>e_,Xo:()=>Gy,IO:()=>Jc,iE:()=>_g,Eo:()=>Lw,i3:()=>i_,Bt:()=>o_,pl:()=>Qy,Ub:()=>vo,qK:()=>Ag,TQ:()=>Bw,e0:()=>Uw,r7:()=>Rv,Mx:()=>fv,ar:()=>zy});var pe,p=F(5861),W=F(534),te=F(4537),ye=F(7879),ue=F(9058),q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve={},Pe=Pe||{},re=q||self;function oe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ce(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var We="closure_uid_"+(1e9*Math.random()>>>0),He=0;function et(i,e,n){return i.call.apply(i.bind,arguments)}function pt(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ke(i,e,n){return(Ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?et:pt).apply(null,arguments)}function St(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function mt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,u,c){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[u].apply(s,f)}}function we(){this.s=this.s,this.o=this.o}we.prototype.s=!1,we.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Qe(i){Object.prototype.hasOwnProperty.call(i,We)&&i[We]||(i[We]=++He)}(this)},we.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Oe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Fe(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function it(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(oe(s)){const u=i.length||0,c=s.length||0;i.length=u+c;for(let f=0;f<c;f++)i[u+f]=s[f]}else i.push(s)}}function De(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var Rt=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const n=()=>{};re.addEventListener("test",n,e),re.removeEventListener("test",n,e)}catch{}return i}();function Ut(i){return/^[\s\xa0]*$/.test(i)}function Jt(){var i=re.navigator;return i&&(i=i.userAgent)?i:""}function Cn(i){return-1!=Jt().indexOf(i)}function ln(i){return ln[" "](i),i}ln[" "]=function(){};var Ie,i,st=Cn("Opera"),Zt=Cn("Trident")||Cn("MSIE"),Bt=Cn("Edge"),Te=Bt||Zt,xe=Cn("Gecko")&&!(-1!=Jt().toLowerCase().indexOf("webkit")&&!Cn("Edge"))&&!(Cn("Trident")||Cn("MSIE"))&&!Cn("Edge"),se=-1!=Jt().toLowerCase().indexOf("webkit")&&!Cn("Edge");function Re(){var i=re.document;return i?i.documentMode:void 0}e:{var tt="",Je=(i=Jt(),xe?/rv:([^\);]+)(\)|;)/.exec(i):Bt?/Edge\/([\d\.]+)/.exec(i):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):se?/WebKit\/(\S+)/.exec(i):st?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Je&&(tt=Je?Je[1]:""),Zt){var Be=Re();if(null!=Be&&Be>parseFloat(tt)){Ie=String(Be);break e}}Ie=tt}var bn=re.document&&Zt&&(Re()||parseInt(Ie,10))||void 0;function nn(i,e){if(De.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(xe){e:{try{ln(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:$n[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&nn.$.h.call(this)}}mt(nn,De);var $n={2:"touch",3:"pen",4:"mouse"};nn.prototype.h=function(){nn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Pn="closure_listenable_"+(1e6*Math.random()|0),Nn=0;function Tn(i,e,n,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=u,this.key=++Nn,this.fa=this.ia=!1}function Et(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function er(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function Ht(i){const e={};for(const n in i)e[n]=i[n];return e}const In="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cr(i,e){let n,s;for(let u=1;u<arguments.length;u++){for(n in s=arguments[u],s)i[n]=s[n];for(let c=0;c<In.length;c++)n=In[c],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Hn(i){this.src=i,this.g={},this.h=0}function zt(i,e){var n=e.type;if(n in i.g){var c,s=i.g[n],u=Oe(s,e);(c=0<=u)&&Array.prototype.splice.call(s,u,1),c&&(Et(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function on(i,e,n,s){for(var u=0;u<i.length;++u){var c=i[u];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==s)return u}return-1}Hn.prototype.add=function(i,e,n,s,u){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=on(i,e,s,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Tn(e,this.src,c,!!s,u)).ia=n,i.push(e)),e};var Ot="closure_lm_"+(1e6*Math.random()|0),cn={};function hn(i,e,n,s,u){if(s&&s.once)return zn(i,e,n,s,u);if(Array.isArray(e)){for(var c=0;c<e.length;c++)hn(i,e[c],n,s,u);return null}return n=Lr(n),i&&i[Pn]?i.O(e,n,Ce(s)?!!s.capture:!!s,u):Pr(i,e,n,!1,s,u)}function Pr(i,e,n,s,u,c){if(!e)throw Error("Invalid event type");var f=Ce(u)?!!u.capture:!!u,D=Rn(i);if(D||(i[Ot]=D=new Hn(i)),(n=D.add(e,n,s,f,c)).proxy)return n;if(s=function sn(){const e=Wt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)Rt||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(Ci(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function zn(i,e,n,s,u){if(Array.isArray(e)){for(var c=0;c<e.length;c++)zn(i,e[c],n,s,u);return null}return n=Lr(n),i&&i[Pn]?i.P(e,n,Ce(s)?!!s.capture:!!s,u):Pr(i,e,n,!0,s,u)}function Hr(i,e,n,s,u){if(Array.isArray(e))for(var c=0;c<e.length;c++)Hr(i,e[c],n,s,u);else s=Ce(s)?!!s.capture:!!s,n=Lr(n),i&&i[Pn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=on(c=i.g[e],n,s,u))&&(Et(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=Rn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=on(e,n,s,u)),(n=-1<i?e[i]:null)&&vt(n))}function vt(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Pn])zt(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(Ci(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Rn(e))?(zt(n,i),0==n.h&&(n.src=null,e[Ot]=null)):Et(i)}}}function Ci(i){return i in cn?cn[i]:cn[i]="on"+i}function Wt(i,e){if(i.fa)i=!0;else{e=new nn(e,this);var n=i.listener,s=i.la||i.src;i.ia&&vt(i),i=n.call(s,e)}return i}function Rn(i){return(i=i[Ot])instanceof Hn?i:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lr(i){return"function"==typeof i?i:(i[an]||(i[an]=function(e){return i.handleEvent(e)}),i[an])}function An(){we.call(this),this.i=new Hn(this),this.S=this,this.J=null}function fn(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new De(e,i);else if(e instanceof De)e.target=e.target||i;else{var u=e;Cr(e=new De(s,i),u)}if(u=!0,n)for(var c=n.length-1;0<=c;c--){var f=e.g=n[c];u=Ur(f,s,!0,e)&&u}if(u=Ur(f=e.g=i,s,!0,e)&&u,u=Ur(f,s,!1,e)&&u,n)for(c=0;c<n.length;c++)u=Ur(f=e.g=n[c],s,!1,e)&&u}function Ur(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==n){var D=f.listener,P=f.la||f.src;f.ia&&zt(i.i,f),u=!1!==D.call(P,s)&&u}}return u&&!s.defaultPrevented}mt(An,we),An.prototype[Pn]=!0,An.prototype.removeEventListener=function(i,e,n,s){Hr(this,i,e,n,s)},An.prototype.N=function(){if(An.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)Et(n[s]);delete i.g[e],i.h--}}this.J=null},An.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},An.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var tr=re.JSON.stringify;function ci(){var i=O;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var _n=new class mr{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new vn,i=>i.reset());class vn{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ge(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function K(i){re.setTimeout(()=>{throw i},0)}let L,M=!1,O=new class Kn{constructor(){this.h=this.g=null}add(e,n){const s=_n.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},ie=()=>{const i=re.Promise.resolve(void 0);L=()=>{i.then(Ee)}};var Ee=()=>{for(var i;i=ci();){try{i.h.call(i.g)}catch(n){K(n)}var e=_n;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}M=!1};function nt(i,e){An.call(this),this.h=i||1,this.g=e||re,this.j=Ke(this.qb,this),this.l=Date.now()}function ct(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function It(i,e,n){if("function"==typeof i)n&&(i=Ke(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ke(i.handleEvent,i)}return 2147483647<Number(e)?-1:re.setTimeout(i,e||0)}function _t(i){i.g=It(()=>{i.g=null,i.i&&(i.i=!1,_t(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}mt(nt,An),(pe=nt.prototype).ga=!1,pe.T=null,pe.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fn(this,"tick"),this.ga&&(ct(this),this.start()))}},pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pe.N=function(){nt.$.N.call(this),ct(this),delete this.g};class Kt extends we{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dn(i){we.call(this),this.h=i,this.g={}}mt(Dn,we);var Xt=[];function Rr(i,e,n,s){Array.isArray(n)||(n&&(Xt[0]=n.toString()),n=Xt);for(var u=0;u<n.length;u++){var c=hn(e,n[u],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function Si(i){er(i.g,function(e,n){this.g.hasOwnProperty(n)&&vt(e)},i),i.g={}}function ce(){this.g=!0}function fe(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rt(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<u.length;f++)u[f]=""}}}return tr(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Dn.prototype.N=function(){Dn.$.N.call(this),Si(this)},Dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ce.prototype.Ea=function(){this.g=!1},ce.prototype.info=function(){};var Mt={},un=null;function dn(){return un=un||new An}function _r(i){De.call(this,Mt.Ta,i)}function dr(i){const e=dn();fn(e,new _r(e))}function ni(i,e){De.call(this,Mt.STAT_EVENT,i),this.stat=e}function hr(i){const e=dn();fn(e,new ni(e,i))}function Vo(i,e){De.call(this,Mt.Ua,i),this.size=e}function ri(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){i()},e)}Mt.Ta="serverreachability",mt(_r,De),Mt.STAT_EVENT="statevent",mt(ni,De),Mt.Ua="timingevent",mt(Vo,De);var Pi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function di(){}function or(){}di.prototype.h=null;var yt,Ar={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zr(){De.call(this,"d")}function dt(){De.call(this,"c")}function xt(){}function Yt(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Dn(this),this.P=Vr,this.V=new nt(i=Te?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}mt(zr,De),mt(dt,De),mt(xt,di),xt.prototype.g=function(){return new XMLHttpRequest},xt.prototype.i=function(){return{}},yt=new xt;var Vr=45e3,Br={},ji={};function ii(i,e,n){i.L=1,i.A=Di(yi(e)),i.u=n,i.S=!0,$i(i,null)}function $i(i,e){i.G=Date.now(),fs(i),i.B=yi(i.A);var n=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),pn(n.i,"t",s),i.o=0,n=i.l.J,i.h=new vr,i.g=Li(i.l,n?e:null,!i.u),0<i.O&&(i.M=new Kt(Ke(i.Pa,i,i.g),i.O)),Rr(i.U,i.g,"readystatechange",i.nb),e=i.I?Ht(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),dr(),function N(i,e,n,s,u,c){i.info(function(){if(i.g)if(c)for(var f="",D=c.split("&"),P=0;P<D.length;P++){var U=D[P].split("=");if(1<U.length){var Y=U[0];U=U[1];var ae=Y.split("_");f=2<=ae.length&&"type"==ae[1]?f+(Y+"=")+U+"&":f+(Y+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.v,i.B,i.m,i.W,i.u)}function Do(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function nr(i,e,n){let u,s=!0;for(;!i.J&&i.o<n.length;){if(u=Ma(i,n),u==ji){4==e&&(i.s=4,hr(14),s=!1),fe(i.j,i.m,null,"[Incomplete Response]");break}if(u==Br){i.s=4,hr(15),fe(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}fe(i.j,i.m,u,null),gs(i,u)}Do(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=n.length||i.h.h||(i.s=1,hr(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hi(e),e.M=!0,hr(11))):(fe(i.j,i.m,n,"[Invalid Chunked Response]"),Yi(i),ps(i))}function Ma(i,e){var n=i.o,s=e.indexOf("\n",n);return-1==s?ji:(n=Number(e.substring(n,s)),isNaN(n)?Br:(s+=1)+n>e.length?ji:(e=e.slice(s,s+n),i.o=s+n,e))}function fs(i){i.Y=Date.now()+i.P,Ls(i,i.P)}function Ls(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=ri(Ke(i.lb,i),e)}function Uo(i){i.C&&(re.clearTimeout(i.C),i.C=null)}function ps(i){0==i.l.H||i.J||Oi(i.l,i)}function Yi(i){Uo(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,ct(i.V),Si(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function gs(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Ao(n.i,i)))if(!i.K&&Ao(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;xi(n),B(n)}zi(n),hr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=ri(Ke(n.ib,n),6e3));if(1>=Ti(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else is(n,11)}else if((i.K||n.g==i)&&xi(n),!Ut(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let U=u[e];if(n.V=U[0],U=U[1],2==n.H)if("c"==U[0]){n.K=U[1],n.pa=U[2];const Y=U[3];null!=Y&&(n.ra=Y,n.l.info("VER="+n.ra));const ae=U[4];null!=ae&&(n.Ga=ae,n.l.info("SVER="+n.Ga));const be=U[5];null!=be&&"number"==typeof be&&0<be&&(n.L=s=1.5*be,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Ge=i.g;if(Ge){const Ct=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ct){var c=s.i;c.g||-1==Ct.indexOf("spdy")&&-1==Ct.indexOf("quic")&&-1==Ct.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(So(c,c.h),c.h=null))}if(s.F){const Ft=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Ft&&(s.Da=Ft,Gn(s.I,s.F,Ft))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((s=n).wa=Ho(s,s.J?s.pa:null,s.Y),f.K){Qi(s.i,f);var D=f,P=s.L;P&&D.setTimeout(P),D.C&&(Uo(D),fs(D)),s.g=f}else Jr(s);0<n.j.length&&R(n)}else"stop"!=U[0]&&"close"!=U[0]||is(n,7);else 3==n.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?is(n,7):ya(n):"noop"!=U[0]&&n.h&&n.h.Aa(U),n.A=0)}dr()}catch{}}function bo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(oe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Vs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(oe(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function mo(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(oe(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),u=s.length,c=0;c<u;c++)e.call(void 0,s[c],n&&n[c],i)}(pe=Yt.prototype).setTimeout=function(i){this.P=i},pe.nb=function(i){i=i.target;const e=this.M;e&&3==Yr(i)?e.l():this.Pa(i)},pe.Pa=function(i){try{if(i==this.g)e:{const Y=Yr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Y)&&(3!=Y||Te||this.g&&(this.h.h||this.g.ja()||yo(this.g)))){this.J||4!=Y||7==e||dr(),Uo(this);var n=this.g.da();this.ca=n;t:if(Do(this)){var s=yo(this.g);i="";var u=s.length,c=4==Yr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),ps(this);var f="";break t}this.h.i=new re.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==u-1});s.length=0,this.h.g+=i,this.o=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function J(i,e,n,s,u,c,f){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+c+" "+f})}(this.j,this.v,this.B,this.m,this.W,Y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,P=this.g;if((D=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ut(D)){var U=D;break t}}U=null}if(!(n=U)){this.i=!1,this.s=3,hr(12),Yi(this),ps(this);break e}fe(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,n)}this.S?(nr(this,Y,f),Te&&this.i&&3==Y&&(Rr(this.U,this.V,"tick",this.mb),this.V.start())):(fe(this.j,this.m,f,null),gs(this,f)),4==Y&&Yi(this),this.i&&!this.J&&(4==Y?Oi(this.l,this):(this.i=!1,fs(this)))}else(function Ss(i){const e={};i=(i.g&&2<=Yr(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Ut(i[s]))continue;var n=ge(i[s]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[u]||[];e[u]=c,c.push(n)}!function lr(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.s=3,hr(12)):(this.s=0,hr(13)),Yi(this),ps(this)}}}catch{}},pe.mb=function(){if(this.g){var i=Yr(this.g),e=this.g.ja();this.o<e.length&&(Uo(this),nr(this,i,e),this.i&&4!=i&&fs(this))}},pe.cancel=function(){this.J=!0,Yi(this)},pe.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function Ue(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(dr(),hr(17)),Yi(this),this.s=2,ps(this)):Ls(this,this.Y-i)};var Fn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof jr){this.h=i.h,Gr(this,i.j),this.s=i.s,this.g=i.g,To(this,i.m),this.l=i.l;var e=i.i,n=new Fi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),es(this,n),this.o=i.o}else i&&(e=String(i).match(Fn))?(this.h=!1,Gr(this,e[1]||"",!0),this.s=bi(e[2]||""),this.g=bi(e[3]||"",!0),To(this,e[4]),this.l=bi(e[5]||"",!0),es(this,e[6]||"",!0),this.o=bi(e[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}function yi(i){return new jr(i)}function Gr(i,e,n){i.j=n?bi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function To(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function es(i,e,n){e instanceof Fi?(i.i=e,function _i(i,e){e&&!i.j&&(rr(i),i.i=null,i.g.forEach(function(n,s){var u=s.toLowerCase();s!=u&&(Hi(this,s),pn(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Dr(e,io)),i.i=new Fi(e,i.h))}function Gn(i,e,n){i.i.set(e,n)}function Di(i){return Gn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function bi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Dr(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,bt),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function bt(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}jr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Dr(e,yn,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Dr(e,yn,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Dr(n,"/"==n.charAt(0)?Ri:Ln,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Dr(n,Kr)),i.join("")};var yn=/[#\/\?@]/g,Ln=/[#\?:]/g,Ri=/[#\?]/g,io=/[#\?@]/g,Kr=/#/g;function Fi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function rr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Zr(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),u=null;if(0<=s){var c=i[n].substring(0,s);u=i[n].substring(s+1)}else c=i[n];e(c,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Hi(i,e){rr(i),e=oi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function oo(i,e){return rr(i),e=oi(i,e),i.g.has(e)}function pn(i,e,n){Hi(i,e),0<n.length&&(i.i=null,i.g.set(oi(i,e),Fe(n)),i.h+=n.length)}function oi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Or(i){this.l=i||Mi,i=re.PerformanceNavigationTiming?0<(i=re.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pe=Fi.prototype).add=function(i,e){rr(this),this.i=null,i=oi(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},pe.forEach=function(i,e){rr(this),this.g.forEach(function(n,s){n.forEach(function(u){i.call(e,u,s,this)},this)},this)},pe.ta=function(){rr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const u=i[s];for(let c=0;c<u.length;c++)n.push(e[s])}return n},pe.Z=function(i){rr(this);let e=[];if("string"==typeof i)oo(this,i)&&(e=e.concat(this.g.get(oi(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},pe.set=function(i,e){return rr(this),this.i=null,oo(this,i=oi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},pe.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var u=c;""!==f[s]&&(u+="="+encodeURIComponent(String(f[s]))),i.push(u)}}return this.i=i.join("&")};var Mi=10;function ao(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ti(i){return i.h?1:i.g?i.g.size:0}function Ao(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function So(i,e){i.g?i.g.add(e):i.h=e}function Qi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function si(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Fe(i.i)}Or.prototype.cancel=function(){if(this.i=si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Bo=class{stringify(i){return re.JSON.stringify(i,void 0)}parse(i){return re.JSON.parse(i,void 0)}};function Ji(){this.g=new Bo}function Mn(i,e,n){const s=n||"";try{bo(i,function(u,c){let f=u;Ce(u)&&(f=tr(u)),e.push(s+c+"="+encodeURIComponent(f))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function ts(i,e,n,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function Po(i){this.l=i.ec||null,this.j=i.ob||!1}function Sr(i,e){An.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(Po,di),Po.prototype.g=function(){return new Sr(this.l,this.j)},Po.prototype.i=function(i){return function(){return i}}({}),mt(Sr,An);var bs=0;function uo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Wr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Mr(i)}function Mr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(pe=Sr.prototype).open=function(i,e){if(this.readyState!=bs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Mr(this)},pe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wr(this)),this.readyState=bs},pe.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},pe.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Wr(this):Mr(this),3==this.readyState&&uo(this)}},pe.Za=function(i){this.g&&(this.response=this.responseText=i,Wr(this))},pe.Ya=function(i){this.g&&(this.response=i,Wr(this))},pe.ka=function(){this.g&&Wr(this)},pe.setRequestHeader=function(i,e){this.v.append(i,e)},pe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},pe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ts=re.JSON.parse;function Vn(i){An.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wr,this.L=this.M=!1}mt(Vn,An);var wr="",Ro=/^https?$/i,Xi=["POST","PUT"];function eo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,rs(i),Mo(i)}function rs(i){i.F||(i.F=!0,fn(i,"complete"),fn(i,"error"))}function As(i){if(i.h&&typeof Pe<"u"&&(!i.C[1]||4!=Yr(i)||2!=i.da()))if(i.v&&4==Yr(i))It(i.La,0,i);else if(fn(i,"readystatechange"),4==Yr(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===f){var u=String(i.I).match(Fn)[1]||null;!u&&re.self&&re.self.location&&(u=re.self.location.protocol.slice(0,-1)),s=!Ro.test(u?u.toLowerCase():"")}n=s}if(n)fn(i,"complete"),fn(i,"success");else{i.m=6;try{var c=2<Yr(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",rs(i)}}finally{Mo(i)}}}function Mo(i,e){if(i.g){ma(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||fn(i,"ready");try{n.onreadystatechange=s}catch{}}}function ma(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(re.clearTimeout(i.A),i.A=null)}function Yr(i){return i.g?i.g.readyState:0}function yo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case wr:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(i){let e="";return er(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function Ps(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Xs(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Gn(i,e,n))}function sr(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ms(i){this.Ga=0,this.j=[],this.l=new ce,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sr("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sr("baseRetryDelayMs",5e3,i),this.hb=sr("retryDelaySeedMs",1e4,i),this.eb=sr("forwardChannelMaxRetries",2,i),this.xa=sr("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Or(i&&i.concurrentRequestLimit),this.Ja=new Ji,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ya(i){if(G(i),3==i.H){var e=i.W++,n=yi(i.I);if(Gn(n,"SID",i.K),Gn(n,"RID",e),Gn(n,"TYPE","terminate"),Nt(i,n),(e=new Yt(i,i.l,e)).L=2,e.A=Di(yi(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&re.Image&&((new Image).src=e.A,n=!0),n||(e.g=Li(e.l,null),e.g.ha(e.A)),e.G=Date.now(),fs(e)}vi(i)}function B(i){i.g&&(hi(i),i.g.cancel(),i.g=null)}function G(i){B(i),i.u&&(re.clearTimeout(i.u),i.u=null),xi(i),i.i.cancel(),i.m&&("number"==typeof i.m&&re.clearTimeout(i.m),i.m=null)}function R(i){if(!ao(i.i)&&!i.m){i.m=!0;var e=i.Na;L||ie(),M||(L(),M=!0),O.add(e,i),i.C=0}}function _e(i,e){var n;n=e?e.m:i.W++;const s=yi(i.I);Gn(s,"SID",i.K),Gn(s,"RID",n),Gn(s,"AID",i.V),Nt(i,s),i.o&&i.s&&Ps(s,i.o,i.s),n=new Yt(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=gn(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),So(i.i,n),ii(n,s,e)}function Nt(i,e){i.na&&er(i.na,function(n,s){Gn(e,s,n)}),i.h&&bo({},function(n,s){Gn(e,s,n)})}function gn(i,e,n){n=Math.min(i.j.length,n);var s=i.h?Ke(i.h.Va,i.h,i):null;e:{var u=i.j;let c=-1;for(;;){const f=["count="+n];-1==c?0<n?(c=u[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let D=!0;for(let P=0;P<n;P++){let U=u[P].g;const Y=u[P].map;if(U-=c,0>U)c=Math.max(0,u[P].g-100),D=!1;else try{Mn(Y,f,"req"+U+"_")}catch{s&&s(Y)}}if(D){s=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function Jr(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;L||ie(),M||(L(),M=!0),O.add(e,i),i.A=0}}function zi(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=ri(Ke(i.Ma,i),ys(i,i.A)),i.A++,0))}function hi(i){null!=i.B&&(re.clearTimeout(i.B),i.B=null)}function $o(i){i.g=new Yt(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=yi(i.wa);Gn(e,"RID","rpc"),Gn(e,"SID",i.K),Gn(e,"AID",i.V),Gn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Gn(e,"TO",i.qa),Gn(e,"TYPE","xmlhttp"),Nt(i,e),i.o&&i.s&&Ps(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.A=Di(yi(e)),n.u=null,n.S=!0,$i(n,i)}function xi(i){null!=i.v&&(re.clearTimeout(i.v),i.v=null)}function Oi(i,e){var n=null;if(i.g==e){xi(i),hi(i),i.g=null;var s=2}else{if(!Ao(i.i,e))return;n=e.F,Qi(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.u?e.u.length:0,e=Date.now()-e.G;var u=i.C;fn(s=dn(),new Vo(s,n)),R(i)}else Jr(i);else if(3==(u=e.s)||0==u&&0<e.ca||!(1==s&&function ee(i,e){return!(Ti(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=ri(Ke(i.Na,i,e),ys(i,i.C)),i.C++,0)))}(i,e)||2==s&&zi(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:is(i,5);break;case 4:is(i,10);break;case 3:is(i,6);break;default:is(i,2)}}function ys(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function is(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=Ke(i.pb,i);n||(n=new jr("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||Gr(n,"https"),Di(n)),function jo(i,e){const n=new ce;if(re.Image){const s=new Image;s.onload=St(ts,n,s,"TestLoadImage: loaded",!0,e),s.onerror=St(ts,n,s,"TestLoadImage: error",!1,e),s.onabort=St(ts,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=St(ts,n,s,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else hr(2);i.H=0,i.h&&i.h.za(e),vi(i),G(i)}function vi(i){if(i.H=0,i.ma=[],i.h){const e=si(i.i);(0!=e.length||0!=i.j.length)&&(it(i.ma,e),it(i.ma,i.j),i.i.i.length=0,Fe(i.j),i.j.length=0),i.h.ya()}}function Ho(i,e,n){var s=n instanceof jr?yi(n):new jr(n);if(""!=s.g)e&&(s.g=e+"."+s.g),To(s,s.m);else{var u=re.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var c=new jr(null);s&&Gr(c,s),e&&(c.g=e),u&&To(c,u),n&&(c.l=n),s=c}return e=i.Da,(n=i.F)&&e&&Gn(s,n,e),Gn(s,"VER",i.ra),Nt(i,s),s}function Li(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vn(i.Ha&&!i.va?new Po({ob:n}):i.va)).Oa(i.J),e}function zo(){}function Go(){if(Zt&&!(10<=Number(bn)))throw Error("Environmental error: no available transport.")}function Ni(i,e){An.call(this),this.g=new ms(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Ut(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ut(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Gi(this)}function Wo(i){zr.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function os(){dt.call(this),this.status=1}function Gi(i){this.g=i}function lo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Us(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)s[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=i.g[3],f=(e=i.g[0])+(c^(n=i.g[1])&((u=i.g[2])^c))+s[0]+3614090360&4294967295;f=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=(n=(u=(c=(e=n+(f<<7&4294967295|f>>>25))+((f=c+(u^e&(n^u))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^c&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(u^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(u^e&(n^u))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^c&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(u^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(u^e&(n^u))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^c&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(u^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(u^e&(n^u))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^c&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^c&(n^u))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^u&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(u^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^c&(n^u))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^u&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(u^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^c&(n^u))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^u&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(u^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^c&(n^u))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^u&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(u^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^u)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(c^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^u)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(c^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^u)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(c^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^u)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(c^e^n)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(c|~n))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(c|~n))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(c|~n))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=n+((f=e+(u^(n|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=c+((f=u+(e^(c|~n))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+c&4294967295}function br(i,e){this.h=e;for(var n=[],s=!0,u=i.length-1;0<=u;u--){var c=0|i[u];s&&c==e||(n[u]=c,s=!1)}this.g=n}(pe=Vn.prototype).Oa=function(i){this.M=i},pe.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yt.g(),this.C=function mi(i){return i.h||(i.h=i.i())}(this.u?this.u:yt),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void eo(this,c)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)n.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())n.set(c,s.get(c))}s=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),u=re.FormData&&i instanceof re.FormData,!(0<=Oe(Xi,e))||s||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of n)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ma(this),0<this.B&&((this.L=function ns(i){return Zt&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=It(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){eo(this,c)}},pe.ua=function(){typeof Pe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))},pe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,fn(this,"complete"),fn(this,"abort"),Mo(this))},pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mo(this,!0)),Vn.$.N.call(this)},pe.La=function(){this.s||(this.G||this.v||this.l?As(this):this.kb())},pe.kb=function(){As(this)},pe.isActive=function(){return!!this.g},pe.da=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pe.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ts(e)}},pe.Ia=function(){return this.m},pe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pe=ms.prototype).ra=8,pe.H=1,pe.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Yt(this,this.l,i);let c=this.s;if(this.U&&(c?(c=Ht(c),Cr(c,this.U)):c=this.U),null!==this.o||this.O||(u.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gn(this,u,e),Gn(n=yi(this.I),"RID",i),Gn(n,"CVER",22),this.F&&Gn(n,"X-HTTP-Session-Id",this.F),Nt(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(Xs(c)))+"&"+e:this.o&&Ps(n,this.o,c)),So(this.i,u),this.bb&&Gn(n,"TYPE","init"),this.P?(Gn(n,"$req",e),Gn(n,"SID","null"),u.aa=!0,ii(u,n,null)):ii(u,n,e),this.H=2}}else 3==this.H&&(i?_e(this,i):0==this.j.length||ao(this.i)||_e(this))},pe.Ma=function(){if(this.u=null,$o(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=ri(Ke(this.jb,this),i)}},pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hr(10),B(this),$o(this))},pe.ib=function(){null!=this.v&&(this.v=null,B(this),zi(this),hr(19))},pe.pb=function(i){i?(this.l.info("Successfully pinged google.com"),hr(2)):(this.l.info("Failed to ping google.com"),hr(1))},pe.isActive=function(){return!!this.h&&this.h.isActive(this)},(pe=zo.prototype).Ba=function(){},pe.Aa=function(){},pe.za=function(){},pe.ya=function(){},pe.isActive=function(){return!0},pe.Va=function(){},Go.prototype.g=function(i,e){return new Ni(i,e)},mt(Ni,An),Ni.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;hr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Ho(i,null,i.Y),R(i)},Ni.prototype.close=function(){ya(this.g)},Ni.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=tr(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&R(e)},Ni.prototype.N=function(){this.g.h=null,delete this.j,ya(this.g),delete this.g,Ni.$.N.call(this)},mt(Wo,zr),mt(os,dt),mt(Gi,zo),Gi.prototype.Ba=function(){fn(this.g,"a")},Gi.prototype.Aa=function(i){fn(this.g,new Wo(i))},Gi.prototype.za=function(i){fn(this.g,new os)},Gi.prototype.ya=function(){fn(this.g,"b")},mt(lo,function Rs(){this.blockSize=-1}),lo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lo.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,u=this.h,c=0;c<e;){if(0==u)for(;c<=n;)Us(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[u++]=i.charCodeAt(c++),u==this.blockSize){Us(this,s),u=0;break}}else for(;c<e;)if(s[u++]=i[c++],u==this.blockSize){Us(this,s),u=0;break}}this.h=u,this.i+=e},lo.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var Bs={};function Ms(i){return-128<=i&&128>i?function Xn(i,e){var n=Bs;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new br([0|e],0>e?-1:0)}):new br([0|i],0>i?-1:0)}function wi(i){if(isNaN(i)||!isFinite(i))return Os;if(0>i)return Vi(wi(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=xs;return new br(e,0)}var xs=4294967296,Os=Ms(0),js=Ms(1),Su=Ms(16777216);function to(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function _o(i){return-1==i.h}function Vi(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new br(n,~i.h).add(js)}function Zo(i,e){return i.add(Vi(e))}function $s(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ea(i,e){this.g=i,this.h=e}function _s(i,e){if(to(e))throw Error("division by zero");if(to(i))return new ea(Os,Os);if(_o(i))return e=_s(Vi(i),e),new ea(Vi(e.g),Vi(e.h));if(_o(e))return e=_s(i,Vi(e)),new ea(Vi(e.g),e.h);if(30<i.g.length){if(_o(i)||_o(e))throw Error("slowDivide_ only works with positive integers.");for(var n=js,s=e;0>=s.X(i);)n=ou(n),s=ou(s);var u=xo(n,1),c=xo(s,1);for(s=xo(s,2),n=xo(n,2);!to(s);){var f=c.add(s);0>=f.X(i)&&(u=u.add(n),c=f),s=xo(s,1),n=xo(n,1)}return e=Zo(i,u.R(e)),new ea(u,e)}for(u=Os;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),f=(c=wi(n)).R(e);_o(f)||0<f.X(i);)f=(c=wi(n-=s)).R(e);to(c)&&(c=js),u=u.add(c),i=Zo(i,f)}return new ea(u,i)}function ou(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new br(n,i.h)}function xo(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,u=[],c=0;c<s;c++)u[c]=0<e?i.D(c+n)>>>e|i.D(c+n+1)<<32-e:i.D(c+n);return new br(u,i.h)}(pe=br.prototype).ea=function(){if(_o(this))return-Vi(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:xs+s)*e,e*=xs}return i},pe.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(to(this))return"0";if(_o(this))return"-"+Vi(this).toString(i);for(var e=wi(Math.pow(i,6)),n=this,s="";;){var u=_s(n,e).g,c=((0<(n=Zo(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(to(n=u))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},pe.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},pe.X=function(i){return _o(i=Zo(this,i))?-1:to(i)?0:1},pe.abs=function(){return _o(this)?Vi(this):this},pe.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,u=0;u<=e;u++){var c=s+(65535&this.D(u))+(65535&i.D(u)),f=(c>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);s=f>>>16,n[u]=(f&=65535)<<16|(c&=65535)}return new br(n,-2147483648&n[n.length-1]?-1:0)},pe.R=function(i){if(to(this)||to(i))return Os;if(_o(this))return _o(i)?Vi(this).R(Vi(i)):Vi(Vi(this).R(i));if(_o(i))return Vi(this.R(Vi(i)));if(0>this.X(Su)&&0>i.X(Su))return wi(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<i.g.length;u++){var c=this.D(s)>>>16,f=65535&this.D(s),D=i.D(u)>>>16,P=65535&i.D(u);n[2*s+2*u]+=f*P,$s(n,2*s+2*u),n[2*s+2*u+1]+=c*P,$s(n,2*s+2*u+1),n[2*s+2*u+1]+=f*D,$s(n,2*s+2*u+1),n[2*s+2*u+2]+=c*D,$s(n,2*s+2*u+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new br(n,0)},pe.gb=function(i){return _s(this,i).h},pe.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new br(n,this.h&i.h)},pe.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new br(n,this.h|i.h)},pe.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new br(n,this.h^i.h)},Go.prototype.createWebChannel=Go.prototype.g,Ni.prototype.send=Ni.prototype.u,Ni.prototype.open=Ni.prototype.m,Ni.prototype.close=Ni.prototype.close,Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,kn.COMPLETE="complete",or.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",An.prototype.listen=An.prototype.O,Vn.prototype.listenOnce=Vn.prototype.P,Vn.prototype.getLastError=Vn.prototype.Sa,Vn.prototype.getLastErrorCode=Vn.prototype.Ia,Vn.prototype.getStatus=Vn.prototype.da,Vn.prototype.getResponseJson=Vn.prototype.Wa,Vn.prototype.getResponseText=Vn.prototype.ja,Vn.prototype.send=Vn.prototype.ha,Vn.prototype.setWithCredentials=Vn.prototype.Oa,lo.prototype.digest=lo.prototype.l,lo.prototype.reset=lo.prototype.reset,lo.prototype.update=lo.prototype.j,br.prototype.add=br.prototype.add,br.prototype.multiply=br.prototype.R,br.prototype.modulo=br.prototype.gb,br.prototype.compare=br.prototype.X,br.prototype.toNumber=br.prototype.ea,br.prototype.toString=br.prototype.toString,br.prototype.getBits=br.prototype.D,br.fromNumber=wi,br.fromString=function qo(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Vi(qo(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=wi(Math.pow(e,8)),s=Os,u=0;u<i.length;u+=8){var c=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+c),e);8>c?(c=wi(Math.pow(e,c)),s=s.R(c).add(wi(f))):s=(s=s.R(n)).add(wi(f))}return s};var su=ve.createWebChannelTransport=function(){return new Go},C=ve.getStatEventTarget=function(){return dn()},Z=ve.ErrorCode=Pi,x=ve.EventType=kn,z=ve.Event=Mt,he=ve.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ot=(ve.FetchXmlHttpFactory=Po,ve.WebChannel=or),Qt=ve.XhrIo=Vn,fr=ve.Md5=lo,jn=ve.Integer=br;const cr="@firebase/firestore";class rn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Tr="10.8.0";const ar=new ye.Yd("@firebase/firestore");function pr(){return ar.logLevel}function vo(i){ar.setLogLevel(i)}function ut(i,...e){if(ar.logLevel<=ye.in.DEBUG){const n=e.map(Ko);ar.debug(`Firestore (${Tr}): ${i}`,...n)}}function Nr(i,...e){if(ar.logLevel<=ye.in.ERROR){const n=e.map(Ko);ar.error(`Firestore (${Tr}): ${i}`,...n)}}function kr(i,...e){if(ar.logLevel<=ye.in.WARN){const n=e.map(Ko);ar.warn(`Firestore (${Tr}): ${i}`,...n)}}function Ko(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Dt(i="Unexpected state"){const e=`FIRESTORE (${Tr}) INTERNAL ASSERTION FAILED: `+i;throw Nr(e),new Error(e)}function $t(i,e){i||Dt()}function wl(i,e){i||Dt()}function ht(i,e){return i}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ue.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class El{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Il{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class _a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qr{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let u=this.i;const c=U=>this.i!==u?(u=this.i,n(U)):Promise.resolve();let f=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Er,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const U=f;e.enqueueRetryable((0,p.Z)(function*(){yield U.promise,yield c(s.currentUser)}))},P=U=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(U=>P(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?P(U):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Er)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t("string"==typeof s.accessToken),new El(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(null===e||"string"==typeof e),new rn(e)}}class Cl{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Pu{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Cl(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class co{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=c=>{null!=c.error&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const u=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>u(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?u(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($t("string"==typeof n.token),this.R=n.token,new Hs(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function va(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class ai{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=va(40);for(let c=0;c<u.length;++c)s.length<20&&u[c]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[c]%62))}return s}}function Sn(i,e){return i<e?-1:i>e?1:0}function ta(i,e,n){return i.length===e.length&&i.every((s,u)=>n(s,e[u]))}function xa(i){return i+"\0"}class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new lt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new lt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new jt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Sn(this.nanoseconds,e.nanoseconds):Sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tn(e)}static min(){return new tn(new jt(0,0))}static max(){return new tn(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zs{constructor(e,n,s){void 0===n?n=0:n>e.length&&Dt(),void 0===s?s=e.length-n:s>e.length-n&&Dt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===zs.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let u=0;u<s;u++){const c=e.get(u),f=n.get(u);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xn extends zs{construct(e,n,s){return new xn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(je.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(u=>u.length>0))}return new xn(n)}static emptyPath(){return new xn([])}}const wa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends zs{construct(e,n,s){return new $r(e,n,s)}static isValidIdentifier(e){return wa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $r(["__name__"])}static fromServerFormat(e){const n=[];let s="",u=0;const c=()=>{if(0===s.length)throw new lt(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new lt(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const P=e[u+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new lt(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=P,u+=2}else"`"===D?(f=!f,u++):"."!==D||f?(s+=D,u++):(c(),u++)}if(c(),f)throw new lt(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(n)}static emptyPath(){return new $r([])}}class At{constructor(e){this.path=e}static fromPath(e){return new At(xn.fromString(e))}static fromName(e){return new At(xn.fromString(e).popFirst(5))}static empty(){return new At(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return xn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new xn(e.slice()))}}class j{constructor(e,n,s,u){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=u}}function E(i){return i.fields.find(e=>2===e.kind)}function S(i){return i.fields.filter(e=>2!==e.kind)}j.UNKNOWN_ID=-1;class me{constructor(e,n){this.fieldPath=e,this.kind=n}}class Me{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Me(0,gr.min())}}function Lt(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=tn.fromTimestamp(1e9===s?new jt(n+1,0):new jt(n,s));return new gr(u,At.empty(),e)}function On(i){return new gr(i.readTime,i.key,-1)}class gr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new gr(tn.min(),At.empty(),-1)}static max(){return new gr(tn.max(),At.empty(),-1)}}function Un(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=At.comparator(i.documentKey,e.documentKey),0!==n?n:Sn(i.largestBatchId,e.largestBatchId))}const lc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class na{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ho(i){return ra.apply(this,arguments)}function ra(){return ra=(0,p.Z)(function*(i){if(i.code!==je.FAILED_PRECONDITION||i.message!==lc)throw i;ut("LocalStore","Unexpectedly lost primary lease")}),ra.apply(this,arguments)}class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Le((s,u)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,u)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Le?n:Le.resolve(n)}catch(n){return Le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.reject(n)}static resolve(e){return new Le((n,s)=>{n(e)})}static reject(e){return new Le((n,s)=>{s(e)})}static waitFor(e){return new Le((n,s)=>{let u=0,c=0,f=!1;e.forEach(D=>{++u,D.next(()=>{++c,f&&c===u&&n()},P=>s(P))}),f=!0,c===u&&n()})}static or(e){let n=Le.resolve(!1);for(const s of e)n=n.next(u=>u?Le.resolve(u):s());return n}static forEach(e,n){const s=[];return e.forEach((u,c)=>{s.push(n.call(this,u,c))}),this.waitFor(s)}static mapArray(e,n){return new Le((s,u)=>{const c=e.length,f=new Array(c);let D=0;for(let P=0;P<c;P++){const U=P;n(e[U]).next(Y=>{f[U]=Y,++D,D===c&&s(f)},Y=>u(Y))}})}static doWhile(e,n){return new Le((s,u)=>{const c=()=>{!0===e()?n().next(()=>{c()},u):s()};c()})}}class Ru{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Er,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ei(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=au(s.target.error);this.V.reject(new Ei(e,u))}}static open(e,n,s,u){try{return new Ru(n,e.transaction(u,s))}catch(c){throw new Ei(n,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Oa(n)}}class ss{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===ss.S((0,ue.z$)())&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ut("SimpleDb","Removing database:",e),wo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ue.hl)())return!1;if(ss.C())return!0;const e=(0,ue.z$)(),n=ss.S(e),s=0<n&&n<10,u=ss.v(e),c=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,p.Z)(function*(){return n.db||(ut("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,u)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{u(new Ei(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const D=f.target.error;u("VersionError"===D.name?new lt(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new lt(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Ei(e,D))},c.onupgradeneeded=f=>{ut("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.p.N(f.target.result,c.transaction,f.oldVersion,n.version).next(()=>{ut("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,u){var c=this;return(0,p.Z)(function*(){const f="readonly"===n;let D=0;for(;;){++D;try{c.db=yield c.O(e);const P=Ru.open(c.db,e,f?"readonly":"readwrite",s),U=u(P).next(Y=>(P.g(),Y)).catch(Y=>(P.abort(Y),Le.reject(Y))).toPromise();return U.catch(()=>{}),yield P.m,U}catch(P){const U=P,Y="FirebaseError"!==U.name&&D<3;if(ut("SimpleDb","Transaction failed with error:",U.message,"Retrying:",Y),c.close(),!Y)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cc{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return wo(this.k.delete())}}class Ei extends lt{constructor(e,n){super(je.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function no(i){return"IndexedDbTransactionError"===i.name}class Oa{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(ut("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),wo(s)}add(e){return ut("SimpleDb","ADD",this.store.name,e,e),wo(this.store.add(e))}get(e){return wo(this.store.get(e)).next(n=>(void 0===n&&(n=null),ut("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ut("SimpleDb","DELETE",this.store.name,e),wo(this.store.delete(e))}count(){return ut("SimpleDb","COUNT",this.store.name),wo(this.store.count())}W(e,n){const s=this.options(e,n),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const c=u.getAll(s.range);return new Le((f,D)=>{c.onerror=P=>{D(P.target.error)},c.onsuccess=P=>{f(P.target.result)}})}{const c=this.cursor(s),f=[];return this.G(c,(D,P)=>{f.push(P)}).next(()=>f)}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new Le((u,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{u(f.target.result)}})}H(e,n){ut("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const u=this.cursor(s);return this.G(u,(c,f,D)=>D.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const u=this.cursor(s);return this.G(u,n)}Z(e){const n=this.cursor({});return new Le((s,u)=>{n.onerror=c=>{const f=au(c.target.error);u(f)},n.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(D=>{D?f.continue():s()}):s()}})}G(e,n){const s=[];return new Le((u,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const D=f.target.result;if(!D)return void u();const P=new cc(D),U=n(D.primaryKey,D.value,P);if(U instanceof Le){const Y=U.catch(ae=>(P.done(),Le.reject(ae)));s.push(Y)}P.isDone?u():null===P.$?D.continue():D.continue(P.$)}}).next(()=>Le.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function wo(i){return new Le((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const u=au(s.target.error);n(u)}})}let vs=!1;function au(i){const e=ss.S((0,ue.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vs||(vs=!0,setTimeout(()=>{throw s},0)),s}}return i}class dc{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;ut("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){n.task=null;try{ut("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(s){no(s)?ut("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield ho(s)}yield n.ee(6e4)}))}}class hc{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,p.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let u=n,c=!0;return Le.doWhile(()=>!0===c&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return ut("IndexBackfiller",`Processing collection: ${f}`),this.re(e,f,u).next(D=>{u-=D,s.add(f)});c=!1})).next(()=>n-u)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(u=>this.localStore.localDocuments.getNextDocuments(e,n,u,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.ie(u,c)).next(D=>(ut("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,n,D))).next(()=>f.size)}))}ie(e,n){let s=e;return n.changes.forEach((u,c)=>{const f=On(c);Un(f,s)>0&&(s=f)}),new gr(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let as=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=u=>this.se(u),this.oe=u=>s.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function ia(i){return null==i}function Ea(i){return 0===i&&1/i==-1/0}function fc(i){return"number"==typeof i&&Number.isInteger(i)&&!Ea(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function v(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=y(e)),e=b(i.get(n),e);return y(e)}function b(i,e){let n=e;const s=i.length;for(let u=0;u<s;u++){const c=i.charAt(u);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function y(i){return i+"\x01\x01"}function A(i){const e=i.length;if($t(e>=2),2===e)return $t("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),xn.emptyPath();const n=e-2,s=[];let u="";for(let c=0;c<e;){const f=i.indexOf("\x01",c);switch((f<0||f>n)&&Dt(),i.charAt(f+1)){case"\x01":const D=i.substring(c,f);let P;0===u.length?P=D:(u+=D,P=u,u=""),s.push(P);break;case"\x10":u+=i.substring(c,f),u+="\0";break;case"\x11":u+=i.substring(c,f+1);break;default:Dt()}c=f+2}return new xn(s)}const k=["userId","batchId"];function X(i,e){return[i,v(e)]}function de(i,e,n){return[i,v(e),n]}const qe={},$e=["prefixPath","collectionGroup","readTime","documentId"],Vt=["prefixPath","collectionGroup","documentId"],Bn=["collectionGroup","readTime","prefixPath","documentId"],Yn=["canonicalId","targetId"],Wn=["targetId","path"],xr=["path","targetId"],Na=["collectionId","parent"],uu=["indexId","uid"],Mu=["uid","sequenceNumber"],Ia=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pc=["indexId","uid","orderedDocumentKey"],ch=["userId","collectionPath","documentId"],gc=["userId","collectionPath","largestBatchId"],oa=["userId","collectionGroup","largestBatchId"],dh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xu=[...dh,"documentOverlays"],Dl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lu=Dl,nd=[...lu,"indexConfiguration","indexState","indexEntries"];class Ou extends na{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function ki(i,e){const n=ht(i);return ss.M(n.ae,e)}function mc(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ws(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ka(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ui{constructor(e,n){this.comparator=e,this.root=n||Ui.EMPTY}insert(e,n){return new ui(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return n+s.left.size;u<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ca(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ca(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ca(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ca(this.root,e,this.comparator,!0)}}class Ca{constructor(e,n,s,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&u&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,n,s,u,c){this.key=e,this.value=n,this.color=s??Ui.RED,this.left=u??Ui.EMPTY,this.right=c??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,u,c){return new Ui(e??this.key,n??this.value,s??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let u=this;const c=s(e,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(e,n,s),null):0===c?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Ui.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,n,s,u,c){return this}insert(e,n,s){return new Ui(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(e){this.comparator=e,this.data=new ui(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hh(this.data.getIterator())}getIteratorFrom(e){return new hh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Xr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,c=s.getNext().key;if(0!==this.comparator(u,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xr(this.comparator);return n.data=e,n}}class hh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nu(i){return i.hasNext()?i.getNext():void 0}class Yo{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Yo([])}unionWith(e){let n=new Xr($r.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Yo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class fh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function rd(){return typeof atob<"u"}class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fh("Invalid base64 string: "+c):c}}(e);return new Ai(n)}static fromUint8Array(e){const n=function(u){let c="";for(let f=0;f<u.length;++f)c+=String.fromCharCode(u[f]);return c}(e);return new Ai(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let u=0;u<n.length;u++)s[u]=n.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const id=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(i){if($t(!!i),"string"==typeof i){let e=0;const n=id.exec(i);if($t(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:li(i.seconds),nanos:li(i.nanos)}}function li(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ks(i){return"string"==typeof i?Ai.fromBase64String(i):Ai.fromUint8Array(i)}function bl(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cu(i){const e=i.mapValue.fields.__previous_value__;return bl(e)?cu(e):e}function ku(i){const e=Ns(i.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}class Tl{constructor(e,n,s,u,c,f,D,P,U){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=u,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=P,this.useFetchStreams=U}}class Eo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Eo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Eo&&e.projectId===this.projectId&&e.database===this.database}}const Fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Da={nullValue:"NULL_VALUE"};function Fs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bl(i)?4:Fu(i)?9007199254740991:10:Dt()}function Es(i,e){if(i===e)return!0;const n=Fs(i);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ku(i).isEqual(ku(e));case 3:return function(u,c){if("string"==typeof u.timestampValue&&"string"==typeof c.timestampValue&&u.timestampValue.length===c.timestampValue.length)return u.timestampValue===c.timestampValue;const f=Ns(u.timestampValue),D=Ns(c.timestampValue);return f.seconds===D.seconds&&f.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,ks(i.bytesValue).isEqual(ks(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,c){return li(u.geoPointValue.latitude)===li(c.geoPointValue.latitude)&&li(u.geoPointValue.longitude)===li(c.geoPointValue.longitude)}(i,e);case 2:return function(u,c){if("integerValue"in u&&"integerValue"in c)return li(u.integerValue)===li(c.integerValue);if("doubleValue"in u&&"doubleValue"in c){const f=li(u.doubleValue),D=li(c.doubleValue);return f===D?Ea(f)===Ea(D):isNaN(f)&&isNaN(D)}return!1}(i,e);case 9:return ta(i.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(u,c){const f=u.mapValue.fields||{},D=c.mapValue.fields||{};if(mc(f)!==mc(D))return!1;for(const P in f)if(f.hasOwnProperty(P)&&(void 0===D[P]||!Es(f[P],D[P])))return!1;return!0}(i,e);default:return Dt()}var c}function La(i,e){return void 0!==(i.values||[]).find(n=>Es(n,e))}function Gs(i,e){if(i===e)return 0;const n=Fs(i),s=Fs(e);if(n!==s)return Sn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sn(i.booleanValue,e.booleanValue);case 2:return function(c,f){const D=li(c.integerValue||c.doubleValue),P=li(f.integerValue||f.doubleValue);return D<P?-1:D>P?1:D===P?0:isNaN(D)?isNaN(P)?0:-1:1}(i,e);case 3:return od(i.timestampValue,e.timestampValue);case 4:return od(ku(i),ku(e));case 5:return Sn(i.stringValue,e.stringValue);case 6:return function(c,f){const D=ks(c),P=ks(f);return D.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const D=c.split("/"),P=f.split("/");for(let U=0;U<D.length&&U<P.length;U++){const Y=Sn(D[U],P[U]);if(0!==Y)return Y}return Sn(D.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const D=Sn(li(c.latitude),li(f.latitude));return 0!==D?D:Sn(li(c.longitude),li(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,f){const D=c.values||[],P=f.values||[];for(let U=0;U<D.length&&U<P.length;++U){const Y=Gs(D[U],P[U]);if(Y)return Y}return Sn(D.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,f){if(c===Fa.mapValue&&f===Fa.mapValue)return 0;if(c===Fa.mapValue)return 1;if(f===Fa.mapValue)return-1;const D=c.fields||{},P=Object.keys(D),U=f.fields||{},Y=Object.keys(U);P.sort(),Y.sort();for(let ae=0;ae<P.length&&ae<Y.length;++ae){const be=Sn(P[ae],Y[ae]);if(0!==be)return be;const Ge=Gs(D[P[ae]],U[Y[ae]]);if(0!==Ge)return Ge}return Sn(P.length,Y.length)}(i.mapValue,e.mapValue);default:throw Dt()}}function od(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Sn(i,e);const n=Ns(i),s=Ns(e),u=Sn(n.seconds,s.seconds);return 0!==u?u:Sn(n.nanos,s.nanos)}function Va(i){return yc(i)}function yc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Ns(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ks(i.bytesValue).toBase64():"referenceValue"in i?At.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",u=!0;for(const c of n.values||[])u?u=!1:s+=",",s+=yc(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let u="{",c=!0;for(const f of s)c?c=!1:u+=",",u+=`${f}:${yc(n.fields[f])}`;return u+"}"}(i.mapValue):Dt()}function sa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function sd(i){return!!i&&"integerValue"in i}function Ua(i){return!!i&&"arrayValue"in i}function aa(i){return!!i&&"nullValue"in i}function ph(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sl(i){return!!i&&"mapValue"in i}function Ba(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ws(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ba(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ba(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Fu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ad(i){return"nullValue"in i?Da:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?sa(Eo.empty(),At.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Dt()}function Io(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?sa(Eo.empty(),At.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Fa:Dt()}function _c(i,e){const n=Gs(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function vc(i,e){const n=Gs(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Bi{constructor(e){this.value=e}static empty(){return new Bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(n)}setAll(e){let n=$r.emptyPath(),s={},u=[];e.forEach((f,D)=>{if(!n.isImmediateParentOf(D)){const P=this.getFieldsMap(n);this.applyChanges(P,s,u),s={},u=[],n=D.popLast()}f?s[D.lastSegment()]=Ba(f):u.push(D.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,u)}delete(e){const n=this.field(e.popLast());Sl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=n.mapValue.fields[e.get(s)];Sl(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,s){ws(n,(u,c)=>e[u]=c);for(const u of s)delete e[u]}clone(){return new Bi(Ba(this.value))}}function gh(i){const e=[];return ws(i.fields,(n,s)=>{const u=new $r([n]);if(Sl(s)){const c=gh(s.mapValue).fields;if(0===c.length)e.push(u);else for(const f of c)e.push(u.child(f))}else e.push(u)}),new Yo(e)}class ei{constructor(e,n,s,u,c,f,D){this.key=e,this.documentType=n,this.version=s,this.readTime=u,this.createTime=c,this.data=f,this.documentState=D}static newInvalidDocument(e){return new ei(e,0,tn.min(),tn.min(),tn.min(),Bi.empty(),0)}static newFoundDocument(e,n,s,u){return new ei(e,1,n,tn.min(),s,u,0)}static newNoDocument(e,n){return new ei(e,2,n,tn.min(),tn.min(),Bi.empty(),0)}static newUnknownDocument(e,n){return new ei(e,3,n,tn.min(),tn.min(),Bi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ws{constructor(e,n){this.position=e,this.inclusive=n}}function ja(i,e,n){let s=0;for(let u=0;u<i.position.length;u++){const c=e[u],f=i.position[u];if(s=c.field.isKeyField()?At.comparator(At.fromName(f.referenceValue),n.key):Gs(f,n.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function du(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Es(i.position[n],e.position[n]))return!1;return!0}class qs{constructor(e,n="asc"){this.field=e,this.dir=n}}function wc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Ec{}class ir extends Ec{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new $f(e,n,s):"array-contains"===n?new Pl(e,s):"in"===n?new Eh(e,s):"not-in"===n?new us(e,s):"array-contains-any"===n?new Lu(e,s):new ir(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Hf(e,s):new ro(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Gs(n,this.value)):null!==n&&Fs(this.value)===Fs(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends Ec{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Qr(e,n)}matches(e){return $a(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function $a(i){return"and"===i.op}function mh(i){return"or"===i.op}function yh(i){return _h(i)&&$a(i)}function _h(i){for(const e of i.filters)if(e instanceof Qr)return!1;return!0}function vh(i){if(i instanceof ir)return i.field.canonicalString()+i.op.toString()+Va(i.value);if(yh(i))return i.filters.map(e=>vh(e)).join(",");{const e=i.filters.map(n=>vh(n)).join(",");return`${i.op}(${e})`}}function Ic(i,e){return i instanceof ir?(s=i,(u=e)instanceof ir&&s.op===u.op&&s.field.isEqual(u.field)&&Es(s.value,u.value)):i instanceof Qr?function(s,u){return u instanceof Qr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((c,f,D)=>c&&Ic(f,u.filters[D]),!0)}(i,e):void Dt();var s,u}function jf(i,e){const n=i.filters.concat(e);return Qr.create(n,i.op)}function hu(i){return i instanceof ir?`${(n=i).field.canonicalString()} ${n.op} ${Va(n.value)}`:i instanceof Qr?function(n){return n.op.toString()+" {"+n.getFilters().map(hu).join(" ,")+"}"}(i):"Filter";var n}class $f extends ir{constructor(e,n,s){super(e,n,s),this.key=At.fromName(s.referenceValue)}matches(e){const n=At.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hf extends ir{constructor(e,n){super(e,"in",n),this.keys=wh(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ro extends ir{constructor(e,n){super(e,"not-in",n),this.keys=wh(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wh(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>At.fromName(s.referenceValue))}class Pl extends ir{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ua(n)&&La(n.arrayValue,this.value)}}class Eh extends ir{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&La(this.value.arrayValue,n)}}class us extends ir{constructor(e,n){super(e,"not-in",n)}matches(e){if(La(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!La(this.value.arrayValue,n)}}class Lu extends ir{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ua(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>La(this.value.arrayValue,s))}}class Ih{constructor(e,n=null,s=[],u=[],c=null,f=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=u,this.limit=c,this.startAt=f,this.endAt=D,this.ce=null}}function Vu(i,e=null,n=[],s=[],u=null,c=null,f=null){return new Ih(i,e,n,s,u,c,f)}function Zs(i){const e=ht(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>vh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),ia(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Va(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Va(s)).join(",")),e.ce=n}return e.ce}function Rl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!wc(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ic(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!du(i.startAt,e.startAt)&&du(i.endAt,e.endAt)}function Cc(i){return At.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Dc(i,e){return i.filters.filter(n=>n instanceof ir&&n.field.isEqual(e))}function zf(i,e,n){let s=Da,u=!0;for(const c of Dc(i,e)){let f=Da,D=!0;switch(c.op){case"<":case"<=":f=ad(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,D=!1;break;case"!=":case"not-in":f=Da}_c({value:s,inclusive:u},{value:f,inclusive:D})<0&&(s=f,u=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=n.position[c];_c({value:s,inclusive:u},{value:f,inclusive:n.inclusive})<0&&(s=f,u=n.inclusive);break}return{value:s,inclusive:u}}function ls(i,e,n){let s=Fa,u=!0;for(const c of Dc(i,e)){let f=Fa,D=!0;switch(c.op){case">=":case">":f=Io(c.value),D=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,D=!1;break;case"!=":case"not-in":f=Fa}vc({value:s,inclusive:u},{value:f,inclusive:D})>0&&(s=f,u=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=n.position[c];vc({value:s,inclusive:u},{value:f,inclusive:n.inclusive})>0&&(s=f,u=n.inclusive);break}return{value:s,inclusive:u}}class Ks{constructor(e,n=null,s=[],u=[],c=null,f="F",D=null,P=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=u,this.limit=c,this.limitType=f,this.startAt=D,this.endAt=P,this.le=null,this.he=null,this.Pe=null}}function fu(i,e,n,s,u,c,f,D){return new Ks(i,e,n,s,u,c,f,D)}function pu(i){return new Ks(i)}function Ml(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ud(i){return null!==i.collectionGroup}function Ha(i){const e=ht(i);if(null===e.le){e.le=[];const n=new Set;for(const c of e.explicitOrderBy)e.le.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let D=new Xr($r.comparator);return f.filters.forEach(P=>{P.getFlattenedFilters().forEach(U=>{U.isInequality()&&(D=D.add(U.field))})}),D})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.le.push(new qs(c,s))}),n.has($r.keyField().canonicalString())||e.le.push(new qs($r.keyField(),s))}return e.le}function Qo(i){const e=ht(i);return e.he||(e.he=function ld(i,e){if("F"===i.limitType)return Vu(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new qs(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new Ws(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ws(i.startAt.position,i.startAt.inclusive):null;return Vu(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,Ha(i))),e.he}function cd(i,e){const n=i.filters.concat([e]);return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Uu(i,e,n){return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function gu(i,e){return Rl(Qo(i),Qo(e))&&i.limitType===e.limitType}function bc(i){return`${Zs(Qo(i))}|lt:${i.limitType}`}function za(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(u=>hu(u)).join(", ")}]`),ia(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(u=>{return`${(f=u).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(u=>Va(u)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(u=>Va(u)).join(",")),`Target(${s})`}(Qo(i))}; limitType=${i.limitType})`}function ba(i,e){return e.isFoundDocument()&&function(s,u){const c=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):At.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,u){for(const c of Ha(s))if(!c.field.isKeyField()&&null===u.data.field(c.field))return!1;return!0}(i,e)&&function(s,u){for(const c of s.filters)if(!c.matches(u))return!1;return!0}(i,e)&&(u=e,!((s=i).startAt&&!function(f,D,P){const U=ja(f,D,P);return f.inclusive?U<=0:U<0}(s.startAt,Ha(s),u)||s.endAt&&!function(f,D,P){const U=ja(f,D,P);return f.inclusive?U>=0:U>0}(s.endAt,Ha(s),u)));var s,u}function xl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Bu(i){return(e,n)=>{let s=!1;for(const u of Ha(i)){const c=Ch(u,e,n);if(0!==c)return c;s=s||u.field.isKeyField()}return 0}}function Ch(i,e,n){const s=i.field.isKeyField()?At.comparator(e.key,n.key):function(c,f,D){const P=f.data.field(c),U=D.data.field(c);return null!==P&&null!==U?Gs(P,U):Dt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Dt()}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[u,c]of s)if(this.equalsFn(u,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],e))return void(u[c]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[n]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,s)=>{for(const[u,c]of s)e(u,c)})}isEmpty(){return ka(this.inner)}size(){return this.innerSize}}const dd=new ui(At.comparator);function Co(){return dd}const hd=new ui(At.comparator);function Ol(...i){let e=hd;for(const n of i)e=e.insert(n.key,n);return e}function fd(i){let e=hd;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Jo(){return Nl()}function ju(){return Nl()}function Nl(){return new ua(i=>i.toString(),(i,e)=>i.isEqual(e))}const _=new ui(At.comparator),h=new Xr(At.comparator);function g(...i){let e=h;for(const n of i)e=e.add(n);return e}const I=new Xr(Sn);function H(){return I}function ne(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ea(e)?"-0":e}}function Ae(i){return{integerValue:""+i}}function Ye(i,e){return fc(e)?Ae(e):ne(i,e)}class ft{constructor(){this._=void 0}}function en(i,e,n){return i instanceof Wi?function(u,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return c&&bl(c)&&(c=cu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof Is?kl(i,e):i instanceof Ga?$u(i,e):function(u,c){const f=yr(u,c),D=Dh(f)+Dh(u.Ie);return sd(f)&&sd(u.Ie)?Ae(D):ne(u.serializer,D)}(i,e)}function mn(i,e,n){return i instanceof Is?kl(i,e):i instanceof Ga?$u(i,e):n}function yr(i,e){return i instanceof Hu?sd(s=e)||(c=s)&&"doubleValue"in c?e:{integerValue:0}:null;var s,c}class Wi extends ft{}class Is extends ft{constructor(e){super(),this.elements=e}}function kl(i,e){const n=zu(e);for(const s of i.elements)n.some(u=>Es(u,s))||n.push(s);return{arrayValue:{values:n}}}class Ga extends ft{constructor(e){super(),this.elements=e}}function $u(i,e){let n=zu(e);for(const s of i.elements)n=n.filter(u=>!Es(u,s));return{arrayValue:{values:n}}}class Hu extends ft{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Dh(i){return li(i.integerValue||i.doubleValue)}function zu(i){return Ua(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Fl{constructor(e,n){this.field=e,this.transform=n}}class bh{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pd(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Gu{}function Ll(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new mu(i.key,Ii.none()):new Ta(i.key,i.data,Ii.none());{const n=i.data,s=Bi.empty();let u=new Xr($r.comparator);for(let c of e.fields)if(!u.has(c)){let f=n.field(c);null===f&&c.length>1&&(c=c.popLast(),f=n.field(c)),null===f?s.delete(c):s.set(c,f),u=u.add(c)}return new Wa(i.key,s,new Yo(u.toArray()),Ii.none())}}function Th(i,e,n){i instanceof Ta?function(u,c,f){const D=u.value.clone(),P=gd(u.fieldTransforms,c,f.transformResults);D.setAll(P),c.convertToFoundDocument(f.version,D).setHasCommittedMutations()}(i,e,n):i instanceof Wa?function(u,c,f){if(!pd(u.precondition,c))return void c.convertToUnknownDocument(f.version);const D=gd(u.fieldTransforms,c,f.transformResults),P=c.data;P.setAll(qf(u)),P.setAll(D),c.convertToFoundDocument(f.version,P).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Tc(i,e,n,s){return i instanceof Ta?function(c,f,D,P){if(!pd(c.precondition,f))return D;const U=c.value.clone(),Y=md(c.fieldTransforms,P,f);return U.setAll(Y),f.convertToFoundDocument(f.version,U).setHasLocalMutations(),null}(i,e,n,s):i instanceof Wa?function(c,f,D,P){if(!pd(c.precondition,f))return D;const U=md(c.fieldTransforms,P,f),Y=f.data;return Y.setAll(qf(c)),Y.setAll(U),f.convertToFoundDocument(f.version,Y).setHasLocalMutations(),null===D?null:D.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ae=>ae.field))}(i,e,n,s):(D=n,pd(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):D);var f,D}function Qg(i,e){let n=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),c=yr(s.transform,u||null);null!=c&&(null===n&&(n=Bi.empty()),n.set(s.field,c))}return n||null}function Wf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===u||s&&u&&ta(s,u,(c,f)=>function Gf(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(s=i.transform)instanceof Is&&u instanceof Is||s instanceof Ga&&u instanceof Ga?ta(s.elements,u.elements,Es):s instanceof Hu&&u instanceof Hu?Es(s.Ie,u.Ie):s instanceof Wi&&u instanceof Wi);var s,u}(c,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,u}class Ta extends Gu{constructor(e,n,s,u=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Wa extends Gu{constructor(e,n,s,u,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qf(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function gd(i,e,n){const s=new Map;$t(i.length===n.length);for(let u=0;u<n.length;u++){const c=i[u],f=c.transform,D=e.data.field(c.field);s.set(c.field,mn(f,D,n[u]))}return s}function md(i,e,n){const s=new Map;for(const u of i){const c=u.transform,f=n.data.field(u.field);s.set(u.field,en(c,f,e))}return s}class mu extends Gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zf extends Gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kf{constructor(e,n,s,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(e.key)&&Th(c,e,s[u])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Tc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Tc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ju();return this.mutations.forEach(u=>{const c=e.get(u.key),f=c.overlayedDocument;let D=this.applyToLocalView(f,c.mutatedFields);D=n.has(u.key)?null:D;const P=Ll(f,D);null!==P&&s.set(u.key,P),f.isValidDocument()||f.convertToNoDocument(tn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),g())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,s)=>Wf(n,s))&&ta(this.baseMutations,e.baseMutations,(n,s)=>Wf(n,s))}}class Yf{constructor(e,n,s,u){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=u}static from(e,n,s){$t(e.mutations.length===s.length);let u=_;const c=e.mutations;for(let f=0;f<c.length;f++)u=u.insert(c[f].key,s[f].version);return new Yf(e,n,s,u)}}class Ah{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class b_{constructor(e,n){this.count=e,this.unchangedNames=n}}var fo,Fr;function Jf(i){switch(i){default:return Dt();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function Jg(i){if(void 0===i)return Nr("GRPC error has no .code"),je.UNKNOWN;switch(i){case fo.OK:return je.OK;case fo.CANCELLED:return je.CANCELLED;case fo.UNKNOWN:return je.UNKNOWN;case fo.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case fo.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case fo.INTERNAL:return je.INTERNAL;case fo.UNAVAILABLE:return je.UNAVAILABLE;case fo.UNAUTHENTICATED:return je.UNAUTHENTICATED;case fo.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case fo.NOT_FOUND:return je.NOT_FOUND;case fo.ALREADY_EXISTS:return je.ALREADY_EXISTS;case fo.PERMISSION_DENIED:return je.PERMISSION_DENIED;case fo.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case fo.ABORTED:return je.ABORTED;case fo.OUT_OF_RANGE:return je.OUT_OF_RANGE;case fo.UNIMPLEMENTED:return je.UNIMPLEMENTED;case fo.DATA_LOSS:return je.DATA_LOSS;default:return Dt()}}(Fr=fo||(fo={}))[Fr.OK=0]="OK",Fr[Fr.CANCELLED=1]="CANCELLED",Fr[Fr.UNKNOWN=2]="UNKNOWN",Fr[Fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fr[Fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fr[Fr.NOT_FOUND=5]="NOT_FOUND",Fr[Fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fr[Fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fr[Fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fr[Fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fr[Fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fr[Fr.ABORTED=10]="ABORTED",Fr[Fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fr[Fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fr[Fr.INTERNAL=13]="INTERNAL",Fr[Fr.UNAVAILABLE=14]="UNAVAILABLE",Fr[Fr.DATA_LOSS=15]="DATA_LOSS";function Cs(){return new TextEncoder}const Xf=new jn([4294967295,4294967295],0);function ep(i){const e=Cs().encode(i),n=new fr;return n.update(e),new Uint8Array(n.digest())}function Ph(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new jn([n,s],0),new jn([u,c],0)]}class No{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new yu(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=jn.fromNumber(this.Te)}de(e,n,s){let u=e.add(n.multiply(jn.fromNumber(s)));return 1===u.compare(Xf)&&(u=new jn([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=ep(e),[s,u]=Ph(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,u,c);if(!this.Ae(f))return!1}return!0}static create(e,n,s){const u=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new No(c,u,n);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.Te)return;const n=ep(e),[s,u]=Ph(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,u,c);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ac{constructor(e,n,s,u,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const u=new Map;return u.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ac(tn.min(),u,new ui(Sn),Co(),g())}}class Sc{constructor(e,n,s,u,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Sc(s,n,g(),g(),g())}}class Rh{constructor(e,n,s,u){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=u}}class tp{constructor(e,n){this.targetId=e,this.fe=n}}class Xg{constructor(e,n,s=Ai.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=u}}class np{constructor(){this.ge=0,this.pe=em(),this.ye=Ai.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=g(),n=g(),s=g();return this.pe.forEach((u,c)=>{switch(c){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:s=s.add(u);break;default:Dt()}}),new Sc(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=em()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,$t(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class T_{constructor(e){this.Le=e,this.ke=new Map,this.qe=Co(),this.Qe=rp(),this.Ke=new ui(Sn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Dt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,s=e.fe.count,u=this.Ye(n);if(u){const c=u.target;if(Cc(c))if(0===s){const f=new At(c.path);this.We(n,f,ei.newNoDocument(f,tn.min()))}else $t(1===s);else{const f=this.Ze(n);if(f!==s){const D=this.Xe(e),P=D?this.et(D,e,f):1;0!==P&&(this.He(n),this.Ke=this.Ke.insert(n,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:c=0}=n;let f,D;try{f=ks(s).toUint8Array()}catch(P){if(P instanceof fh)return kr("Decoding the base64 bloom filter in existence filter failed ("+P.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw P}try{D=new No(f,u,c)}catch(P){return kr(P instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",P),null}return 0===D.Te?null:D}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let u=0;return s.forEach(c=>{const f=this.Le.nt(),D=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(D)||(this.We(n,c,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((c,f)=>{const D=this.Ye(f);if(D){if(c.current&&Cc(D.target)){const P=new At(D.target.path);null!==this.qe.get(P)||this.st(f,P)||this.We(f,P,ei.newNoDocument(P,e))}c.De&&(n.set(f,c.ve()),c.Fe())}});let s=g();this.Qe.forEach((c,f)=>{let D=!0;f.forEachWhile(P=>{const U=this.Ye(P);return!U||"TargetPurposeLimboResolution"===U.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.qe.forEach((c,f)=>f.setReadTime(e));const u=new Ac(e,n,this.Ke,this.qe,s);return this.qe=Co(),this.Qe=rp(),this.Ke=new ui(Sn),u}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new np,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Xr(Sn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ut("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new np),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rp(){return new ui(At.comparator)}function em(){return new ui(At.comparator)}const A_={asc:"ASCENDING",desc:"DESCENDING"},ip={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},op={and:"AND",or:"OR"};class S_{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vl(i,e){return i.useProto3Json||ia(e)?e:{value:e}}function Pc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function nm(i,e){return Pc(i,e.toTimestamp())}function qi(i){return $t(!!i),tn.fromTimestamp(function(n){const s=Ns(n);return new jt(s.seconds,s.nanos)}(i))}function Mh(i,e){return Wu(i,e).canonicalString()}function Wu(i,e){const n=(u=i,new xn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?n:n.child(e)}function yd(i){const e=xn.fromString(i);return $t(lp(e)),e}function Rc(i,e){return Mh(i.databaseId,e.path)}function la(i,e){const n=yd(e);if(n.get(1)!==i.databaseId.projectId)throw new lt(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new lt(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new At(im(n))}function _d(i,e){return Mh(i.databaseId,e)}function rm(i){const e=yd(i);return 4===e.length?xn.emptyPath():im(e)}function sp(i){return new xn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function im(i){return $t(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function om(i,e,n){return{name:Rc(i,e),fields:n.value.mapValue.fields}}function sm(i,e,n){const s=la(i,e.name),u=qi(e.updateTime),c=e.createTime?qi(e.createTime):tn.min(),f=new Bi({mapValue:{fields:e.fields}}),D=ei.newFoundDocument(s,u,c,f);return n&&D.setHasCommittedMutations(),n?D.setHasCommittedMutations():D}function qu(i,e){let n;if(e instanceof Ta)n={update:om(i,e.key,e.value)};else if(e instanceof mu)n={delete:Rc(i,e.key)};else if(e instanceof Wa)n={update:om(i,e.key,e.data),updateMask:fm(e.fieldMask)};else{if(!(e instanceof Zf))return Dt();n={verify:Rc(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const D=f.transform;if(D instanceof Wi)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Is)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Ga)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Hu)return{fieldPath:f.field.canonicalString(),increment:D.Ie};throw Dt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:nm(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Dt()),n;var c}function vd(i,e){const n=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Ii.updateTime(qi(c.updateTime)):void 0!==c.exists?Ii.exists(c.exists):Ii.none():Ii.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(f,D){let P=null;"setToServerValue"in D?($t("REQUEST_TIME"===D.setToServerValue),P=new Wi):"appendMissingElements"in D?P=new Is(D.appendMissingElements.values||[]):"removeAllFromArray"in D?P=new Ga(D.removeAllFromArray.values||[]):"increment"in D?P=new Hu(f,D.increment):Dt();const U=$r.fromServerFormat(D.fieldPath);return new Fl(U,P)}(i,u)):[];var c;if(e.update){const u=la(i,e.update.name),c=new Bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Yo((e.updateMask.fieldPaths||[]).map(Y=>$r.fromServerFormat(Y)));return new Wa(u,c,f,n,s)}return new Ta(u,c,n,s)}if(e.delete){const u=la(i,e.delete);return new mu(u,n)}if(e.verify){const u=la(i,e.verify);return new Zf(u,n)}return Dt()}function um(i,e){return{documents:[_d(i,e.path)]}}function up(i,e){const n={structuredQuery:{}},s=e.path;let u;null!==e.collectionGroup?(u=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=_d(i,u);const c=function(U){if(0!==U.length)return hm(Qr.create(U,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(U){if(0!==U.length)return U.map(Y=>{return{field:Ul((be=Y).field),direction:cm(be.dir)};var be})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const D=Vl(i,e.limit);return null!==D&&(n.structuredQuery.limit=D),e.startAt&&(n.structuredQuery.startAt={before:(U=e.startAt).inclusive,values:U.position}),e.endAt&&(n.structuredQuery.endAt=function(U){return{before:!U.inclusive,values:U.position}}(e.endAt)),{ut:n,parent:u};var U}function xh(i){let e=rm(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let u=null;if(s>0){$t(1===s);const Y=n.from[0];Y.allDescendants?u=Y.collectionId:e=e.child(Y.collectionId)}let c=[];n.where&&(c=function(ae){const be=Zu(ae);return be instanceof Qr&&yh(be)?be.getFilters():[be]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(be=>{return new qs(_u((Ct=be).field),function(Pt){switch(Pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ct.direction));var Ct}));let D=null;n.limit&&(D=function(ae){let be;return be="object"==typeof ae?ae.value:ae,ia(be)?null:be}(n.limit));let P=null;var ae;n.startAt&&(P=new Ws((ae=n.startAt).values||[],!!ae.before));let U=null;return n.endAt&&(U=function(ae){return new Ws(ae.values||[],!ae.before)}(n.endAt)),fu(e,u,f,c,D,"F",P,U)}function Zu(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_u(n.unaryFilter.field);return ir.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=_u(n.unaryFilter.field);return ir.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=_u(n.unaryFilter.field);return ir.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=_u(n.unaryFilter.field);return ir.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(i):void 0!==i.fieldFilter?ir.create(_u((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Qr.create(n.compositeFilter.filters.map(s=>Zu(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Dt()}}(n.compositeFilter.op))}(i):Dt();var n}function cm(i){return A_[i]}function dm(i){return ip[i]}function R_(i){return op[i]}function Ul(i){return{fieldPath:i.canonicalString()}}function _u(i){return $r.fromServerFormat(i.fieldPath)}function hm(i){return i instanceof ir?function(n){if("=="===n.op){if(ph(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NAN"}};if(aa(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(ph(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NAN"}};if(aa(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(n.field),op:dm(n.op),value:n.value}}}(i):i instanceof Qr?function(n){const s=n.getFilters().map(u=>hm(u));return 1===s.length?s[0]:{compositeFilter:{op:R_(n.op),filters:s}}}(i):Dt()}function fm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class qa{constructor(e,n,s,u,c=tn.min(),f=tn.min(),D=Ai.EMPTY_BYTE_STRING,P=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=P}withSequenceNumber(e){return new qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Oh{constructor(e){this.ct=e}}function wd(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ku(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Rc(c=i.ct,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:Pc(c,f.version.toTimestamp()),createTime:Pc(c,f.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:Yu(e.version)};else{if(!e.isUnknownDocument())return Dt();s.unknownDocument={path:n.path.toArray(),version:Yu(e.version)}}var c,f;return s}function Ku(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Yu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vu(i){const e=new jt(i.seconds,i.nanoseconds);return tn.fromTimestamp(e)}function Za(i,e){const n=(e.baseMutations||[]).map(c=>vd(i.ct,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>vd(i.ct,c)),u=jt.fromMillis(e.localWriteTimeMs);return new Kf(e.batchId,u,n,s)}function Mc(i){const e=vu(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?vu(i.lastLimboFreeSnapshotVersion):tn.min();let s;return s=void 0!==i.query.documents?($t(1===(c=i.query).documents.length),Qo(pu(rm(c.documents[0])))):function(c){return Qo(xh(c))}(i.query),new qa(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,Ai.fromBase64String(i.resumeToken));var c}function Nh(i,e){const n=Yu(e.snapshotVersion),s=Yu(e.lastLimboFreeSnapshotVersion);let u;u=Cc(e.target)?um(i.ct,e.target):up(i.ct,e.target).ut;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zs(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Bl(i){const e=xh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Uu(e,e.limit,"L"):e}function cp(i,e){return new Ah(e.largestBatchId,vd(i.ct,e.overlayMutation))}function dp(i,e){const n=e.path.lastSegment();return[i,v(e.path.popLast()),n]}function gm(i,e,n,s){return{indexId:i,uid:e,sequenceNumber:n,readTime:Yu(s.readTime),documentKey:v(s.documentKey.path),largestBatchId:s.largestBatchId}}class M_{getBundleMetadata(e,n){return mm(e).get(n).next(s=>{if(s)return{id:(c=s).bundleId,createTime:vu(c.createTime),version:c.version};var c})}saveBundleMetadata(e,n){return mm(e).put({bundleId:(u=n).id,createTime:Yu(qi(u.createTime)),version:u.version});var u}getNamedQuery(e,n){return hp(e).get(n).next(s=>{if(s)return{name:(c=s).name,query:Bl(c.bundledQuery),readTime:vu(c.readTime)};var c})}saveNamedQuery(e,n){return hp(e).put({name:(u=n).name,readTime:Yu(qi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function mm(i){return ki(i,"bundles")}function hp(i){return ki(i,"namedQueries")}class Ed{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new Ed(e,n.uid||"")}getOverlay(e,n){return Qu(e).get(dp(this.userId,n)).next(s=>s?cp(this.serializer,s):null)}getOverlays(e,n){const s=Jo();return Le.forEach(n,u=>this.getOverlay(e,u).next(c=>{null!==c&&s.set(u,c)})).next(()=>s)}saveOverlays(e,n,s){const u=[];return s.forEach((c,f)=>{const D=new Ah(n,f);u.push(this.ht(e,D))}),Le.waitFor(u)}removeOverlaysForBatchId(e,n,s){const u=new Set;n.forEach(f=>u.add(v(f.getCollectionPath())));const c=[];return u.forEach(f=>{const D=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push(Qu(e).H("collectionPathOverlayIndex",D))}),Le.waitFor(c)}getOverlaysForCollection(e,n,s){const u=Jo(),c=v(n),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Qu(e).W("collectionPathOverlayIndex",f).next(D=>{for(const P of D){const U=cp(this.serializer,P);u.set(U.getKey(),U)}return u})}getOverlaysForCollectionGroup(e,n,s,u){const c=Jo();let f;const D=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Qu(e).Y({index:"collectionGroupOverlayIndex",range:D},(P,U,Y)=>{const ae=cp(this.serializer,U);c.size()<u||ae.largestBatchId===f?(c.set(ae.getKey(),ae),f=ae.largestBatchId):Y.done()}).next(()=>c)}ht(e,n){return Qu(e).put(function(u,c,f){const[D,P,U]=dp(c,f.mutation.key);return{userId:c,collectionPath:P,documentId:U,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:qu(u.ct,f.mutation)}}(this.serializer,this.userId,n))}}function Qu(i){return ki(i,"documentOverlays")}class wu{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(li(e.integerValue));else if("doubleValue"in e){const s=li(e.doubleValue);isNaN(s)?this.Et(n,13):(this.Et(n,15),Ea(s)?n.dt(0):n.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(n,20),"string"==typeof s?n.At(s):(n.At(`${s.seconds||""}`),n.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ks(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(n,45),n.dt(s.latitude||0),n.dt(s.longitude||0)}else"mapValue"in e?Fu(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Dt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const s=e.fields||{};this.Et(n,55);for(const u of Object.keys(s))this.Rt(u,n),this.It(s[u],n)}wt(e,n){const s=e.values||[];this.Et(n,50);for(const u of s)this.It(u,n)}gt(e,n){this.Et(n,37),At.fromName(e).path.forEach(s=>{this.Et(n,60),this.St(s,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function xc(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function ym(i){const e=64-function(s){let u=0;for(let c=0;c<8;++c){const f=xc(255&s[c]);if(u+=f,8!==f)break}return u}(i);return Math.ceil(e/8)}wu.bt=new wu;class x_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ct(s.value),s=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Mt(s.value),s=n.next();this.xt()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const u=n.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const u=n.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Bt(e){const n=this.Lt(e),s=ym(n);this.kt(1+s),this.buffer[this.position++]=255&s;for(let u=n.length-s;u<n.length;++u)this.buffer[this.position++]=255&n[u]}qt(e){const n=this.Lt(e),s=ym(n);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let u=n.length-s;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(c){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,c,!1),new Uint8Array(f.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let u=1;u<n.length;++u)n[u]^=s?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Sw{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class O_{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class jl{constructor(){this.Gt=new x_,this.zt=new Sw(this.Gt),this.jt=new O_(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class $l{constructor(e,n,s,u){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=u}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new $l(this.indexId,this.documentKey,this.arrayValue,s)}}function Ys(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Id(i.arrayValue,e.arrayValue),0!==n?n:(n=Id(i.directionalValue,e.directionalValue),0!==n?n:At.comparator(i.documentKey,e.documentKey)))}function Id(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class kh{constructor(e){this.Yt=new Xr((n,s)=>$r.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if($t(e.collectionGroup===this.collectionId),this.en)return!1;const n=E(e);if(void 0!==n&&!this.nn(n))return!1;const s=S(e);let u=new Set,c=0,f=0;for(;c<s.length&&this.nn(s[c]);++c)u=u.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!u.has(D.field.canonicalString())){const P=s[c];if(!this.rn(D,P)||!this.sn(this.Zt[f++],P))return!1}++c}for(;c<s.length;++c)if(f>=this.Zt.length||!this.sn(this.Zt[f++],s[c]))return!1;return!0}on(){if(this.en)return null;let e=new Xr($r.comparator);const n=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new me(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new me(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new me(s.field,"asc"===s.dir?0:1)));return new j(j.UNKNOWN_ID,this.collectionId,n,Me.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function fp(i){var e,n;if($t(i instanceof ir||i instanceof Qr),i instanceof ir){if(i instanceof Eh){const u=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>ir.create(i.field,"==",c)))||[];return Qr.create(u,"or")}return i}const s=i.filters.map(u=>fp(u));return Qr.create(s,i.op)}function _m(i){if(0===i.getFilters().length)return[];const e=pp(fp(i));return $t(vm(e)),Fh(e)||Lh(e)?[e]:e.getFilters()}function Fh(i){return i instanceof ir}function Lh(i){return i instanceof Qr&&yh(i)}function vm(i){return Fh(i)||Lh(i)||function(n){if(n instanceof Qr&&mh(n)){for(const s of n.getFilters())if(!Fh(s)&&!Lh(s))return!1;return!0}return!1}(i)}function pp(i){if($t(i instanceof ir||i instanceof Qr),i instanceof ir)return i;if(1===i.filters.length)return pp(i.filters[0]);const e=i.filters.map(s=>pp(s));let n=Qr.create(e,i.op);return n=Vh(n),vm(n)?n:($t(n instanceof Qr),$t($a(n)),$t(n.filters.length>1),n.filters.reduce((s,u)=>gp(s,u)))}function gp(i,e){let n;return $t(i instanceof ir||i instanceof Qr),$t(e instanceof ir||e instanceof Qr),n=i instanceof ir?e instanceof ir?Qr.create([i,e],"and"):wm(i,e):e instanceof ir?wm(e,i):function(u,c){if($t(u.filters.length>0&&c.filters.length>0),$a(u)&&$a(c))return jf(u,c.getFilters());const f=mh(u)?u:c,D=mh(u)?c:u,P=f.filters.map(U=>gp(U,D));return Qr.create(P,"or")}(i,e),Vh(n)}function wm(i,e){if($a(e))return jf(e,i.getFilters());{const n=e.filters.map(s=>gp(i,s));return Qr.create(n,"or")}}function Vh(i){if($t(i instanceof ir||i instanceof Qr),i instanceof ir)return i;const e=i.getFilters();if(1===e.length)return Vh(e[0]);if(_h(i))return i;const n=e.map(u=>Vh(u)),s=[];return n.forEach(u=>{u instanceof ir?s.push(u):u instanceof Qr&&(u.op===i.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Qr.create(s,i.op)}class Ju{constructor(){this._n=new Hl}addToCollectionParentIndex(e,n){return this._n.add(n),Le.resolve()}getCollectionParents(e,n){return Le.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Le.resolve()}deleteFieldIndex(e,n){return Le.resolve()}deleteAllFieldIndexes(e){return Le.resolve()}createTargetIndexes(e,n){return Le.resolve()}getDocumentsMatchingTarget(e,n){return Le.resolve(null)}getIndexType(e,n){return Le.resolve(0)}getFieldIndexes(e,n){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,n){return Le.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,n){return Le.resolve(gr.min())}updateCollectionGroup(e,n,s){return Le.resolve()}updateIndexEntries(e,n){return Le.resolve()}}class Hl{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n]||new Xr(xn.comparator),c=!u.has(s);return this.index[n]=u.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Xr(xn.comparator)).toArray()}}const Uh=new Uint8Array(0);class Pw{constructor(e,n){this.databaseId=n,this.an=new Hl,this.un=new ua(s=>Zs(s),(s,u)=>Rl(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const s=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const c={collectionId:s,parent:v(u)};return N_(e).put(c)}return Le.resolve()}getCollectionParents(e,n){const s=[],u=IDBKeyRange.bound([n,""],[xa(n),""],!1,!0);return N_(e).W(u).next(c=>{for(const f of c){if(f.collectionId!==n)break;s.push(A(f.parent))}return s})}addFieldIndex(e,n){const s=Bh(e),u={indexId:(D=n).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var D;delete u.indexId;const c=s.add(u);if(n.indexState){const f=Dd(e);return c.next(D=>{f.put(gm(D,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const s=Bh(e),u=Dd(e),c=Cd(e);return s.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Bh(e),s=Cd(e),u=Dd(e);return n.H().next(()=>s.H()).next(()=>u.H())}createTargetIndexes(e,n){return Le.forEach(this.cn(n),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const c=new kh(s).on();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,n){const s=Cd(e);let u=!0;const c=new Map;return Le.forEach(this.cn(n),f=>this.ln(e,f).next(D=>{u&&(u=!!D),c.set(f,D)})).next(()=>{if(u){let f=g();const D=[];return Le.forEach(c,(P,U)=>{var qt;ut("IndexedDbIndexManager",`Using index ${qt=P,`id=${qt.indexId}|cg=${qt.collectionGroup}|f=${qt.fields.map(ur=>`${ur.fieldPath}:${ur.kind}`).join(",")}`} to execute ${Zs(n)}`);const Y=function(qt,ur){const pi=E(ur);if(void 0===pi)return null;for(const ti of Dc(qt,pi.fieldPath))switch(ti.op){case"array-contains-any":return ti.value.arrayValue.values||[];case"array-contains":return[ti.value]}return null}(U,P),ae=function(qt,ur){const pi=new Map;for(const ti of S(ur))for(const go of Dc(qt,ti.fieldPath))switch(go.op){case"==":case"in":pi.set(ti.fieldPath.canonicalString(),go.value);break;case"not-in":case"!=":return pi.set(ti.fieldPath.canonicalString(),go.value),Array.from(pi.values())}return null}(U,P),be=function(qt,ur){const pi=[];let ti=!0;for(const go of S(ur)){const ha=0===go.kind?zf(qt,go.fieldPath,qt.startAt):ls(qt,go.fieldPath,qt.startAt);pi.push(ha.value),ti&&(ti=ha.inclusive)}return new Ws(pi,ti)}(U,P),Ge=function(qt,ur){const pi=[];let ti=!0;for(const go of S(ur)){const ha=0===go.kind?ls(qt,go.fieldPath,qt.endAt):zf(qt,go.fieldPath,qt.endAt);pi.push(ha.value),ti&&(ti=ha.inclusive)}return new Ws(pi,ti)}(U,P),Ct=this.hn(P,U,be),Ft=this.hn(P,U,Ge),Pt=this.Pn(P,U,ae),wn=this.In(P.indexId,Y,Ct,be.inclusive,Ft,Ge.inclusive,Pt);return Le.forEach(wn,Jn=>s.j(Jn,n.limit).next(qt=>{qt.forEach(ur=>{const pi=At.fromSegments(ur.documentKey);f.has(pi)||(f=f.add(pi),D.push(pi))})}))}).next(()=>D)}return Le.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:_m(Qr.create(e.filters,"and")).map(s=>Vu(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,s,u,c,f,D){const P=(null!=n?n.length:1)*Math.max(s.length,c.length),U=P/(null!=n?n.length:1),Y=[];for(let ae=0;ae<P;++ae){const be=n?this.Tn(n[ae/U]):Uh,Ge=this.En(e,be,s[ae%U],u),Ct=this.dn(e,be,c[ae%U],f),Ft=D.map(Pt=>this.En(e,be,Pt,!0));Y.push(...this.createRange(Ge,Ct,Ft))}return Y}En(e,n,s,u){const c=new $l(e,At.empty(),n,s);return u?c:c.Jt()}dn(e,n,s,u){const c=new $l(e,At.empty(),n,s);return u?c.Jt():c}ln(e,n){const s=new kh(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(c=>{let f=null;for(const D of c)s.tn(D)&&(!f||D.fields.length>f.fields.length)&&(f=D);return f})}getIndexType(e,n){let s=2;const u=this.cn(n);return Le.forEach(u,c=>this.ln(e,c).next(f=>{f?0!==s&&f.fields.length<function(P){let U=new Xr($r.comparator),Y=!1;for(const ae of P.filters)for(const be of ae.getFlattenedFilters())be.field.isKeyField()||("array-contains"===be.op||"array-contains-any"===be.op?Y=!0:U=U.add(be.field));for(const ae of P.orderBy)ae.field.isKeyField()||(U=U.add(ae.field));return U.size+(Y?1:0)}(c)&&(s=1):s=0})).next(()=>null!==n.limit&&u.length>1&&2===s?1:s)}An(e,n){const s=new jl;for(const u of S(e)){const c=n.data.field(u.fieldPath);if(null==c)return null;const f=s.Ht(u.kind);wu.bt.Pt(c,f)}return s.Wt()}Tn(e){const n=new jl;return wu.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const s=new jl;return wu.bt.Pt(sa(this.databaseId,n),s.Ht(function(c){const f=S(c);return 0===f.length?0:f[f.length-1].kind}(e))),s.Wt()}Pn(e,n,s){if(null===s)return[];let u=[];u.push(new jl);let c=0;for(const f of S(e)){const D=s[c++];for(const P of u)if(this.Vn(n,f.fieldPath)&&Ua(D))u=this.mn(u,f,D);else{const U=P.Ht(f.kind);wu.bt.Pt(D,U)}}return this.fn(u)}hn(e,n,s){return this.Pn(e,n,s.position)}fn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Wt();return n}mn(e,n,s){const u=[...e],c=[];for(const f of s.arrayValue.values||[])for(const D of u){const P=new jl;P.seed(D.Wt()),wu.bt.Pt(f,P.Ht(n.kind)),c.push(P)}return c}Vn(e,n){return!!e.filters.find(s=>s instanceof ir&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=Bh(e),u=Dd(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(c=>{const f=[];return Le.forEach(c,D=>u.get([D.indexId,this.uid]).next(P=>{f.push(function(Y,ae){const be=ae?new Me(ae.sequenceNumber,new gr(vu(ae.readTime),new At(A(ae.documentKey)),ae.largestBatchId)):Me.empty(),Ge=Y.fields.map(([Ct,Ft])=>new me($r.fromServerFormat(Ct),Ft));return new j(Y.indexId,Y.collectionGroup,Ge,be)}(D,P))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,u)=>{const c=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==c?c:Sn(s.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const u=Bh(e),c=Dd(e);return this.gn(e).next(f=>u.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(D=>Le.forEach(D,P=>c.put(gm(P.indexId,this.uid,f,s)))))}updateIndexEntries(e,n){const s=new Map;return Le.forEach(n,(u,c)=>{const f=s.get(u.collectionGroup);return(f?Le.resolve(f):this.getFieldIndexes(e,u.collectionGroup)).next(D=>(s.set(u.collectionGroup,D),Le.forEach(D,P=>this.pn(e,u,P).next(U=>{const Y=this.yn(c,P);return U.isEqual(Y)?Le.resolve():this.wn(e,c,P,U,Y)}))))})}Sn(e,n,s,u){return Cd(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(s,n.key),documentKey:n.key.path.toArray()})}bn(e,n,s,u){return Cd(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(s,n.key),n.key.path.toArray()])}pn(e,n,s){const u=Cd(e);let c=new Xr(Ys);return u.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,n)])},(f,D)=>{c=c.add(new $l(s.indexId,n,D.arrayValue,D.directionalValue))}).next(()=>c)}yn(e,n){let s=new Xr(Ys);const u=this.An(n,e);if(null==u)return s;const c=E(n);if(null!=c){const f=e.data.field(c.fieldPath);if(Ua(f))for(const D of f.arrayValue.values||[])s=s.add(new $l(n.indexId,e.key,this.Tn(D),u))}else s=s.add(new $l(n.indexId,e.key,Uh,u));return s}wn(e,n,s,u,c){ut("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const f=[];return function(P,U,Y,ae,be){const Ge=P.getIterator(),Ct=U.getIterator();let Ft=Nu(Ge),Pt=Nu(Ct);for(;Ft||Pt;){let wn=!1,Jn=!1;if(Ft&&Pt){const qt=Y(Ft,Pt);qt<0?Jn=!0:qt>0&&(wn=!0)}else null!=Ft?Jn=!0:wn=!0;wn?(ae(Pt),Pt=Nu(Ct)):Jn?(be(Ft),Ft=Nu(Ge)):(Ft=Nu(Ge),Pt=Nu(Ct))}}(u,c,Ys,D=>{f.push(this.Sn(e,n,s,D))},D=>{f.push(this.bn(e,n,s,D))}),Le.waitFor(f)}gn(e){let n=1;return Dd(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,c)=>{c.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((f,D)=>Ys(f,D)).filter((f,D,P)=>!D||0!==Ys(f,P[D-1]));const u=[];u.push(e);for(const f of s){const D=Ys(f,e),P=Ys(f,n);if(0===D)u[0]=e.Jt();else if(D>0&&P<0)u.push(f),u.push(f.Jt());else if(P>0)break}u.push(n);const c=[];for(let f=0;f<u.length;f+=2){if(this.Dn(u[f],u[f+1]))return[];c.push(IDBKeyRange.bound([u[f].indexId,this.uid,u[f].arrayValue,u[f].directionalValue,Uh,[]],[u[f+1].indexId,this.uid,u[f+1].arrayValue,u[f+1].directionalValue,Uh,[]]))}return c}Dn(e,n){return Ys(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(mp)}getMinOffset(e,n){return Le.mapArray(this.cn(n),s=>this.ln(e,s).next(u=>u||Dt())).next(mp)}}function N_(i){return ki(i,"collectionParents")}function Cd(i){return ki(i,"indexEntries")}function Bh(i){return ki(i,"indexConfiguration")}function Dd(i){return ki(i,"indexState")}function mp(i){$t(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const u=i[s].indexState.offset;Un(u,e)<0&&(e=u),n<u.largestBatchId&&(n=u.largestBatchId)}return new gr(e.readTime,e.documentKey,n)}const Em={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Im(i,e,n){const s=i.store("mutations"),u=i.store("documentMutations"),c=[],f=IDBKeyRange.only(n.batchId);let D=0;const P=s.Y({range:f},(Y,ae,be)=>(D++,be.delete()));c.push(P.next(()=>{$t(1===D)}));const U=[];for(const Y of n.mutations){const ae=de(e,Y.key.path,n.batchId);c.push(u.delete(ae)),U.push(Y.key)}return Le.waitFor(c).next(()=>U)}function jh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Dt();e=i.noDocument}return JSON.stringify(e).length}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class Oc{constructor(e,n,s,u){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=u,this.Cn={}}static lt(e,n,s,u){$t(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Oc(c,n,s,u)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ca(e).Y({index:"userMutationsIndex",range:s},(u,c,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(e,n,s,u){const c=zl(e),f=ca(e);return f.add({}).next(D=>{$t("number"==typeof D);const P=new Kf(D,n,s,u),U=function(Ge,Ct,Ft){const Pt=Ft.baseMutations.map(Jn=>qu(Ge.ct,Jn)),wn=Ft.mutations.map(Jn=>qu(Ge.ct,Jn));return{userId:Ct,batchId:Ft.batchId,localWriteTimeMs:Ft.localWriteTime.toMillis(),baseMutations:Pt,mutations:wn}}(this.serializer,this.userId,P),Y=[];let ae=new Xr((be,Ge)=>Sn(be.canonicalString(),Ge.canonicalString()));for(const be of u){const Ge=de(this.userId,be.key.path,D);ae=ae.add(be.key.path.popLast()),Y.push(f.put(U)),Y.push(c.put(Ge,qe))}return ae.forEach(be=>{Y.push(this.indexManager.addToCollectionParentIndex(e,be))}),e.addOnCommittedListener(()=>{this.Cn[D]=P.keys()}),Le.waitFor(Y).next(()=>P)})}lookupMutationBatch(e,n){return ca(e).get(n).next(s=>s?($t(s.userId===this.userId),Za(this.serializer,s)):null)}vn(e,n){return this.Cn[n]?Le.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const u=s.keys();return this.Cn[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,u=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return ca(e).Y({index:"userMutationsIndex",range:u},(f,D,P)=>{D.userId===this.userId&&($t(D.batchId>=s),c=Za(this.serializer,D)),P.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ca(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(u,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ca(e).W("userMutationsIndex",n).next(s=>s.map(u=>Za(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=X(this.userId,n.path),u=IDBKeyRange.lowerBound(s),c=[];return zl(e).Y({range:u},(f,D,P)=>{const[U,Y,ae]=f,be=A(Y);if(U===this.userId&&n.path.isEqual(be))return ca(e).get(ae).next(Ge=>{if(!Ge)throw Dt();$t(Ge.userId===this.userId),c.push(Za(this.serializer,Ge))});P.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xr(Sn);const u=[];return n.forEach(c=>{const f=X(this.userId,c.path),D=IDBKeyRange.lowerBound(f),P=zl(e).Y({range:D},(U,Y,ae)=>{const[be,Ge,Ct]=U,Ft=A(Ge);be===this.userId&&c.path.isEqual(Ft)?s=s.add(Ct):ae.done()});u.push(P)}),Le.waitFor(u).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,u=s.length+1,c=X(this.userId,s),f=IDBKeyRange.lowerBound(c);let D=new Xr(Sn);return zl(e).Y({range:f},(P,U,Y)=>{const[ae,be,Ge]=P,Ct=A(be);ae===this.userId&&s.isPrefixOf(Ct)?Ct.length===u&&(D=D.add(Ge)):Y.done()}).next(()=>this.Fn(e,D))}Fn(e,n){const s=[],u=[];return n.forEach(c=>{u.push(ca(e).get(c).next(f=>{if(null===f)throw Dt();$t(f.userId===this.userId),s.push(Za(this.serializer,f))}))}),Le.waitFor(u).next(()=>s)}removeMutationBatch(e,n){return Im(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),Le.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Le.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return zl(e).Y({range:s},(c,f,D)=>{if(c[0]===this.userId){const P=A(c[1]);u.push(P)}else D.done()}).next(()=>{$t(0===u.length)})})}containsKey(e,n){return Ka(e,this.userId,n)}xn(e){return yp(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ka(i,e,n){const s=X(e,n.path),u=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return zl(i).Y({range:c,J:!0},(D,P,U)=>{const[Y,ae,be]=D;Y===e&&ae===u&&(f=!0),U.done()}).next(()=>f)}function ca(i){return ki(i,"mutations")}function zl(i){return ki(i,"documentMutations")}function yp(i){return ki(i,"mutationQueues")}class Xu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Xu(0)}static Bn(){return new Xu(-1)}}class Rw{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const s=new Xu(n.highestTargetId);return n.highestTargetId=s.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>tn.fromTimestamp(new jt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Ln(e).next(u=>(u.highestListenSequenceNumber=n,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.kn(e,u)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.Qn(n,s),this.kn(e,s))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>bd(e).delete(n.targetId)).next(()=>this.Ln(e)).next(s=>($t(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,n,s){let u=0;const c=[];return bd(e).Y((f,D)=>{const P=Mc(D);P.sequenceNumber<=n&&null===s.get(P.targetId)&&(u++,c.push(this.removeTargetData(e,P)))}).next(()=>Le.waitFor(c)).next(()=>u)}forEachTarget(e,n){return bd(e).Y((s,u)=>{const c=Mc(u);n(c)})}Ln(e){return k_(e).get("targetGlobalKey").next(n=>($t(null!==n),n))}kn(e,n){return k_(e).put("targetGlobalKey",n)}qn(e,n){return bd(e).put(Nh(this.serializer,n))}Qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Zs(n),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return bd(e).Y({range:u,index:"queryTargetsIndex"},(f,D,P)=>{const U=Mc(D);Rl(n,U.target)&&(c=U,P.done())}).next(()=>c)}addMatchingKeys(e,n,s){const u=[],c=Ya(e);return n.forEach(f=>{const D=v(f.path);u.push(c.put({targetId:s,path:D})),u.push(this.referenceDelegate.addReference(e,s,f))}),Le.waitFor(u)}removeMatchingKeys(e,n,s){const u=Ya(e);return Le.forEach(n,c=>{const f=v(c.path);return Le.waitFor([u.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,n){const s=Ya(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),u=Ya(e);let c=g();return u.Y({range:s,J:!0},(f,D,P)=>{const U=A(f[1]),Y=new At(U);c=c.add(Y)}).next(()=>c)}containsKey(e,n){const s=v(n.path),u=IDBKeyRange.bound([s],[xa(s)],!1,!0);let c=0;return Ya(e).Y({index:"documentTargetsIndex",J:!0,range:u},([f,D],P,U)=>{0!==f&&(c++,U.done())}).next(()=>c>0)}_t(e,n){return bd(e).get(n).next(s=>s?Mc(s):null)}}function bd(i){return ki(i,"targets")}function k_(i){return ki(i,"targetGlobal")}function Ya(i){return ki(i,"targetDocuments")}function $h([i,e],[n,s]){const u=Sn(i,n);return 0===u?Sn(e,s):u}class Mw{constructor(e){this.Kn=e,this.buffer=new Xr($h),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$h(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F_{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){no(s)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield ho(s)}yield n.zn(3e5)}))}}class Cm{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return Le.resolve(as._e);const s=new Mw(n);return this.jn.forEachTarget(e,u=>s.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(e,u=>s.Wn(u))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.jn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(Em)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Em):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let s,u,c,f,D,P,U;const Y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ae=>(ae>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ae}`),u=this.params.maximumSequenceNumbersToCollect):u=ae,f=Date.now(),this.nthSequenceNumber(e,u))).next(ae=>(s=ae,D=Date.now(),this.removeTargets(e,s,n))).next(ae=>(c=ae,P=Date.now(),this.removeOrphanedDocuments(e,s))).next(ae=>(U=Date.now(),pr()<=ye.in.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-Y}ms\n\tDetermined least recently used ${u} in `+(D-f)+`ms\n\tRemoved ${c} targets in `+(P-D)+`ms\n\tRemoved ${ae} documents in `+(U-P)+`ms\nTotal Duration: ${U-Y}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:c,documentsRemoved:ae})))}}class L_{constructor(e,n){this.db=e,this.garbageCollector=function Dm(i,e){return new Cm(i,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(u=>s+u))}Zn(e){let n=0;return this.Jn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(s,u)=>n(u))}addReference(e,n,s){return Hh(e,s)}removeReference(e,n,s){return Hh(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return Hh(e,n)}er(e,n){return function(u,c){let f=!1;return yp(u).Z(D=>Ka(u,D,c).next(P=>(P&&(f=!0),Le.resolve(!P)))).next(()=>f)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let c=0;return this.Xn(e,(f,D)=>{if(D<=n){const P=this.er(e,f).next(U=>{if(!U)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,tn.min()),Ya(e).delete([0,v(f.path)])))});u.push(P)}}).next(()=>Le.waitFor(u)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return Hh(e,n)}Xn(e,n){const s=Ya(e);let u,c=as._e;return s.Y({index:"documentTargetsIndex"},([f,D],{path:P,sequenceNumber:U})=>{0===f?(c!==as._e&&n(new At(A(u)),c),c=U,u=P):c=as._e}).next(()=>{c!==as._e&&n(new At(A(u)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hh(i,e){return Ya(i).put((u=i.currentSequenceNumber,{targetId:0,path:v(e.path),sequenceNumber:u}));var u}class bm{constructor(){this.changes=new ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Le.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tm{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return Gl(e).put(s)}removeEntry(e,n,s){return Gl(e).delete(function(c,f){const D=c.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Ku(f),D[D.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.tr(e,s)))}getEntry(e,n){let s=ei.newInvalidDocument(n);return Gl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Qa(n))},(u,c)=>{s=this.nr(n,c)}).next(()=>s)}rr(e,n){let s={size:0,document:ei.newInvalidDocument(n)};return Gl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Qa(n))},(u,c)=>{s={document:this.nr(n,c),size:jh(c)}}).next(()=>s)}getEntries(e,n){let s=Co();return this.ir(e,n,(u,c)=>{const f=this.nr(u,c);s=s.insert(u,f)}).next(()=>s)}sr(e,n){let s=Co(),u=new ui(At.comparator);return this.ir(e,n,(c,f)=>{const D=this.nr(c,f);s=s.insert(c,D),u=u.insert(c,jh(f))}).next(()=>({documents:s,_r:u}))}ir(e,n,s){if(n.isEmpty())return Le.resolve();let u=new Xr(Sm);n.forEach(P=>u=u.add(P));const c=IDBKeyRange.bound(Qa(u.first()),Qa(u.last())),f=u.getIterator();let D=f.getNext();return Gl(e).Y({index:"documentKeyIndex",range:c},(P,U,Y)=>{const ae=At.fromSegments([...U.prefixPath,U.collectionGroup,U.documentId]);for(;D&&Sm(D,ae)<0;)s(D,null),D=f.getNext();D&&D.isEqual(ae)&&(s(D,U),D=f.hasNext()?f.getNext():null),D?Y.U(Qa(D)):Y.done()}).next(()=>{for(;D;)s(D,null),D=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,n,s,u,c){const f=n.path,D=[f.popLast().toArray(),f.lastSegment(),Ku(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],P=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gl(e).W(IDBKeyRange.bound(D,P,!0)).next(U=>{c?.incrementDocumentReadCount(U.length);let Y=Co();for(const ae of U){const be=this.nr(At.fromSegments(ae.prefixPath.concat(ae.collectionGroup,ae.documentId)),ae);be.isFoundDocument()&&(ba(n,be)||u.has(be.key))&&(Y=Y.insert(be.key,be))}return Y})}getAllFromCollectionGroup(e,n,s,u){let c=Co();const f=Am(n,s),D=Am(n,gr.max());return Gl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,D,!0)},(P,U,Y)=>{const ae=this.nr(At.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);c=c.insert(ae.key,ae),c.size===u&&Y.done()}).next(()=>c)}newChangeBuffer(e){return new V_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return zh(e).get("remoteDocumentGlobalKey").next(n=>($t(!!n),n))}tr(e,n){return zh(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const s=function pm(i,e){let n;if(e.document)n=sm(i.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=At.fromSegments(e.noDocument.path),u=vu(e.noDocument.readTime);n=ei.newNoDocument(s,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt();{const s=At.fromSegments(e.unknownDocument.path),u=vu(e.unknownDocument.version);n=ei.newUnknownDocument(s,u)}}return e.readTime&&n.setReadTime(function(u){const c=new jt(u[0],u[1]);return tn.fromTimestamp(c)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(tn.min()))return s}return ei.newInvalidDocument(e)}}function Td(i){return new Tm(i)}class V_ extends bm{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new ua(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const n=[];let s=0,u=new Xr((c,f)=>Sn(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const D=this.ur.get(c);if(n.push(this.ar.removeEntry(e,c,D.readTime)),f.isValidDocument()){const P=wd(this.ar.serializer,f);u=u.add(c.path.popLast());const U=jh(P);s+=U-D.size,n.push(this.ar.addEntry(e,c,P))}else if(s-=D.size,this.trackRemovals){const P=wd(this.ar.serializer,f.convertToNoDocument(tn.min()));n.push(this.ar.addEntry(e,c,P))}}),u.forEach(c=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.ar.updateMetadata(e,s)),Le.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(s=>(this.ur.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:s,_r:u})=>(u.forEach((c,f)=>{this.ur.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function zh(i){return ki(i,"remoteDocumentGlobal")}function Gl(i){return ki(i,"remoteDocumentsV14")}function Qa(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Am(i,e){const n=e.documentKey.path.toArray();return[i,Ku(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Sm(i,e){const n=i.path.toArray(),s=e.path.toArray();let u=0;for(let c=0;c<n.length-2&&c<s.length-2;++c)if(u=Sn(n[c],s[c]),u)return u;return u=Sn(n.length,s.length),u||(u=Sn(n[n.length-2],s[s.length-2]),u||Sn(n[n.length-1],s[s.length-1]))}class Pm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _p{constructor(e,n,s,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==s&&Tc(s.mutation,u,Yo.empty(),jt.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,g()).next(()=>s))}getLocalViewOfDocuments(e,n,s=g()){const u=Jo();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,s).next(c=>{let f=Ol();return c.forEach((D,P)=>{f=f.insert(D,P.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Jo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,g()))}populateOverlays(e,n,s){const u=[];return s.forEach(c=>{n.has(c)||u.push(c)}),this.documentOverlayCache.getOverlays(e,u).next(c=>{c.forEach((f,D)=>{n.set(f,D)})})}computeViews(e,n,s,u){let c=Co();const f=Nl(),D=Nl();return n.forEach((P,U)=>{const Y=s.get(U.key);u.has(U.key)&&(void 0===Y||Y.mutation instanceof Wa)?c=c.insert(U.key,U):void 0!==Y?(f.set(U.key,Y.mutation.getFieldMask()),Tc(Y.mutation,U,Y.mutation.getFieldMask(),jt.now())):f.set(U.key,Yo.empty())}),this.recalculateAndSaveOverlays(e,c).next(P=>(P.forEach((U,Y)=>f.set(U,Y)),n.forEach((U,Y)=>{var ae;return D.set(U,new Pm(Y,null!==(ae=f.get(U))&&void 0!==ae?ae:null))}),D))}recalculateAndSaveOverlays(e,n){const s=Nl();let u=new ui((f,D)=>f-D),c=g();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const D of f)D.keys().forEach(P=>{const U=n.get(P);if(null===U)return;let Y=s.get(P)||Yo.empty();Y=D.applyToLocalView(U,Y),s.set(P,Y);const ae=(u.get(D.batchId)||g()).add(P);u=u.insert(D.batchId,ae)})}).next(()=>{const f=[],D=u.getReverseIterator();for(;D.hasNext();){const P=D.getNext(),U=P.key,Y=P.value,ae=ju();Y.forEach(be=>{if(!c.has(be)){const Ge=Ll(n.get(be),s.get(be));null!==Ge&&ae.set(be,Ge),c=c.add(be)}}),f.push(this.documentOverlayCache.saveOverlays(e,U,ae))}return Le.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,u){return At.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):ud(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,u):this.getDocumentsMatchingCollectionQuery(e,n,s,u);var f}getNextDocuments(e,n,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,u).next(c=>{const f=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,u-c.size):Le.resolve(Jo());let D=-1,P=c;return f.next(U=>Le.forEach(U,(Y,ae)=>(D<ae.largestBatchId&&(D=ae.largestBatchId),c.get(Y)?Le.resolve():this.remoteDocumentCache.getEntry(e,Y).next(be=>{P=P.insert(Y,be)}))).next(()=>this.populateOverlays(e,U,c)).next(()=>this.computeViews(e,P,U,g())).next(Y=>({batchId:D,changes:fd(Y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new At(n)).next(s=>{let u=Ol();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,s,u){const c=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(e,c).next(D=>Le.forEach(D,P=>{const U=(ae=n,be=P.child(c),new Ks(be,null,ae.explicitOrderBy.slice(),ae.filters.slice(),ae.limit,ae.limitType,ae.startAt,ae.endAt));var ae,be;return this.getDocumentsMatchingCollectionQuery(e,U,s,u).next(Y=>{Y.forEach((ae,be)=>{f=f.insert(ae,be)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,u){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,u))).next(f=>{c.forEach((P,U)=>{const Y=U.getKey();null===f.get(Y)&&(f=f.insert(Y,ei.newInvalidDocument(Y)))});let D=Ol();return f.forEach((P,U)=>{const Y=c.get(P);void 0!==Y&&Tc(Y.mutation,U,Yo.empty(),jt.now()),ba(n,U)&&(D=D.insert(P,U))}),D})}}class U_{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Le.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(u=n).id,version:u.version,createTime:qi(u.createTime)}),Le.resolve();var u}getNamedQuery(e,n){return Le.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(u=n).name,query:Bl(u.bundledQuery),readTime:qi(u.readTime)}),Le.resolve();var u}}class B_{constructor(){this.overlays=new ui(At.comparator),this.hr=new Map}getOverlay(e,n){return Le.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Jo();return Le.forEach(n,u=>this.getOverlay(e,u).next(c=>{null!==c&&s.set(u,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((u,c)=>{this.ht(e,n,c)}),Le.resolve()}removeOverlaysForBatchId(e,n,s){const u=this.hr.get(s);return void 0!==u&&(u.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(s)),Le.resolve()}getOverlaysForCollection(e,n,s){const u=Jo(),c=n.length+1,f=new At(n.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const P=D.getNext().value,U=P.getKey();if(!n.isPrefixOf(U.path))break;U.path.length===c&&P.largestBatchId>s&&u.set(P.getKey(),P)}return Le.resolve(u)}getOverlaysForCollectionGroup(e,n,s,u){let c=new ui((U,Y)=>U-Y);const f=this.overlays.getIterator();for(;f.hasNext();){const U=f.getNext().value;if(U.getKey().getCollectionGroup()===n&&U.largestBatchId>s){let Y=c.get(U.largestBatchId);null===Y&&(Y=Jo(),c=c.insert(U.largestBatchId,Y)),Y.set(U.getKey(),U)}}const D=Jo(),P=c.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((U,Y)=>D.set(U,Y)),!(D.size()>=u)););return Le.resolve(D)}ht(e,n,s){const u=this.overlays.get(s.key);if(null!==u){const f=this.hr.get(u.largestBatchId).delete(s.key);this.hr.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ah(n,s));let c=this.hr.get(n);void 0===c&&(c=g(),this.hr.set(n,c)),this.hr.set(n,c.add(s.key))}}class vp{constructor(){this.Pr=new Xr(ko.Ir),this.Tr=new Xr(ko.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const s=new ko(e,n);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Ar(new ko(e,n))}Rr(e,n){e.forEach(s=>this.removeReference(s,n))}Vr(e){const n=new At(new xn([])),s=new ko(n,e),u=new ko(n,e+1),c=[];return this.Tr.forEachInRange([s,u],f=>{this.Ar(f),c.push(f.key)}),c}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new At(new xn([])),s=new ko(n,e),u=new ko(n,e+1);let c=g();return this.Tr.forEachInRange([s,u],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new ko(e,0),s=this.Pr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class ko{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return At.comparator(e.key,n.key)||Sn(e.pr,n.pr)}static Er(e,n){return Sn(e.pr,n.pr)||At.comparator(e.key,n.key)}}class Rm{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Xr(ko.Ir)}checkEmpty(e){return Le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,u){const c=this.yr;this.yr++;const f=new Kf(c,n,s,u);this.mutationQueue.push(f);for(const D of u)this.wr=this.wr.add(new ko(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Le.resolve(f)}lookupMutationBatch(e,n){return Le.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.br(n+1),c=u<0?0:u;return Le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ko(n,0),u=new ko(n,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([s,u],f=>{const D=this.Sr(f.pr);c.push(D)}),Le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xr(Sn);return n.forEach(u=>{const c=new ko(u,0),f=new ko(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,f],D=>{s=s.add(D.pr)})}),Le.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,u=s.length+1;let c=s;At.isDocumentKey(c)||(c=c.child(""));const f=new ko(new At(c),0);let D=new Xr(Sn);return this.wr.forEachWhile(P=>{const U=P.key.path;return!!s.isPrefixOf(U)&&(U.length===u&&(D=D.add(P.pr)),!0)},f),Le.resolve(this.Dr(D))}Dr(e){const n=[];return e.forEach(s=>{const u=this.Sr(s);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){$t(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return Le.forEach(n.mutations,u=>{const c=new ko(u.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,n){const s=new ko(n,0),u=this.wr.firstAfterOrEqual(s);return Le.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Le.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xw{constructor(e){this.vr=e,this.docs=new ui(At.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,u=this.docs.get(s),c=u?u.size:0,f=this.vr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Le.resolve(s?s.document.mutableCopy():ei.newInvalidDocument(n))}getEntries(e,n){let s=Co();return n.forEach(u=>{const c=this.docs.get(u);s=s.insert(u,c?c.document.mutableCopy():ei.newInvalidDocument(u))}),Le.resolve(s)}getDocumentsMatchingQuery(e,n,s,u){let c=Co();const f=n.path,D=new At(f.child("")),P=this.docs.getIteratorFrom(D);for(;P.hasNext();){const{key:U,value:{document:Y}}=P.getNext();if(!f.isPrefixOf(U.path))break;U.path.length>f.length+1||Un(On(Y),s)<=0||(u.has(Y.key)||ba(n,Y))&&(c=c.insert(Y.key,Y.mutableCopy()))}return Le.resolve(c)}getAllFromCollectionGroup(e,n,s,u){Dt()}Fr(e,n){return Le.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Ow(this)}getSize(e){return Le.resolve(this.size)}}class Ow extends bm{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?n.push(this.ar.addEntry(e,u)):this.ar.removeEntry(s)}),Le.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class Ad{constructor(e){this.persistence=e,this.Mr=new ua(n=>Zs(n),Rl),this.lastRemoteSnapshotVersion=tn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new vp,this.targetCount=0,this.Br=Xu.Nn()}forEachTarget(e,n){return this.Mr.forEach((s,u)=>n(u)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Or&&(this.Or=n),Le.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Xu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Le.resolve()}updateTargetData(e,n){return this.qn(n),Le.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,n,s){let u=0;const c=[];return this.Mr.forEach((f,D)=>{D.sequenceNumber<=n&&null===s.get(D.targetId)&&(this.Mr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),Le.waitFor(c).next(()=>u)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,n){const s=this.Mr.get(n)||null;return Le.resolve(s)}addMatchingKeys(e,n,s){return this.Nr.dr(n,s),Le.resolve()}removeMatchingKeys(e,n,s){this.Nr.Rr(n,s);const u=this.persistence.referenceDelegate,c=[];return u&&n.forEach(f=>{c.push(u.markPotentiallyOrphaned(e,f))}),Le.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Le.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Nr.gr(n);return Le.resolve(s)}containsKey(e,n){return Le.resolve(this.Nr.containsKey(n))}}class Wl{constructor(e,n){this.Lr={},this.overlays={},this.kr=new as(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ad(this),this.indexManager=new Ju,this.remoteDocumentCache=new xw(s=>this.referenceDelegate.Kr(s)),this.serializer=new Oh(n),this.$r=new U_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Lr[e.toKey()];return s||(s=new Rm(n,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,s){ut("MemoryPersistence","Starting transaction:",e);const u=new Mm(this.kr.next());return this.referenceDelegate.Ur(),s(u).next(c=>this.referenceDelegate.Wr(u).next(()=>c)).toPromise().then(c=>(u.raiseOnCommittedEvent(),c))}Gr(e,n){return Le.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,n)))}}class Mm extends na{constructor(e){super(),this.currentSequenceNumber=e}}class Sd{constructor(e){this.persistence=e,this.zr=new vp,this.jr=null}static Hr(e){return new Sd(e)}get Jr(){if(this.jr)return this.jr;throw Dt()}addReference(e,n,s){return this.zr.addReference(s,n),this.Jr.delete(s.toString()),Le.resolve()}removeReference(e,n,s){return this.zr.removeReference(s,n),this.Jr.add(s.toString()),Le.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Le.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(u=>this.Jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(c=>this.Jr.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Jr,s=>{const u=At.fromPath(s);return this.Yr(e,u).next(c=>{c||n.removeEntry(u,tn.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(s=>{s?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Le.or([()=>Le.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class xm{constructor(e){this.serializer=e}N(e,n,s,u){const c=new Ru("createOrUpgrade",n);var P;s<1&&u>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",k,{unique:!0}),P.createObjectStore("documentMutations"),Om(e),function(P){P.createObjectStore("remoteDocuments")}(e));let f=Le.resolve();return s<3&&u>=3&&(0!==s&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),Om(e)),f=f.next(()=>function(P){const U=P.store("targetGlobal"),Y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tn.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",Y)}(c))),s<4&&u>=4&&(0!==s&&(f=f.next(()=>function(P,U){return U.store("mutations").W().next(Y=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",k,{unique:!0});const ae=U.store("mutations"),be=Y.map(Ge=>ae.put(Ge));return Le.waitFor(be)})}(e,c))),f=f.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(f=f.next(()=>this.Xr(c))),s<6&&u>=6&&(f=f.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.ei(c)))),s<7&&u>=7&&(f=f.next(()=>this.ti(c))),s<8&&u>=8&&(f=f.next(()=>this.ni(e,c))),s<9&&u>=9&&(f=f.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(f=f.next(()=>this.ri(c))),s<11&&u>=11&&(f=f.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(f=f.next(()=>{!function(P){const U=P.createObjectStore("documentOverlays",{keyPath:ch});U.createIndex("collectionPathOverlayIndex",gc,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",oa,{unique:!1})}(e)})),s<13&&u>=13&&(f=f.next(()=>function(P){const U=P.createObjectStore("remoteDocumentsV14",{keyPath:$e});U.createIndex("documentKeyIndex",Vt),U.createIndex("collectionGroupIndex",Bn)}(e)).next(()=>this.ii(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(f=f.next(()=>this.si(e,c))),s<15&&u>=15&&(f=f.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:uu}).createIndex("sequenceNumberIndex",Mu,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:Ia}).createIndex("documentKeyIndex",pc,{unique:!1})}(e))),f}ei(e){let n=0;return e.store("remoteDocuments").Y((s,u)=>{n+=jh(u)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(u=>Le.forEach(u,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",f).next(D=>Le.forEach(D,P=>{$t(P.userId===c.userId);const U=Za(this.serializer,P);return Im(e,c.userId,U).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const c=[];return s.Y((f,D)=>{const P=new xn(f),U=[0,v(P)];c.push(n.get(U).next(Y=>Y?Le.resolve():n.put({targetId:0,path:v(P),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Le.waitFor(c))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Na});const s=n.store("collectionParents"),u=new Hl,c=f=>{if(u.add(f)){const D=f.lastSegment(),P=f.popLast();return s.put({collectionId:D,parent:v(P)})}};return n.store("remoteDocuments").Y({J:!0},(f,D)=>{const P=new xn(f);return c(P.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([f,D,P],U)=>{const Y=A(D);return c(Y.popLast())}))}ri(e){const n=e.store("targets");return n.Y((s,u)=>{const c=Mc(u),f=Nh(this.serializer,c);return n.put(f)})}ii(e,n){const s=n.store("remoteDocuments"),u=[];return s.Y((c,f)=>{const D=n.store("remoteDocumentsV14"),P=(ae=f,ae.document?new At(xn.fromString(ae.document.name).popFirst(5)):ae.noDocument?At.fromSegments(ae.noDocument.path):ae.unknownDocument?At.fromSegments(ae.unknownDocument.path):Dt()).path.toArray(),U={prefixPath:P.slice(0,P.length-2),collectionGroup:P[P.length-2],documentId:P[P.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};var ae;u.push(D.put(U))}).next(()=>Le.waitFor(u))}si(e,n){const s=n.store("mutations"),u=Td(this.serializer),c=new Wl(Sd.Hr,this.serializer.ct);return s.W().next(f=>{const D=new Map;return f.forEach(P=>{var U;let Y=null!==(U=D.get(P.userId))&&void 0!==U?U:g();Za(this.serializer,P).keys().forEach(ae=>Y=Y.add(ae)),D.set(P.userId,Y)}),Le.forEach(D,(P,U)=>{const Y=new rn(U),ae=Ed.lt(this.serializer,Y),be=c.getIndexManager(Y),Ge=Oc.lt(Y,this.serializer,be,c.referenceDelegate);return new _p(u,Ge,ae,be).recalculateAndSaveOverlaysForDocumentKeys(new Ou(n,as._e),P).next()})})}}function Om(i){i.createObjectStore("targetDocuments",{keyPath:Wn}).createIndex("documentTargetsIndex",xr,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yn,{unique:!0}),i.createObjectStore("targetGlobal")}const Gh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wh{constructor(e,n,s,u,c,f,D,P,U,Y,ae=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.oi=c,this.window=f,this.document=D,this._i=U,this.ai=Y,this.ui=ae,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=be=>Promise.resolve(),!Wh.D())throw new lt(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new L_(this,u),this.Ti=n+"main",this.serializer=new Oh(P),this.Ei=new ss(this.Ti,this.ui,new xm(this.serializer)),this.Qr=new Rw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Td(this.serializer),this.$r=new M_,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===Y&&Nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lt(je.FAILED_PRECONDITION,Gh);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new as(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var s=(0,p.Z)(function*(u){if(n.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,p.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,p.Z)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(no(e))return ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return el(e).get("owner").next(n=>Le.resolve(this.Si(n)))}bi(e){return wp(e).delete(this.clientId)}Di(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=ki(s,"clientMetadata");return u.W().next(c=>{const f=e.vi(c,18e5),D=c.filter(P=>-1===f.indexOf(P));return Le.forEach(D,P=>u.delete(P.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of n)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Le.resolve(!0):el(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new lt(je.FAILED_PRECONDITION,Gh);return!1}}return!(!this.networkEnabled||!this.inForeground)||wp(e).W().next(s=>void 0===this.vi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(n=>(this.isPrimary!==n&&ut("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,p.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new Ou(n,as._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Bi()})()}vi(e,n){return e.filter(s=>this.Ci(s.updateTimeMs,n)&&!this.Mi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>wp(e).W().next(n=>this.vi(n,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Oc.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pw(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ed.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,s){ut("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",c=15===(P=this.ui)?nd:14===P?lu:13===P?Dl:12===P?xu:11===P?dh:void Dt();var P;let f;return this.Ei.runTransaction(e,u,c,D=>(f=new Ou(D,this.kr?this.kr.next():as._e),"readwrite-primary"===n?this.gi(f).next(P=>!!P||this.pi(f)).next(P=>{if(!P)throw Nr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new lt(je.FAILED_PRECONDITION,lc);return s(f)}).next(P=>this.wi(f).next(()=>P)):this.ki(f).next(()=>s(f)))).then(D=>(f.raiseOnCommittedEvent(),D))}ki(e){return el(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new lt(je.FAILED_PRECONDITION,Gh)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return el(e).put("owner",n)}static D(){return ss.D()}yi(e){const n=el(e);return n.get("owner").next(s=>this.Si(s)?(ut("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Le.resolve())}Ci(e,n){const s=Date.now();return!(e<s-n||e>s&&(Nr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,ue.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const s=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return ut("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Nr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Nr("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function el(i){return ki(i,"owner")}function wp(i){return ki(i,"clientMetadata")}function Pd(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Ep{constructor(e,n,s,u){this.targetId=e,this.fromCache=n,this.qi=s,this.Qi=u}static Ki(e,n){let s=g(),u=g();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new Ep(e,n.fromCache,s,u)}}class Ip{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cp{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,ue.G6)()?8:ss.v((0,ue.z$)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,s,u){const c={result:null};return this.ji(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Hi(e,n,u,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new Ip;return this.Ji(e,n,f).next(D=>{if(c.result=D,this.Ui)return this.Yi(e,n,f,D.size)})}).next(()=>c.result)}Yi(e,n,s,u){return s.documentReadCount<this.Wi?(pr()<=ye.in.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Le.resolve()):(pr()<=ye.in.DEBUG&&ut("QueryEngine","Query:",za(n),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Gi*u?(pr()<=ye.in.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qo(n))):Le.resolve())}ji(e,n){if(Ml(n))return Le.resolve(null);let s=Qo(n);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Uu(n,null,"F"),s=Qo(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=g(...c);return this.zi.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(P=>{const U=this.Zi(n,D);return this.Xi(n,U,f,P.readTime)?this.ji(e,Uu(n,null,"F")):this.es(e,U,n,P)}))})))}Hi(e,n,s,u){return Ml(n)||u.isEqual(tn.min())?Le.resolve(null):this.zi.getDocuments(e,s).next(c=>{const f=this.Zi(n,c);return this.Xi(n,f,s,u)?Le.resolve(null):(pr()<=ye.in.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),za(n)),this.es(e,f,n,Lt(u,-1)).next(D=>D))})}Zi(e,n){let s=new Xr(Bu(e));return n.forEach((u,c)=>{ba(e,c)&&(s=s.add(c))}),s}Xi(e,n,s,u){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Ji(e,n,s){return pr()<=ye.in.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",za(n)),this.zi.getDocumentsMatchingQuery(e,n,gr.min(),s)}es(e,n,s,u){return this.zi.getDocumentsMatchingQuery(e,s,u).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}class Nm{constructor(e,n,s,u){this.persistence=e,this.ts=n,this.serializer=u,this.ns=new ui(Sn),this.rs=new ua(c=>Zs(c),Rl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _p(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function tl(i,e,n,s){return new Nm(i,e,n,s)}function km(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,p.Z)(function*(i,e){const n=ht(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let u;return n.mutationQueue.getAllMutationBatches(s).next(c=>(u=c,n._s(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],D=[];let P=g();for(const U of u){f.push(U.batchId);for(const Y of U.mutations)P=P.add(Y.key)}for(const U of c){D.push(U.batchId);for(const Y of U.mutations)P=P.add(Y.key)}return n.localDocuments.getDocuments(s,P).next(U=>({us:U,removedBatchIds:f,addedBatchIds:D}))})})}),Rd.apply(this,arguments)}function Fm(i){const e=ht(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Md(i,e,n){let s=g(),u=g();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=Co();return n.forEach((D,P)=>{const U=c.get(D);P.isFoundDocument()!==U.isFoundDocument()&&(u=u.add(D)),P.isNoDocument()&&P.version.isEqual(tn.min())?(e.removeEntry(D,P.readTime),f=f.insert(D,P)):!U.isValidDocument()||P.version.compareTo(U.version)>0||0===P.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(P),f=f.insert(D,P)):ut("LocalStore","Ignoring outdated watch update for ",D,". Current version:",U.version," Watch version:",P.version)}),{cs:f,ls:u}})}function Ja(i,e){const n=ht(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Aa(i,e){const n=ht(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return n.Qr.getTargetData(s,e).next(c=>c?(u=c,Le.resolve(u)):n.Qr.allocateTargetId(s).next(f=>(u=new qa(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=n.ns.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ns=n.ns.insert(s.targetId,s),n.rs.set(e,s.targetId)),s})}function nl(i,e,n){return bp.apply(this,arguments)}function bp(){return bp=(0,p.Z)(function*(i,e,n){const s=ht(i),u=s.ns.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!no(f))throw f;ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.ns=s.ns.remove(e),s.rs.delete(u.target)}),bp.apply(this,arguments)}function Zh(i,e,n){const s=ht(i);let u=tn.min(),c=g();return s.persistence.runTransaction("Execute query","readwrite",f=>function(P,U,Y){const ae=ht(P),be=ae.rs.get(Y);return void 0!==be?Le.resolve(ae.ns.get(be)):ae.Qr.getTargetData(U,Y)}(s,f,Qo(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(f,D.targetId).next(P=>{c=P})}).next(()=>s.ts.getDocumentsMatchingQuery(f,e,n?u:tn.min(),n?c:g())).next(D=>(Lm(s,xl(e),D),{documents:D,hs:c})))}function Tp(i,e){const n=ht(i),s=ht(n.Qr),u=n.ns.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",c=>s._t(c,e).next(f=>f?f.target:null))}function ql(i,e){const n=ht(i),s=n.ss.get(e)||tn.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.os.getAllFromCollectionGroup(u,e,Lt(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Lm(n,e,u),u))}function Lm(i,e,n){let s=i.ss.get(e)||tn.min();n.forEach((u,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ss.set(e,s)}function Ap(){return Ap=(0,p.Z)(function*(i,e,n,s){const u=ht(i);let c=g(),f=Co();for(const U of n){const Y=e.Ps(U.metadata.name);U.document&&(c=c.add(Y));const ae=e.Is(U);ae.setReadTime(e.Ts(U.metadata.readTime)),f=f.insert(Y,ae)}const D=u.os.newChangeBuffer({trackRemovals:!0}),P=yield Aa(u,(Y=s,Qo(pu(xn.fromString(`__bundle__/docs/${Y}`)))));var Y;return u.persistence.runTransaction("Apply bundle documents","readwrite",U=>Md(U,D,f).next(Y=>(D.apply(U),Y)).next(Y=>u.Qr.removeMatchingKeysForTargetId(U,P.targetId).next(()=>u.Qr.addMatchingKeys(U,c,P.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(U,Y.cs,Y.ls)).next(()=>Y.cs)))}),Ap.apply(this,arguments)}function Sp(i,e){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,p.Z)(function*(i,e,n=g()){const s=yield Aa(i,Qo(Bl(e.bundledQuery))),u=ht(i);return u.persistence.runTransaction("Save named query","readwrite",c=>{const f=qi(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return u.$r.saveNamedQuery(c,e);const D=s.withResumeToken(Ai.EMPTY_BYTE_STRING,f);return u.ns=u.ns.insert(D.targetId,D),u.Qr.updateTargetData(c,D).next(()=>u.Qr.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>u.Qr.addMatchingKeys(c,n,s.targetId)).next(()=>u.$r.saveNamedQuery(c,e))})}),Kh.apply(this,arguments)}function Vm(i,e){return`firestore_clients_${i}_${e}`}function Pp(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function xd(i,e){return`firestore_targets_${i}_${e}`}class Rp{constructor(e,n,s,u){this.user=e,this.batchId=n,this.state=s,this.error=u}static Es(e,n,s){const u=JSON.parse(s);let c,f="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return f&&u.error&&(f="string"==typeof u.error.message&&"string"==typeof u.error.code,f&&(c=new lt(u.error.code,u.error.message))),f?new Rp(e,n,u.state,c):(Nr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yh{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Es(e,n){const s=JSON.parse(n);let u,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(u=new lt(s.error.code,s.error.message))),c?new Yh(e,s.state,u):(Nr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qh{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const s=JSON.parse(n);let u="object"==typeof s&&s.activeTargetIds instanceof Array,c=H();for(let f=0;u&&f<s.activeTargetIds.length;++f)u=fc(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return u?new Qh(e,c):(Nr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Mp{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Mp(n.clientId,n.onlineState):(Nr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Um{constructor(){this.activeTargetIds=H()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bm{constructor(e,n,s,u,c){this.window=e,this.oi=n,this.persistenceKey=s,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ui(Sn),this.started=!1,this.ys=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ws=Vm(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Um),this.bs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const n=yield e.syncEngine.Li();for(const u of n){if(u===e.Vs)continue;const c=e.getItem(Vm(e.persistenceKey,u));if(c){const f=Qh.Es(u,c);f&&(e.ps=e.ps.insert(f.clientId,f))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const u=e.xs(s);u&&e.Os(u)}for(const u of e.ys)e.gs(u);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((s,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,n,s){this.Bs(e,n,s),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(xd(this.persistenceKey,e));if(s){const u=Yh.Es(e,s);u&&(n=u.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xd(this.persistenceKey,e))}updateQueryState(e,n,s){this.qs(e,n,s)}handleUserChange(e,n,s){n.forEach(u=>{this.Ls(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ut("SharedClientState","READ",e,n),n}setItem(e,n){ut("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ut("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(ut("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,p.Z)(function*(){if(n.started){if(null!==s.key)if(n.bs.test(s.key)){if(null==s.newValue){const u=n.$s(s.key);return n.Us(u,null)}{const u=n.Ws(s.key,s.newValue);if(u)return n.Us(u.clientId,u)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const u=n.Gs(s.key,s.newValue);if(u)return n.zs(u)}}else if(n.Cs.test(s.key)){if(null!==s.newValue){const u=n.js(s.key,s.newValue);if(u)return n.Hs(u)}}else if(s.key===n.vs){if(null!==s.newValue){const u=n.xs(s.newValue);if(u)return n.Os(u)}}else if(s.key===n.Ss){const u=function(f){let D=as._e;if(null!=f)try{const P=JSON.parse(f);$t("number"==typeof P),D=P}catch(P){Nr("SharedClientState","Failed to read sequence number from WebStorage",P)}return D}(s.newValue);u!==as._e&&n.sequenceNumberHandler(u)}else if(s.key===n.Fs){const u=n.Js(s.newValue);yield Promise.all(u.map(c=>n.syncEngine.Ys(c)))}}else n.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,n,s){const u=new Rp(this.currentUser,e,n,s),c=Pp(this.persistenceKey,this.currentUser,e);this.setItem(c,u.ds())}Ls(e){const n=Pp(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,s){const u=xd(this.persistenceKey,e),c=new Yh(e,n,s);this.setItem(u,c.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const s=this.$s(e);return Qh.Es(s,n)}Gs(e,n){const s=this.Ds.exec(e),u=Number(s[1]);return Rp.Es(new rn(void 0!==s[2]?s[2]:null),u,n)}js(e,n){const s=this.Cs.exec(e),u=Number(s[1]);return Yh.Es(u,n)}xs(e){return Mp.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,p.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);ut("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const s=n?this.ps.insert(e,n):this.ps.remove(e),u=this.Ns(this.ps),c=this.Ns(s),f=[],D=[];return c.forEach(P=>{u.has(P)||f.push(P)}),u.forEach(P=>{c.has(P)||D.push(P)}),this.syncEngine.eo(f,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=H();return e.forEach((s,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class Od{constructor(){this.no=new Um,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,s){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Um,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $_{io(e){}shutdown(){}}class Jh{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kc=null;function rl(){return null===kc?kc=268435456+Math.round(2147483648*Math.random()):kc++,"0x"+kc.toString(16)}const xp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Op{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const po="WebChannelConnection";class Xh extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+n.host,this.po=`projects/${u}/databases/${c}`,this.yo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${c}`}get wo(){return!1}So(n,s,u,c,f){const D=rl(),P=this.bo(n,s.toUriEncodedString());ut("RestConnection",`Sending RPC '${n}' ${D}:`,P,u);const U={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(U,c,f),this.Co(n,P,U,u).then(Y=>(ut("RestConnection",`Received RPC '${n}' ${D}: `,Y),Y),Y=>{throw kr("RestConnection",`RPC '${n}' ${D} failed with error: `,Y,"url: ",P,"request:",u),Y})}vo(n,s,u,c,f,D){return this.So(n,s,u,c,f)}Do(n,s,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+Tr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),u&&u.headers.forEach((c,f)=>n[f]=c)}bo(n,s){return`${this.fo}/v1/${s}:${xp[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,s,u){const c=rl();return new Promise((f,D)=>{const P=new Qt;P.setWithCredentials(!0),P.listenOnce(x.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case Z.NO_ERROR:const Y=P.getResponseJson();ut(po,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(Y)),f(Y);break;case Z.TIMEOUT:ut(po,`RPC '${e}' ${c} timed out`),D(new lt(je.DEADLINE_EXCEEDED,"Request time out"));break;case Z.HTTP_ERROR:const ae=P.getStatus();if(ut(po,`RPC '${e}' ${c} failed with status:`,ae,"response text:",P.getResponseText()),ae>0){let be=P.getResponseJson();Array.isArray(be)&&(be=be[0]);const Ge=be?.error;if(Ge&&Ge.status&&Ge.message){const Ct=function(Pt){const wn=Pt.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(wn)>=0?wn:je.UNKNOWN}(Ge.status);D(new lt(Ct,Ge.message))}else D(new lt(je.UNKNOWN,"Server responded with status "+P.getStatus()))}else D(new lt(je.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{ut(po,`RPC '${e}' ${c} completed.`)}});const U=JSON.stringify(u);ut(po,`RPC '${e}' ${c} sending request:`,u),P.send(n,"POST",U,s,15)})}Fo(e,n,s){const u=rl(),c=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=su(),D=C(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(P.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(P.useFetchStreams=!0),this.Do(P.initMessageHeaders,n,s),P.encodeInitMessageHeaders=!0;const Y=c.join("");ut(po,`Creating RPC '${e}' stream ${u}: ${Y}`,P);const ae=f.createWebChannel(Y,P);let be=!1,Ge=!1;const Ct=new Op({lo:Pt=>{Ge?ut(po,`Not sending because RPC '${e}' stream ${u} is closed:`,Pt):(be||(ut(po,`Opening RPC '${e}' stream ${u} transport.`),ae.open(),be=!0),ut(po,`RPC '${e}' stream ${u} sending:`,Pt),ae.send(Pt))},ho:()=>ae.close()}),Ft=(Pt,wn,Jn)=>{Pt.listen(wn,qt=>{try{Jn(qt)}catch(ur){setTimeout(()=>{throw ur},0)}})};return Ft(ae,ot.EventType.OPEN,()=>{Ge||ut(po,`RPC '${e}' stream ${u} transport opened.`)}),Ft(ae,ot.EventType.CLOSE,()=>{Ge||(Ge=!0,ut(po,`RPC '${e}' stream ${u} transport closed`),Ct.Vo())}),Ft(ae,ot.EventType.ERROR,Pt=>{Ge||(Ge=!0,kr(po,`RPC '${e}' stream ${u} transport errored:`,Pt),Ct.Vo(new lt(je.UNAVAILABLE,"The operation could not be completed")))}),Ft(ae,ot.EventType.MESSAGE,Pt=>{var wn;if(!Ge){const Jn=Pt.data[0];$t(!!Jn);const ur=Jn.error||(null===(wn=Jn[0])||void 0===wn?void 0:wn.error);if(ur){ut(po,`RPC '${e}' stream ${u} received error:`,ur);const pi=ur.status;let ti=function(u_){const Ug=fo[u_];if(void 0!==Ug)return Jg(Ug)}(pi),go=ur.message;void 0===ti&&(ti=je.INTERNAL,go="Unknown error status: "+pi+" with message "+ur.message),Ge=!0,Ct.Vo(new lt(ti,go)),ae.close()}else ut(po,`RPC '${e}' stream ${u} received:`,Jn),Ct.mo(Jn)}}),Ft(D,z.STAT_EVENT,Pt=>{Pt.stat===he.PROXY?ut(po,`RPC '${e}' stream ${u} detected buffering proxy`):Pt.stat===he.NOPROXY&&ut(po,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Ct.Ro()},0),Ct}}function Zl(){return typeof window<"u"?window:null}function Fc(){return typeof document<"u"?document:null}function Kl(i){return new S_(i,!0)}class Lc{constructor(e,n,s=1e3,u=1.5,c=6e4){this.oi=e,this.timerId=n,this.Mo=s,this.xo=u,this.Oo=c,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Lo),u=Math.max(0,n-s);u>0&&ut("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class H_{constructor(e,n,s,u,c,f,D,P){this.oi=e,this.$o=s,this.Uo=u,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=P,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Lc(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,p.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,p.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var s=this;return(0,p.Z)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():n&&n.code===je.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):n&&n.code===je.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Wo===n&&this.o_(s,u)},s=>{e(()=>{const u=new lt(je.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(u)})})}o_(e,n){const s=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(u=>{s(()=>this.__(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Yo(){var e=this;this.state=5,this.jo.qo((0,p.Z)(function*(){e.state=0,e.start()}))}__(e){return ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Np extends H_{constructor(e,n,s,u,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,u,f),this.serializer=c}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function am(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:Dt(),u=e.targetChange.targetIds||[],c=function(U,Y){return U.useProto3Json?($t(void 0===Y||"string"==typeof Y),Ai.fromBase64String(Y||"")):($t(void 0===Y||Y instanceof Uint8Array),Ai.fromUint8Array(Y||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(U){const Y=void 0===U.code?je.UNKNOWN:Jg(U.code);return new lt(Y,U.message||"")}(f);n=new Xg(s,u,c,D||null)}else if("documentChange"in e){const s=e.documentChange,u=la(i,s.document.name),c=qi(s.document.updateTime),f=s.document.createTime?qi(s.document.createTime):tn.min(),D=new Bi({mapValue:{fields:s.document.fields}}),P=ei.newFoundDocument(u,c,f,D);n=new Rh(s.targetIds||[],s.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const s=e.documentDelete,u=la(i,s.document),c=s.readTime?qi(s.readTime):tn.min(),f=ei.newNoDocument(u,c);n=new Rh([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,u=la(i,s.document);n=new Rh([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Dt();{const s=e.filter,{count:u=0,unchangedNames:c}=s,f=new b_(u,c);n=new tp(s.targetId,f)}}var U;return n}(this.serializer,e),s=function(c){if(!("targetChange"in c))return tn.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?tn.min():f.readTime?qi(f.readTime):tn.min()}(e);return this.listener.u_(n,s)}c_(e){const n={};n.database=sp(this.serializer),n.addTarget=function(c,f){let D;const P=f.target;if(D=Cc(P)?{documents:um(c,P)}:{query:up(c,P).ut},D.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){D.resumeToken=tm(c,f.resumeToken);const U=Vl(c,f.expectedCount);null!==U&&(D.expectedCount=U)}else if(f.snapshotVersion.compareTo(tn.min())>0){D.readTime=Pc(c,f.snapshotVersion.toTimestamp());const U=Vl(c,f.expectedCount);null!==U&&(D.expectedCount=U)}return D}(this.serializer,e);const s=function lm(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.t_(n)}l_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.t_(n)}}class Nd extends H_{constructor(e,n,s,u,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,u,f),this.serializer=c,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function ap(i,e){return i&&i.length>0?($t(void 0!==e),i.map(n=>function(u,c){let f=qi(u.updateTime?u.updateTime:c);return f.isEqual(tn.min())&&(f=qi(c)),new bh(f,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.T_(s,n)}return $t(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=sp(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>qu(this.serializer,s))};this.t_(n)}}class z_ extends class{}{constructor(e,n,s,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=u,this.A_=!1}R_(){if(this.A_)throw new lt(je.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,u){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(e,Wu(n,s),u,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(je.UNKNOWN,c.toString())})}vo(e,n,s,u,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,D])=>this.connection.vo(e,Wu(n,s),u,f,D,c)).catch(f=>{throw"FirebaseError"===f.name?(f.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(je.UNKNOWN,f.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class G_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Nr(n),this.g_=!1):ut("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Fp{constructor(e,n,s,u,c){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=c,this.M_.io(D=>{s.enqueueAndForget((0,p.Z)(function*(){var P;Sa(f)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,p.Z)(function*(Y){const ae=ht(Y);ae.v_.add(4),yield Uc(ae),ae.x_.set("Unknown"),ae.v_.delete(4),yield Vc(ae)}),function U(Y){return P.apply(this,arguments)})(f))}))}),this.x_=new G_(s,u)}}function Vc(i){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,p.Z)(function*(i){if(Sa(i))for(const e of i.F_)yield e(!0)}),Lp.apply(this,arguments)}function Uc(i){return $m.apply(this,arguments)}function $m(){return $m=(0,p.Z)(function*(i){for(const e of i.F_)yield e(!1)}),$m.apply(this,arguments)}function ef(i,e){const n=ht(i);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Fd(n)?tf(n):Ud(n).Jo()&&kd(n,e))}function il(i,e){const n=ht(i),s=Ud(n);n.C_.delete(e),s.Jo()&&Hm(n,e),0===n.C_.size&&(s.Jo()?s.Xo():Sa(n)&&n.x_.set("Unknown"))}function kd(i,e){if(i.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ud(i).c_(e)}function Hm(i,e){i.O_.Oe(e),Ud(i).l_(e)}function tf(i){i.O_=new T_({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.C_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ud(i).start(),i.x_.p_()}function Fd(i){return Sa(i)&&!Ud(i).Ho()&&i.C_.size>0}function Sa(i){return 0===ht(i).v_.size}function zm(i){i.O_=void 0}function Gm(i){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,p.Z)(function*(i){i.C_.forEach((e,n)=>{kd(i,e)})}),Vp.apply(this,arguments)}function Wm(i,e){return qm.apply(this,arguments)}function qm(){return qm=(0,p.Z)(function*(i,e){zm(i),Fd(i)?(i.x_.S_(e),tf(i)):i.x_.set("Unknown")}),qm.apply(this,arguments)}function W_(i,e,n){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,p.Z)(function*(i,e,n){if(i.x_.set("Online"),e instanceof Xg&&2===e.state&&e.cause)try{yield(s=(0,p.Z)(function*(c,f){const D=f.cause;for(const P of f.targetIds)c.C_.has(P)&&(yield c.remoteSyncer.rejectListen(P,D),c.C_.delete(P),c.O_.removeTarget(P))}),function u(c,f){return s.apply(this,arguments)})(i,e)}catch(s){ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield nf(i,s)}else if(e instanceof Rh?i.O_.$e(e):e instanceof tp?i.O_.Je(e):i.O_.Ge(e),!n.isEqual(tn.min()))try{const s=yield Fm(i.localStore);n.compareTo(s)>=0&&(yield function(c,f){const D=c.O_.it(f);return D.targetChanges.forEach((P,U)=>{if(P.resumeToken.approximateByteSize()>0){const Y=c.C_.get(U);Y&&c.C_.set(U,Y.withResumeToken(P.resumeToken,f))}}),D.targetMismatches.forEach((P,U)=>{const Y=c.C_.get(P);if(!Y)return;c.C_.set(P,Y.withResumeToken(Ai.EMPTY_BYTE_STRING,Y.snapshotVersion)),Hm(c,P);const ae=new qa(Y.target,P,U,Y.sequenceNumber);kd(c,ae)}),c.remoteSyncer.applyRemoteEvent(D)}(i,n))}catch(s){ut("RemoteStore","Failed to raise snapshot:",s),yield nf(i,s)}var s}),Bc.apply(this,arguments)}function nf(i,e,n){return ol.apply(this,arguments)}function ol(){return ol=(0,p.Z)(function*(i,e,n){if(!no(e))throw e;i.v_.add(1),yield Uc(i),i.x_.set("Offline"),n||(n=()=>Fm(i.localStore)),i.asyncQueue.enqueueRetryable((0,p.Z)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield n(),i.v_.delete(1),yield Vc(i)}))}),ol.apply(this,arguments)}function jc(i,e){return e().catch(n=>nf(i,n,e))}function $c(i){return rf.apply(this,arguments)}function rf(){return rf=(0,p.Z)(function*(i){const e=ht(i),n=Eu(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;q_(e);)try{const u=yield Ja(e.localStore,s);if(null===u){0===e.D_.length&&n.Xo();break}s=u.batchId,Z_(e,u)}catch(u){yield nf(e,u)}Zm(e)&&Up(e)}),rf.apply(this,arguments)}function q_(i){return Sa(i)&&i.D_.length<10}function Z_(i,e){i.D_.push(e);const n=Eu(i);n.Jo()&&n.P_&&n.I_(e.mutations)}function Zm(i){return Sa(i)&&!Eu(i).Ho()&&i.D_.length>0}function Up(i){Eu(i).start()}function Km(i){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,p.Z)(function*(i){Eu(i).d_()}),Ld.apply(this,arguments)}function Nw(i){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,p.Z)(function*(i){const e=Eu(i);for(const n of i.D_)e.I_(n.mutations)}),Vd.apply(this,arguments)}function Ym(i,e,n){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,p.Z)(function*(i,e,n){const s=i.D_.shift(),u=Yf.from(s,e,n);yield jc(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield $c(i)}),Bp.apply(this,arguments)}function K_(i,e){return sf.apply(this,arguments)}function sf(){return sf=(0,p.Z)(function*(i,e){var n;e&&Eu(i).P_&&(yield(n=(0,p.Z)(function*(u,c){if(Jf(D=c.code)&&D!==je.ABORTED){const f=u.D_.shift();Eu(u).Zo(),yield jc(u,()=>u.remoteSyncer.rejectFailedWrite(f.batchId,c)),yield $c(u)}var D}),function s(u,c){return n.apply(this,arguments)})(i,e)),Zm(i)&&Up(i)}),sf.apply(this,arguments)}function Qm(i,e){return af.apply(this,arguments)}function af(){return af=(0,p.Z)(function*(i,e){const n=ht(i);n.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const s=Sa(n);n.v_.add(3),yield Uc(n),s&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Vc(n)}),af.apply(this,arguments)}function jp(i,e){return $p.apply(this,arguments)}function $p(){return $p=(0,p.Z)(function*(i,e){const n=ht(i);e?(n.v_.delete(2),yield Vc(n)):e||(n.v_.add(2),yield Uc(n),n.x_.set("Unknown"))}),$p.apply(this,arguments)}function Ud(i){return i.N_||(i.N_=function(n,s,u){const c=ht(n);return c.R_(),new Np(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,u)}(i.datastore,i.asyncQueue,{Po:Gm.bind(null,i),To:Wm.bind(null,i),u_:W_.bind(null,i)}),i.F_.push(function(){var e=(0,p.Z)(function*(n){n?(i.N_.Zo(),Fd(i)?tf(i):i.x_.set("Unknown")):(yield i.N_.stop(),zm(i))});return function(n){return e.apply(this,arguments)}}())),i.N_}function Eu(i){return i.B_||(i.B_=function(n,s,u){const c=ht(n);return c.R_(),new Nd(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,u)}(i.datastore,i.asyncQueue,{Po:Km.bind(null,i),To:K_.bind(null,i),E_:Nw.bind(null,i),T_:Ym.bind(null,i)}),i.F_.push(function(){var e=(0,p.Z)(function*(n){n?(i.B_.Zo(),yield $c(i)):(yield i.B_.stop(),i.D_.length>0&&(ut("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(n){return e.apply(this,arguments)}}())),i.B_}class uf{constructor(e,n,s,u,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=u,this.removalCallback=c,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,u,c){const f=Date.now()+s,D=new uf(e,n,f,u,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lt(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ds(i,e){if(Nr("AsyncQueue",`${e}: ${i}`),no(i))return new lt(je.UNAVAILABLE,`${e}: ${i}`);throw i}class Yl{constructor(e){this.comparator=e?(n,s)=>e(n,s)||At.comparator(n.key,s.key):(n,s)=>At.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new ui(this.comparator)}static emptySet(e){return new Yl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,c=s.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new Yl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Y_{constructor(){this.L_=new ui(At.comparator)}track(e){const n=e.doc.key,s=this.L_.get(n);s?0!==e.type&&3===s.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==s.type?this.L_=this.L_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.L_=this.L_.remove(n):1===e.type&&2===s.type?this.L_=this.L_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Dt():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,s)=>{e.push(s)}),e}}class sl{constructor(e,n,s,u,c,f,D,P,U){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=P,this.hasCachedResults=U}static fromInitialDocuments(e,n,s,u,c){const f=[];return n.forEach(D=>{f.push({type:0,doc:D})}),new sl(e,n,Yl.emptySet(n),f,s,u,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==s[u].type||!n[u].doc.isEqual(s[u].doc))return!1;return!0}}class al{constructor(){this.q_=void 0,this.Q_=[]}}class Hp{constructor(){this.queries=new ua(e=>bc(e),gu),this.onlineState="Unknown",this.K_=new Set}}function zp(i,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,p.Z)(function*(i,e){const n=ht(i),s=e.query;let u=!1,c=n.queries.get(s);if(c||(u=!0,c=new al),u)try{c.q_=yield n.onListen(s)}catch(f){const D=ds(f,`Initialization of query '${za(e.query)}' failed`);return void e.onError(D)}n.queries.set(s,c),c.Q_.push(e),e.U_(n.onlineState),c.q_&&e.W_(c.q_)&&Wp(n)}),Jm.apply(this,arguments)}function Gp(i,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,p.Z)(function*(i,e){const n=ht(i),s=e.query;let u=!1;const c=n.queries.get(s);if(c){const f=c.Q_.indexOf(e);f>=0&&(c.Q_.splice(f,1),u=0===c.Q_.length)}if(u)return n.queries.delete(s),n.onUnlisten(s)}),Bd.apply(this,arguments)}function Xa(i,e){const n=ht(i);let s=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const D of f.Q_)D.W_(u)&&(s=!0);f.q_=u}}s&&Wp(n)}function Xm(i,e,n){const s=ht(i),u=s.queries.get(e);if(u)for(const c of u.Q_)c.onError(n);s.queries.delete(e)}function Wp(i){i.K_.forEach(e=>{e.next()})}class ey{constructor(e,n,s){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=s||{}}W_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Fo{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}class ty{constructor(e){this.serializer=e}Ps(e){return la(this.serializer,e)}Is(e){return e.metadata.exists?sm(this.serializer,e.document,!1):ei.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return qi(e)}}class qp{constructor(e,n,s){this.ta=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ny(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const s=xn.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,s=new ty(this.serializer);for(const u of e)if(u.metadata.queries){const c=s.Ps(u.metadata.name);for(const f of u.metadata.queries){const D=(n.get(f)||g()).add(c);n.set(f,D)}}return n}complete(){var e=this;return(0,p.Z)(function*(){const n=yield function j_(i,e,n,s){return Ap.apply(this,arguments)}(e.localStore,new ty(e.serializer),e.documents,e.ta.id),s=e.ra(e.documents);for(const u of e.queries)yield Sp(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:n}})()}}function ny(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class ry{constructor(e){this.key=e}}class lf{constructor(e){this.key=e}}class Zp{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=g(),this.mutatedKeys=g(),this.ua=Bu(e),this.ca=new Yl(this.ua)}get la(){return this.oa}ha(e,n){const s=n?n.Pa:new Y_,u=n?n.ca:this.ca;let c=n?n.mutatedKeys:this.mutatedKeys,f=u,D=!1;const P="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,U="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Y,ae)=>{const be=u.get(Y),Ge=ba(this.query,ae)?ae:null,Ct=!!be&&this.mutatedKeys.has(be.key),Ft=!!Ge&&(Ge.hasLocalMutations||this.mutatedKeys.has(Ge.key)&&Ge.hasCommittedMutations);let Pt=!1;be&&Ge?be.data.isEqual(Ge.data)?Ct!==Ft&&(s.track({type:3,doc:Ge}),Pt=!0):this.Ia(be,Ge)||(s.track({type:2,doc:Ge}),Pt=!0,(P&&this.ua(Ge,P)>0||U&&this.ua(Ge,U)<0)&&(D=!0)):!be&&Ge?(s.track({type:0,doc:Ge}),Pt=!0):be&&!Ge&&(s.track({type:1,doc:be}),Pt=!0,(P||U)&&(D=!0)),Pt&&(Ge?(f=f.add(Ge),c=Ft?c.add(Y):c.delete(Y)):(f=f.delete(Y),c=c.delete(Y)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Y="F"===this.query.limitType?f.last():f.first();f=f.delete(Y.key),c=c.delete(Y.key),s.track({type:1,doc:Y})}return{ca:f,Pa:s,Xi:D,mutatedKeys:c}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,u){const c=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const f=e.Pa.k_();f.sort((Y,ae)=>function(Ge,Ct){const Ft=Pt=>{switch(Pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return Ft(Ge)-Ft(Ct)}(Y.type,ae.type)||this.ua(Y.doc,ae.doc)),this.Ta(s),u=null!=u&&u;const D=n&&!u?this.Ea():[],P=0===this.aa.size&&this.current&&!u?1:0,U=P!==this._a;return this._a=P,0!==f.length||U?{snapshot:new sl(this.query,e.ca,c,f,e.mutatedKeys,0===P,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),da:D}:{da:D}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Y_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=g(),this.ca.forEach(s=>{this.Aa(s.key)&&(this.aa=this.aa.add(s.key))});const n=[];return e.forEach(s=>{this.aa.has(s)||n.push(new lf(s))}),this.aa.forEach(s=>{e.has(s)||n.push(new ry(s))}),n}Ra(e){this.oa=e.hs,this.aa=g();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return sl.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class iy{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Q_{constructor(e){this.key=e,this.ma=!1}}class oy{constructor(e,n,s,u,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.fa={},this.ga=new ua(D=>bc(D),gu),this.pa=new Map,this.ya=new Set,this.wa=new ui(At.comparator),this.Sa=new Map,this.ba=new vp,this.Da={},this.Ca=new Map,this.va=Xu.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function sy(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,p.Z)(function*(i,e){const n=Gd(i);let s,u;const c=n.ga.get(e);if(c)s=c.targetId,n.sharedClientState.addLocalQueryTarget(s),u=c.view.Va();else{const f=yield Aa(n.localStore,Qo(e)),D=n.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,u=yield Yp(n,e,s,"current"===D,f.resumeToken),n.isPrimaryClient&&ef(n.remoteStore,f)}return u}),Kp.apply(this,arguments)}function Yp(i,e,n,s,u){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,p.Z)(function*(i,e,n,s,u){i.Ma=(ae,be,Ge)=>{return(Ct=(0,p.Z)(function*(Pt,wn,Jn,qt){let ur=wn.view.ha(Jn);ur.Xi&&(ur=yield Zh(Pt.localStore,wn.query,!1).then(({documents:ha})=>wn.view.ha(ha,ur)));const pi=qt&&qt.targetChanges.get(wn.targetId),ti=qt&&null!=qt.targetMismatches.get(wn.targetId),go=wn.view.applyChanges(ur,Pt.isPrimaryClient,pi,ti);return rg(Pt,wn.targetId,go.da),go.snapshot}),function Ft(Pt,wn,Jn,qt){return Ct.apply(this,arguments)})(i,ae,be,Ge);var Ct};const c=yield Zh(i.localStore,e,!0),f=new Zp(e,c.hs),D=f.ha(c.documents),P=Sc.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,u),U=f.applyChanges(D,i.isPrimaryClient,P);rg(i,n,U.da);const Y=new iy(e,n,f);return i.ga.set(e,Y),i.pa.has(n)?i.pa.get(n).push(e):i.pa.set(n,[e]),U.snapshot}),Qp.apply(this,arguments)}function ay(i,e){return ul.apply(this,arguments)}function ul(){return ul=(0,p.Z)(function*(i,e){const n=ht(i),s=n.ga.get(e),u=n.pa.get(s.targetId);if(u.length>1)return n.pa.set(s.targetId,u.filter(c=>!gu(c,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield nl(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),il(n.remoteStore,s.targetId),Ql(n,s.targetId)}).catch(ho))):(Ql(n,s.targetId),yield nl(n.localStore,s.targetId,!0))}),ul.apply(this,arguments)}function ll(){return ll=(0,p.Z)(function*(i,e,n){const s=Wd(i);try{const u=yield function(f,D){const P=ht(f),U=jt.now(),Y=D.reduce((Ge,Ct)=>Ge.add(Ct.key),g());let ae,be;return P.persistence.runTransaction("Locally write mutations","readwrite",Ge=>{let Ct=Co(),Ft=g();return P.os.getEntries(Ge,Y).next(Pt=>{Ct=Pt,Ct.forEach((wn,Jn)=>{Jn.isValidDocument()||(Ft=Ft.add(wn))})}).next(()=>P.localDocuments.getOverlayedDocuments(Ge,Ct)).next(Pt=>{ae=Pt;const wn=[];for(const Jn of D){const qt=Qg(Jn,ae.get(Jn.key).overlayedDocument);null!=qt&&wn.push(new Wa(Jn.key,qt,gh(qt.value.mapValue),Ii.exists(!0)))}return P.mutationQueue.addMutationBatch(Ge,U,wn,D)}).next(Pt=>{be=Pt;const wn=Pt.applyToLocalDocumentSet(ae,Ft);return P.documentOverlayCache.saveOverlays(Ge,Pt.batchId,wn)})}).then(()=>({batchId:be.batchId,changes:fd(ae)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(f,D,P){let U=f.Da[f.currentUser.toKey()];U||(U=new ui(Sn)),U=U.insert(D,P),f.Da[f.currentUser.toKey()]=U}(s,u.batchId,n),yield eu(s,u.changes),yield $c(s.remoteStore)}catch(u){const c=ds(u,"Failed to persist write");n.reject(c)}}),ll.apply(this,arguments)}function uy(i,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,p.Z)(function*(i,e){const n=ht(i);try{const s=yield function Dp(i,e){const n=ht(i),s=e.snapshotVersion;let u=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.os.newChangeBuffer({trackRemovals:!0});u=n.ns;const D=[];e.targetChanges.forEach((Y,ae)=>{const be=u.get(ae);if(!be)return;D.push(n.Qr.removeMatchingKeys(c,Y.removedDocuments,ae).next(()=>n.Qr.addMatchingKeys(c,Y.addedDocuments,ae)));let Ge=be.withSequenceNumber(c.currentSequenceNumber);var Ft,Pt,wn;null!==e.targetMismatches.get(ae)?Ge=Ge.withResumeToken(Ai.EMPTY_BYTE_STRING,tn.min()).withLastLimboFreeSnapshotVersion(tn.min()):Y.resumeToken.approximateByteSize()>0&&(Ge=Ge.withResumeToken(Y.resumeToken,s)),u=u.insert(ae,Ge),Pt=Ge,wn=Y,(0===(Ft=be).resumeToken.approximateByteSize()||Pt.snapshotVersion.toMicroseconds()-Ft.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&D.push(n.Qr.updateTargetData(c,Ge))});let P=Co(),U=g();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(c,Y))}),D.push(Md(c,f,e.documentUpdates).next(Y=>{P=Y.cs,U=Y.ls})),!s.isEqual(tn.min())){const Y=n.Qr.getLastRemoteSnapshotVersion(c).next(ae=>n.Qr.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(Y)}return Le.waitFor(D).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,P,U)).next(()=>P)}).then(c=>(n.ns=u,c))}(n.localStore,e);e.targetChanges.forEach((u,c)=>{const f=n.Sa.get(c);f&&($t(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.ma=!0:u.modifiedDocuments.size>0?$t(f.ma):u.removedDocuments.size>0&&($t(f.ma),f.ma=!1))}),yield eu(n,s,e)}catch(s){yield ho(s)}}),Jp.apply(this,arguments)}function Xp(i,e,n){const s=ht(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const u=[];s.ga.forEach((c,f)=>{const D=f.view.U_(e);D.snapshot&&u.push(D.snapshot)}),function(f,D){const P=ht(f);P.onlineState=D;let U=!1;P.queries.forEach((Y,ae)=>{for(const be of ae.Q_)be.U_(D)&&(U=!0)}),U&&Wp(P)}(s.eventManager,e),u.length&&s.fa.u_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ly(i,e,n){return jd.apply(this,arguments)}function jd(){return jd=(0,p.Z)(function*(i,e,n){const s=ht(i);s.sharedClientState.updateQueryState(e,"rejected",n);const u=s.Sa.get(e),c=u&&u.key;if(c){let f=new ui(At.comparator);f=f.insert(c,ei.newNoDocument(c,tn.min()));const D=g().add(c),P=new Ac(tn.min(),new Map,new ui(Sn),f,D);yield uy(s,P),s.wa=s.wa.remove(c),s.Sa.delete(e),dy(s)}else yield nl(s.localStore,e,!1).then(()=>Ql(s,e,n)).catch(ho)}),jd.apply(this,arguments)}function $d(i,e){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,p.Z)(function*(i,e){const n=ht(i),s=e.batch.batchId;try{const u=yield function qh(i,e){const n=ht(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),c=n.os.newChangeBuffer({trackRemovals:!0});return function(D,P,U,Y){const ae=U.batch,be=ae.keys();let Ge=Le.resolve();return be.forEach(Ct=>{Ge=Ge.next(()=>Y.getEntry(P,Ct)).next(Ft=>{const Pt=U.docVersions.get(Ct);$t(null!==Pt),Ft.version.compareTo(Pt)<0&&(ae.applyToRemoteDocument(Ft,U),Ft.isValidDocument()&&(Ft.setReadTime(U.commitVersion),Y.addEntry(Ft)))})}),Ge.next(()=>D.mutationQueue.removeMutationBatch(P,ae))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let P=g();for(let U=0;U<D.mutationResults.length;++U)D.mutationResults[U].transformResults.length>0&&(P=P.add(D.batch.mutations[U].key));return P}(e))).next(()=>n.localDocuments.getDocuments(s,u))})}(n.localStore,e);ng(n,s,null),tg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield eu(n,u)}catch(u){yield ho(u)}}),Hc.apply(this,arguments)}function cy(i,e,n){return cf.apply(this,arguments)}function cf(){return cf=(0,p.Z)(function*(i,e,n){const s=ht(i);try{const u=yield function(f,D){const P=ht(f);return P.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let Y;return P.mutationQueue.lookupMutationBatch(U,D).next(ae=>($t(null!==ae),Y=ae.keys(),P.mutationQueue.removeMutationBatch(U,ae))).next(()=>P.mutationQueue.performConsistencyCheck(U)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(U,Y,D)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,Y)).next(()=>P.localDocuments.getDocuments(U,Y))})}(s.localStore,e);ng(s,e,n),tg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield eu(s,u)}catch(u){yield ho(u)}}),cf.apply(this,arguments)}function eg(){return eg=(0,p.Z)(function*(i,e){const n=ht(i);Sa(n.remoteStore)||ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(f){const D=ht(f);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>D.mutationQueue.getHighestUnacknowledgedBatchId(P))}(n.localStore);if(-1===s)return void e.resolve();const u=n.Ca.get(s)||[];u.push(e),n.Ca.set(s,u)}catch(s){const u=ds(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),eg.apply(this,arguments)}function tg(i,e){(i.Ca.get(e)||[]).forEach(n=>{n.resolve()}),i.Ca.delete(e)}function ng(i,e,n){const s=ht(i);let u=s.Da[s.currentUser.toKey()];if(u){const c=u.get(e);c&&(n?c.reject(n):c.resolve(),u=u.remove(e)),s.Da[s.currentUser.toKey()]=u}}function Ql(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.pa.get(e))i.ga.delete(s),n&&i.fa.xa(s,n);i.pa.delete(e),i.isPrimaryClient&&i.ba.Vr(e).forEach(s=>{i.ba.containsKey(s)||X_(i,s)})}function X_(i,e){i.ya.delete(e.path.canonicalString());const n=i.wa.get(e);null!==n&&(il(i.remoteStore,n),i.wa=i.wa.remove(e),i.Sa.delete(n),dy(i))}function rg(i,e,n){for(const s of n)s instanceof ry?(i.ba.addReference(s.key,e),kw(i,s)):s instanceof lf?(ut("SyncEngine","Document no longer in limbo: "+s.key),i.ba.removeReference(s.key,e),i.ba.containsKey(s.key)||X_(i,s.key)):Dt()}function kw(i,e){const n=e.key,s=n.path.canonicalString();i.wa.get(n)||i.ya.has(s)||(ut("SyncEngine","New document in limbo: "+n),i.ya.add(s),dy(i))}function dy(i){for(;i.ya.size>0&&i.wa.size<i.maxConcurrentLimboResolutions;){const e=i.ya.values().next().value;i.ya.delete(e);const n=new At(xn.fromString(e)),s=i.va.next();i.Sa.set(s,new Q_(n)),i.wa=i.wa.insert(n,s),ef(i.remoteStore,new qa(Qo(pu(n.path)),s,"TargetPurposeLimboResolution",as._e))}}function eu(i,e,n){return df.apply(this,arguments)}function df(){return df=(0,p.Z)(function*(i,e,n){const s=ht(i),u=[],c=[],f=[];var D;s.ga.isEmpty()||(s.ga.forEach((D,P)=>{f.push(s.Ma(P,e,n).then(U=>{if((U||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(P.targetId,U?.fromCache?"not-current":"current"),U){u.push(U);const Y=Ep.Ki(P.targetId,U);c.push(Y)}}))}),yield Promise.all(f),s.fa.u_(u),yield(D=(0,p.Z)(function*(U,Y){const ae=ht(U);try{yield ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",be=>Le.forEach(Y,Ge=>Le.forEach(Ge.qi,Ct=>ae.persistence.referenceDelegate.addReference(be,Ge.targetId,Ct)).next(()=>Le.forEach(Ge.Qi,Ct=>ae.persistence.referenceDelegate.removeReference(be,Ge.targetId,Ct)))))}catch(be){if(!no(be))throw be;ut("LocalStore","Failed to update sequence numbers: "+be)}for(const be of Y){const Ge=be.targetId;if(!be.fromCache){const Ct=ae.ns.get(Ge),Pt=Ct.withLastLimboFreeSnapshotVersion(Ct.snapshotVersion);ae.ns=ae.ns.insert(Ge,Pt)}}}),function P(U,Y){return D.apply(this,arguments)})(s.localStore,c))}),df.apply(this,arguments)}function Fw(i,e){return zc.apply(this,arguments)}function zc(){return zc=(0,p.Z)(function*(i,e){const n=ht(i);if(!n.currentUser.isEqual(e)){ut("SyncEngine","User change. New user:",e.toKey());const s=yield km(n.localStore,e);n.currentUser=e,(c=n).Ca.forEach(D=>{D.forEach(P=>{P.reject(new lt(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ca.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield eu(n,s.us)}var c}),zc.apply(this,arguments)}function hy(i,e){const n=ht(i),s=n.Sa.get(e);if(s&&s.ma)return g().add(s.key);{let u=g();const c=n.pa.get(e);if(!c)return u;for(const f of c){const D=n.ga.get(f);u=u.unionWith(D.view.la)}return u}}function fy(i,e){return ig.apply(this,arguments)}function ig(){return ig=(0,p.Z)(function*(i,e){const n=ht(i),s=yield Zh(n.localStore,e.query,!0),u=e.view.Ra(s);return n.isPrimaryClient&&rg(n,e.targetId,u.da),u}),ig.apply(this,arguments)}function py(i,e){return hf.apply(this,arguments)}function hf(){return hf=(0,p.Z)(function*(i,e){const n=ht(i);return ql(n.localStore,e).then(s=>eu(n,s))}),hf.apply(this,arguments)}function Qn(i,e,n,s){return ff.apply(this,arguments)}function ff(){return ff=(0,p.Z)(function*(i,e,n,s){const u=ht(i),c=yield function(D,P){const U=ht(D),Y=ht(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",ae=>Y.vn(ae,P).next(be=>be?U.localDocuments.getDocuments(ae,be):Le.resolve(null)))}(u.localStore,e);var P;null!==c?("pending"===n?yield $c(u.remoteStore):"acknowledged"===n||"rejected"===n?(ng(u,e,s||null),tg(u,e),P=e,ht(ht(u.localStore).mutationQueue).Mn(P)):Dt(),yield eu(u,c)):ut("SyncEngine","Cannot apply mutation batch with id: "+e)}),ff.apply(this,arguments)}function cl(){return cl=(0,p.Z)(function*(i,e){const n=ht(i);if(Gd(n),Wd(n),!0===e&&!0!==n.Fa){const s=n.sharedClientState.getAllActiveQueryTargets(),u=yield og(n,s.toArray());n.Fa=!0,yield jp(n.remoteStore,!0);for(const c of u)ef(n.remoteStore,c)}else if(!1===e&&!1!==n.Fa){const s=[];let u=Promise.resolve();n.pa.forEach((c,f)=>{n.sharedClientState.isLocalQueryTarget(f)?s.push(f):u=u.then(()=>(Ql(n,f),nl(n.localStore,f,!0))),il(n.remoteStore,f)}),yield u,yield og(n,s),function(f){const D=ht(f);D.Sa.forEach((P,U)=>{il(D.remoteStore,U)}),D.ba.mr(),D.Sa=new Map,D.wa=new ui(At.comparator)}(n),n.Fa=!1,yield jp(n.remoteStore,!1)}}),cl.apply(this,arguments)}function og(i,e,n){return sg.apply(this,arguments)}function sg(){return sg=(0,p.Z)(function*(i,e,n){const s=ht(i),u=[],c=[];for(const f of e){let D;const P=s.pa.get(f);if(P&&0!==P.length){D=yield Aa(s.localStore,Qo(P[0]));for(const U of P){const Y=s.ga.get(U),ae=yield fy(s,Y);ae.snapshot&&c.push(ae.snapshot)}}else{const U=yield Tp(s.localStore,f);D=yield Aa(s.localStore,U),yield Yp(s,Hd(U),f,!1,D.resumeToken)}u.push(D)}return s.fa.u_(c),u}),sg.apply(this,arguments)}function Hd(i){return fu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Gc(i){return n=ht(i).localStore,ht(ht(n).persistence).Li();var n}function ag(i,e,n,s){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,p.Z)(function*(i,e,n,s){const u=ht(i);if(u.Fa)return void ut("SyncEngine","Ignoring unexpected query state notification.");const c=u.pa.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const f=yield ql(u.localStore,xl(c[0])),D=Ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ai.EMPTY_BYTE_STRING);yield eu(u,f,D);break}case"rejected":yield nl(u.localStore,e,!0),Ql(u,e,s);break;default:Dt()}}),Jl.apply(this,arguments)}function my(i,e,n){return zd.apply(this,arguments)}function zd(){return zd=(0,p.Z)(function*(i,e,n){const s=Gd(i);if(s.Fa){for(const u of e){if(s.pa.has(u)){ut("SyncEngine","Adding an already active target "+u);continue}const c=yield Tp(s.localStore,u),f=yield Aa(s.localStore,c);yield Yp(s,Hd(c),f.targetId,!1,f.resumeToken),ef(s.remoteStore,f)}for(const u of n)s.pa.has(u)&&(yield nl(s.localStore,u,!1).then(()=>{il(s.remoteStore,u),Ql(s,u)}).catch(ho))}}),zd.apply(this,arguments)}function Gd(i){const e=ht(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=uy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ly.bind(null,e),e.fa.u_=Xa.bind(null,e.eventManager),e.fa.xa=Xm.bind(null,e.eventManager),e}function Wd(i){const e=ht(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$d.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cy.bind(null,e),e}class Xl{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,p.Z)(function*(){n.serializer=Kl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tl(this.persistence,new Cp,e.initialUser,this.serializer)}createPersistence(e){return new Wl(Sd.Hr,this.serializer)}createSharedClientState(e){return new Od}terminate(){var e=this;return(0,p.Z)(function*(){var n,s;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ug extends Xl{constructor(e,n,s){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield n().call(s,e),yield s.Na.initialize(s,e),yield Wd(s.Na.syncEngine),yield $c(s.Na.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return tl(this.persistence,new Cp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new F_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new hc(n,this.persistence);return new dc(e.asyncQueue,s)}createPersistence(e){const n=Pd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new Wh(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,Zl(),Fc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Od}}class _y extends ug{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,p.Z)(function*(){yield n().call(s,e);const u=s.Na.syncEngine;s.sharedClientState instanceof Bm&&(s.sharedClientState.syncEngine={Zs:Qn.bind(null,u),Xs:ag.bind(null,u),eo:my.bind(null,u),Li:Gc.bind(null,u),Ys:py.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var c=(0,p.Z)(function*(f){yield function gy(i,e){return cl.apply(this,arguments)}(s.Na.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Zl();if(!Bm.D(n))throw new lt(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Pd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bm(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class ec{initialize(e,n){var s=this;return(0,p.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Xp(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Fw.bind(null,s.syncEngine),yield jp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hp}createDatastore(e){const n=Kl(e.databaseInfo.databaseId),s=new Xh(e.databaseInfo);return new z_(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,u=this.datastore,c=e.asyncQueue,f=n=>Xp(this.syncEngine,n,0),D=Jh.D()?new Jh:new $_,new Fp(s,u,c,f,D);var s,u,c,f,D}createSyncEngine(e,n){return function(u,c,f,D,P,U,Y){const ae=new oy(u,c,f,D,P,U);return Y&&(ae.Fa=!0),ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,p.Z)(function*(){var n,s;yield(s=(0,p.Z)(function*(c){const f=ht(c);ut("RemoteStore","RemoteStore shutting down."),f.v_.add(5),yield Uc(f),f.M_.shutdown(),f.x_.set("Unknown")}),function u(c){return s.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function vy(i,e=10240){let n=0;return{read:()=>(0,p.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class pf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class tv{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new Er,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(s=>{s&&s.ea()?this.metadata.resolve(s.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.X_)}`))},s=>this.metadata.reject(s))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,p.Z)(function*(){const n=yield e.Ka();if(null===n)return null;const s=e.qa.decode(n),u=Number(s);isNaN(u)&&e.$a(`length string (${s}) is not valid number`);const c=yield e.Ua(u);return new Fo(JSON.parse(c),n.length+u)})()}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ka(){var e=this;return(0,p.Z)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const n=e.Wa();n<0&&e.$a("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ua(e){var n=this;return(0,p.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ga())&&n.$a("Reached the end of bundle when more is expected.");const s=n.qa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,p.Z)(function*(){const n=yield e.ka.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class nv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,p.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new lt(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const s=yield(u=(0,p.Z)(function*(f,D){const P=ht(f),U={documents:D.map(Ge=>Rc(P.serializer,Ge))},Y=yield P.vo("BatchGetDocuments",P.serializer.databaseId,xn.emptyPath(),U,D.length),ae=new Map;Y.forEach(Ge=>{const Ct=function P_(i,e){return"found"in e?function(s,u){$t(!!u.found);const c=la(s,u.found.name),f=qi(u.found.updateTime),D=u.found.createTime?qi(u.found.createTime):tn.min(),P=new Bi({mapValue:{fields:u.found.fields}});return ei.newFoundDocument(c,f,D,P)}(i,e):"missing"in e?function(s,u){$t(!!u.missing),$t(!!u.readTime);const c=la(s,u.missing),f=qi(u.readTime);return ei.newNoDocument(c,f)}(i,e):Dt()}(P.serializer,Ge);ae.set(Ct.key.toString(),Ct)});const be=[];return D.forEach(Ge=>{const Ct=ae.get(Ge.toString());$t(!!Ct),be.push(Ct)}),be}),function c(f,D){return u.apply(this,arguments)})(n.datastore,e);var u;return s.forEach(u=>n.recordVersion(u)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new mu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,u)=>{const c=At.fromPath(u);e.mutations.push(new Zf(c,e.precondition(c)))}),yield(s=(0,p.Z)(function*(c,f){const D=ht(c),P={writes:f.map(U=>qu(D.serializer,U))};yield D.So("Commit",D.serializer.databaseId,xn.emptyPath(),P)}),function u(c,f){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Dt();n=tn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new lt(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(tn.min())?Ii.exists(!1):Ii.updateTime(n):Ii.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(tn.min()))throw new lt(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ii.updateTime(n)}return Ii.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wy{constructor(e,n,s,u,c){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=u,this.deferred=c,this.za=s.maxAttempts,this.jo=new Lc(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,p.Z)(function*(){const n=new nv(e.datastore),s=e.Ja(n);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(c=>{e.Ya(c)}))}).catch(u=>{e.Ya(u)})}))}Ja(e){try{const n=this.updateFunction(e);return!ia(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Jf(n)}return!1}}class Ey{constructor(e,n,s,u){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=u,this.user=rn.UNAUTHENTICATED,this.clientId=ai.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,p.Z)(function*(D){ut("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(ut("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lt(je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const u=ds(s,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function gf(i,e){return lg.apply(this,arguments)}function lg(){return lg=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,p.Z)(function*(c){s.isEqual(c)||(yield km(e.localStore,c),s=c)});return function(c){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),lg.apply(this,arguments)}function Ds(i,e){return cg.apply(this,arguments)}function cg(){return cg=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Cy(i);ut("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Qm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,u)=>Qm(e.remoteStore,u)),i._onlineComponents=e}),cg.apply(this,arguments)}function Iy(i){return"FirebaseError"===i.name?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Cy(i){return qd.apply(this,arguments)}function qd(){return qd=(0,p.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ut("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Iy(n))throw n;kr("Error using user provided cache. Falling back to memory cache: "+n),yield gf(i,new Xl)}}else ut("FirestoreClient","Using default OfflineComponentProvider"),yield gf(i,new Xl);return i._offlineComponents}),qd.apply(this,arguments)}function Zd(i){return dg.apply(this,arguments)}function dg(){return dg=(0,p.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ut("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ds(i,i._uninitializedComponentsProvider._online)):(ut("FirestoreClient","Using default OnlineComponentProvider"),yield Ds(i,new ec))),i._onlineComponents}),dg.apply(this,arguments)}function Dy(i){return Cy(i).then(e=>e.persistence)}function Wc(i){return Cy(i).then(e=>e.localStore)}function hg(i){return Zd(i).then(e=>e.remoteStore)}function fg(i){return Zd(i).then(e=>e.syncEngine)}function dl(i){return pg.apply(this,arguments)}function pg(){return pg=(0,p.Z)(function*(i){const e=yield Zd(i),n=e.eventManager;return n.onListen=sy.bind(null,e.syncEngine),n.onUnlisten=ay.bind(null,e.syncEngine),n}),pg.apply(this,arguments)}function Ty(i,e,n={}){const s=new Er;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(c,f,D,P,U){const Y=new pf({next:be=>{f.enqueueAndForget(()=>Gp(c,ae));const Ge=be.docs.has(D);!Ge&&be.fromCache?U.reject(new lt(je.UNAVAILABLE,"Failed to get document because the client is offline.")):Ge&&be.fromCache&&P&&"server"===P.source?U.reject(new lt(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(be)},error:be=>U.reject(be)}),ae=new ey(pu(D.path),Y,{includeMetadataChanges:!0,Z_:!0});return zp(c,ae)}(yield dl(i),i.asyncQueue,e,n,s)})),s.promise}function mf(i,e,n={}){const s=new Er;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(c,f,D,P,U){const Y=new pf({next:be=>{f.enqueueAndForget(()=>Gp(c,ae)),be.fromCache&&"server"===P.source?U.reject(new lt(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(be)},error:be=>U.reject(be)}),ae=new ey(D,Y,{includeMetadataChanges:!0,Z_:!0});return zp(c,ae)}(yield dl(i),i.asyncQueue,e,n,s)})),s.promise}function _f(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const uv=new Map;function vf(i,e,n){if(!n)throw new lt(je.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function gg(i,e,n,s){if(!0===e&&!0===s)throw new lt(je.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mg(i){if(!At.isDocumentKey(i))throw new lt(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yg(i){if(At.isDocumentKey(i))throw new lt(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function qc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Dt()}function qn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new lt(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qc(i);throw new lt(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ry(i,e){if(e<=0)throw new lt(je.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class My{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new lt(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lt(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_f(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new lt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tc{constructor(e,n,s,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new My({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lt(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lt(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new My(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Il;switch(s.type){case"firstParty":return new Pu(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=uv.get(n);s&&(ut("ComponentProvider","Removing Datastore"),uv.delete(n),s.terminate())}(this),Promise.resolve()}}function xy(i,e,n,s={}){var u;const c=(i=qn(i,tc))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==f&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let D,P;if("string"==typeof s.mockUserToken)D=s.mockUserToken,P=rn.MOCK_USER;else{D=(0,ue.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new lt(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new rn(U)}i._authCredentials=new _a(new El(D,P))}}class Lo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class Zi{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zi(this.firestore,e,this._key)}}class Qs extends Lo{constructor(e,n,s){super(e,n,pu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zi(this.firestore,null,new At(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function Kd(i,e,...n){if(i=(0,ue.m9)(i),vf("collection","path",e),i instanceof tc){const s=xn.fromString(e,...n);return yg(s),new Qs(i,null,s)}{if(!(i instanceof Zi||i instanceof Qs))throw new lt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(xn.fromString(e,...n));return yg(s),new Qs(i.firestore,null,s)}}function Oy(i,e){if(i=qn(i,tc),vf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new lt(je.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lo(i,null,(s=e,new Ks(xn.emptyPath(),s)));var s}function Yd(i,e,...n){if(i=(0,ue.m9)(i),1===arguments.length&&(e=ai.newId()),vf("doc","path",e),i instanceof tc){const s=xn.fromString(e,...n);return mg(s),new Zi(i,null,new At(s))}{if(!(i instanceof Zi||i instanceof Qs))throw new lt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(xn.fromString(e,...n));return mg(s),new Zi(i.firestore,i instanceof Qs?i.converter:null,new At(s))}}function Lw(i,e){return i=(0,ue.m9)(i),e=(0,ue.m9)(e),(i instanceof Zi||i instanceof Qs)&&(e instanceof Zi||e instanceof Qs)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function _g(i,e){return i=(0,ue.m9)(i),e=(0,ue.m9)(e),i instanceof Lo&&e instanceof Lo&&i.firestore===e.firestore&&gu(i._query,e._query)&&i.converter===e.converter}class Ny{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Lc(this,"async_queue_retry"),this._u=()=>{const n=Fc();n&&ut("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Fc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Fc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Er;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,p.Z)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!no(n))throw n;ut("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(s=>{throw this.ru=s,this.iu=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(f){let D=f.message||"";return f.stack&&(D=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),D}(s)),s}).then(s=>(this.iu=!1,s))));return this.Xa=n,n}enqueueAfterDelay(e,n,s){this.au(),this.ou.indexOf(e)>-1&&(n=0);const u=uf.createAndSchedule(this,e,n,s,c=>this.lu(c));return this.nu.push(u),u}au(){this.ru&&Dt()}verifyOperationInProgress(){}hu(){var e=this;return(0,p.Z)(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function wf(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const u=n;for(const c of["next","error","complete"])if(c in u&&"function"==typeof u[c])return!0;return!1}(i)}class lv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const cv=-1;class fi extends tc{constructor(e,n,s,u){super(e,n,s,u),this.type="firestore",this._queue=new Ny,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vg(this),this._firestoreClient.terminate()}}function Qd(i,e){const n="object"==typeof i?i:(0,W.getApp)(),s="string"==typeof i?i:e||"(default)",u=(0,W._getProvider)(n,"firestore").getImmediate({identifier:s});if(!u._initialized){const c=(0,ue.P0)("firestore");c&&xy(u,...c)}return u}function Ki(i){return i._firestoreClient||vg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function vg(i){var e,n,s;const u=i._freezeSettings(),c=(P=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Tl(i._databaseId,P,i._persistenceKey,(Y=u).host,Y.ssl,Y.experimentalForceLongPolling,Y.experimentalAutoDetectLongPolling,_f(Y.experimentalLongPollingOptions),Y.useFetchStreams));var P,Y;i._firestoreClient=new Ey(i._authCredentials,i._appCheckCredentials,i._queue,c),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function ky(i,e){Ly(i=qn(i,fi));const n=Ki(i);if(n._uninitializedComponentsProvider)throw new lt(je.FAILED_PRECONDITION,"SDK cache is already specified.");kr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),u=new ec;return Fy(n,u,new ug(u,s.cacheSizeBytes,e?.forceOwnership))}function hv(i){Ly(i=qn(i,fi));const e=Ki(i);if(e._uninitializedComponentsProvider)throw new lt(je.FAILED_PRECONDITION,"SDK cache is already specified.");kr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new ec;return Fy(e,s,new _y(s,n.cacheSizeBytes))}function Fy(i,e,n){const s=new Er;return i.asyncQueue.enqueue((0,p.Z)(function*(){try{yield gf(i,n),yield Ds(i,e),s.resolve()}catch(u){const c=u;if(!Iy(c))throw c;kr("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Jd(i){if(i._initialized&&!i._terminated)throw new lt(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Er;return i._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(n=(0,p.Z)(function*(u){if(!ss.D())return Promise.resolve();const c=u+"main";yield ss.delete(c)}),function s(u){return n.apply(this,arguments)})(Pd(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function fv(i){return function(n){const s=new Er;return n.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function J_(i,e){return eg.apply(this,arguments)}(yield fg(n),s)})),s.promise}(Ki(i=qn(i,fi)))}function pv(i){return function rv(i){return i.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Dy(i),n=yield hg(i);return e.setNetworkEnabled(!0),function(u){const c=ht(u);return c.v_.delete(0),Vc(c)}(n)}))}(Ki(i=qn(i,fi)))}function gv(i){return function iv(i){return i.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Dy(i),n=yield hg(i);return e.setNetworkEnabled(!1),(s=(0,p.Z)(function*(c){const f=ht(c);f.v_.add(0),yield Uc(f),f.x_.set("Offline")}),function u(c){return s.apply(this,arguments)})(n);var s}))}(Ki(i=qn(i,fi)))}function mv(i,e){const n=Ki(i=qn(i,fi)),s=new lv;return function Ay(i,e,n,s){const u=function(f,D){let P;return P="string"==typeof f?Cs().encode(f):f,Y=function(Y,ae){if(Y instanceof Uint8Array)return vy(Y,void 0);if(Y instanceof ArrayBuffer)return vy(new Uint8Array(Y),void 0);if(Y instanceof ReadableStream)return Y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new tv(Y,D);var Y}(n,Kl(e));i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function yy(i,e,n){const s=ht(i);var u;(u=(0,p.Z)(function*(f,D,P){try{const U=yield D.getMetadata();if(yield function(Ct,Ft){const Pt=ht(Ct),wn=qi(Ft.createTime);return Pt.persistence.runTransaction("hasNewerBundle","readonly",Jn=>Pt.$r.getBundleMetadata(Jn,Ft.id)).then(Jn=>!!Jn&&Jn.createTime.compareTo(wn)>=0)}(f.localStore,U))return yield D.close(),P._completeWith({taskState:"Success",documentsLoaded:(Ct=U).totalDocuments,bytesLoaded:Ct.totalBytes,totalDocuments:Ct.totalDocuments,totalBytes:Ct.totalBytes}),Promise.resolve(new Set);P._updateProgress(ny(U));const Y=new qp(U,f.localStore,D.serializer);let ae=yield D.Oa();for(;ae;){const Ge=yield Y.na(ae);Ge&&P._updateProgress(Ge),ae=yield D.Oa()}const be=yield Y.complete();return yield eu(f,be.sa,void 0),yield function(Ct,Ft){const Pt=ht(Ct);return Pt.persistence.runTransaction("Save bundle","readwrite",wn=>Pt.$r.saveBundleMetadata(wn,Ft))}(f.localStore,U),P._completeWith(be.progress),Promise.resolve(be.ia)}catch(U){return kr("SyncEngine",`Loading bundle failed with ${U}`),P._failWith(U),Promise.resolve(new Set)}var Ct}),function c(f,D,P){return u.apply(this,arguments)})(s,e,n).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield fg(i),u,s)}))}(n,i._databaseId,e,s),s}function yv(i,e){return function av(i,e){return i.asyncQueue.enqueue((0,p.Z)(function*(){return function(s,u){const c=ht(s);return c.persistence.runTransaction("Get named query","readonly",f=>c.$r.getNamedQuery(f,u))}(yield Wc(i),e)}))}(Ki(i=qn(i,fi)),e).then(n=>n?new Lo(i,null,n.query):null)}function Ly(i){if(i._initialized||i._terminated)throw new lt(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nu(Ai.fromBase64String(e))}catch(n){throw new lt(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nu(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new lt(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nc{constructor(e){this._methodName=e}}class Ef{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new lt(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new lt(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sn(this._lat,e._lat)||Sn(this._long,e._long)}}const _v=/^__.*__$/;class vv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ta(e,this.data,n,this.fieldTransforms)}}class Uy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function By(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class If{constructor(e,n,s,u,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===c&&this.Eu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new If(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Au({path:s,Vu:!1});return u.mu(e),u}fu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Au({path:s,Vu:!1});return u.Eu(),u}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Du(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(By(this.du)&&_v.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class jy{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kl(e)}Su(e,n,s,u=!1){return new If({du:e,methodName:n,wu:s,path:$r.emptyPath(),Vu:!1,yu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fl(i){const e=i._freezeSettings(),n=Kl(i._databaseId);return new jy(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Cf(i,e,n,s,u,c={}){const f=i.Su(c.merge||c.mergeFields?2:0,e,n,u);Cu("Data must be an object, but it was:",f,s);const D=Kc(s,f);let P,U;if(c.merge)P=new Yo(f.fieldMask),U=f.fieldTransforms;else if(c.mergeFields){const Y=[];for(const ae of c.mergeFields){const be=pl(e,ae,n);if(!f.contains(be))throw new lt(je.INVALID_ARGUMENT,`Field '${be}' is specified in your field mask but missing from your input data.`);rc(Y,be)||Y.push(be)}P=new Yo(Y),U=f.fieldTransforms.filter(ae=>P.covers(ae.field))}else P=null,U=f.fieldTransforms;return new vv(new Bi(D),P,U)}class Df extends nc{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}function Eg(i,e,n){return new If({du:3,wu:e.settings.wu,methodName:i._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bf extends nc{_toFieldTransform(e){return new Fl(e.path,new Wi)}isEqual(e){return e instanceof bf}}class $y extends nc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Eg(this,e,!0),s=this.bu.map(c=>hs(c,n)),u=new Is(s);return new Fl(e.path,u)}isEqual(e){return e instanceof $y&&(0,ue.vZ)(this.bu,e.bu)}}class Zc extends nc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Eg(this,e,!0),s=this.bu.map(c=>hs(c,n)),u=new Ga(s);return new Fl(e.path,u)}isEqual(e){return e instanceof Zc&&(0,ue.vZ)(this.bu,e.bu)}}class Ig extends nc{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new Hu(e.serializer,Ye(e.serializer,this.Du));return new Fl(e.path,n)}isEqual(e){return e instanceof Ig&&this.Du===e.Du}}function Cg(i,e,n,s){const u=i.Su(1,e,n);Cu("Data must be an object, but it was:",u,s);const c=[],f=Bi.empty();ws(s,(P,U)=>{const Y=Yc(e,P,n);U=(0,ue.m9)(U);const ae=u.fu(Y);if(U instanceof Df)c.push(Y);else{const be=hs(U,ae);null!=be&&(c.push(Y),f.set(Y,be))}});const D=new Yo(c);return new Uy(f,D,u.fieldTransforms)}function eh(i,e,n,s,u,c){const f=i.Su(1,e,n),D=[pl(e,s,n)],P=[u];if(c.length%2!=0)throw new lt(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let be=0;be<c.length;be+=2)D.push(pl(e,c[be])),P.push(c[be+1]);const U=[],Y=Bi.empty();for(let be=D.length-1;be>=0;--be)if(!rc(U,D[be])){const Ge=D[be];let Ct=P[be];Ct=(0,ue.m9)(Ct);const Ft=f.fu(Ge);if(Ct instanceof Df)U.push(Ge);else{const Pt=hs(Ct,Ft);null!=Pt&&(U.push(Ge),Y.set(Ge,Pt))}}const ae=new Yo(U);return new Uy(Y,ae,f.fieldTransforms)}function Hy(i,e,n,s=!1){return hs(n,i.Su(s?4:3,e))}function hs(i,e){if(Xo(i=(0,ue.m9)(i)))return Cu("Unsupported field value:",e,i),Kc(i,e);if(i instanceof nc)return function(s,u){if(!By(u.du))throw u.pu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.pu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(u);c&&u.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(s,u){const c=[];let f=0;for(const D of s){let P=hs(D,u.gu(f));null==P&&(P={nullValue:"NULL_VALUE"}),c.push(P),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,u){if(null===(s=(0,ue.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ye(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const c=jt.fromDate(s);return{timestampValue:Pc(u.serializer,c)}}if(s instanceof jt){const c=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pc(u.serializer,c)}}if(s instanceof Ef)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof nu)return{bytesValue:tm(u.serializer,s._byteString)};if(s instanceof Zi){const c=u.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw u.pu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mh(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.pu(`Unsupported field value: ${qc(s)}`)}(i,e)}function Kc(i,e){const n={};return ka(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(i,(s,u)=>{const c=hs(u,e.Ru(s));null!=c&&(n[s]=c)}),{mapValue:{fields:n}}}function Xo(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof jt||i instanceof Ef||i instanceof nu||i instanceof Zi||i instanceof nc)}function Cu(i,e,n){if(!Xo(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=qc(n);throw e.pu("an object"===s?i+" a custom object":i+" "+s)}var u}function pl(i,e,n){if((e=(0,ue.m9)(e))instanceof hl)return e._internalPath;if("string"==typeof e)return Yc(i,e);throw Du("Field path arguments must be of type string or ",i,!1,void 0,n)}const da=new RegExp("[~\\*/\\[\\]]");function Yc(i,e,n){if(e.search(da)>=0)throw Du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new hl(...e.split("."))._internalPath}catch{throw Du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Du(i,e,n,s,u){const c=s&&!s.isEmpty(),f=void 0!==u;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let P="";return(c||f)&&(P+=" (found",c&&(P+=` in field ${s}`),f&&(P+=` in document ${u}`),P+=")"),new lt(je.INVALID_ARGUMENT,D+i+P)}function rc(i,e){return i.some(n=>n.isEqual(e))}class ru{constructor(e,n,s,u,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Qc extends ru{data(){return super.data()}}function bu(i,e){return"string"==typeof e?Yc(i,e):e instanceof hl?e._internalPath:e._delegate._internalPath}function ic(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new lt(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gl{}class iu extends gl{}function Jc(i,e,...n){let s=[];e instanceof gl&&s.push(e),s=s.concat(n),function(c){const f=c.filter(P=>P instanceof oc).length,D=c.filter(P=>P instanceof Xc).length;if(f>1||f>0&&D>0)throw new lt(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class Xc extends iu{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Xc(e,n,s)}_apply(e){const n=this._parse(e);return Ky(e._query,n),new Lo(e.firestore,e.converter,cd(e._query,n))}_parse(e){const n=fl(e.firestore);return function(c,f,D,P,U,Y,ae){let be;if(U.isKeyField()){if("array-contains"===Y||"array-contains-any"===Y)throw new lt(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Y}' queries on documentId().`);if("in"===Y||"not-in"===Y){Zy(ae,Y);const Ge=[];for(const Ct of ae)Ge.push(Cv(P,c,Ct));be={arrayValue:{values:Ge}}}else be=Cv(P,c,ae)}else"in"!==Y&&"not-in"!==Y&&"array-contains-any"!==Y||Zy(ae,Y),be=Hy(D,"where",ae,"in"===Y||"not-in"===Y);return ir.create(U,Y,be)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function zy(i,e,n){const s=e,u=bu("where",i);return Xc._create(u,s,n)}class oc extends gl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new oc(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,c){let f=u;const D=c.getFlattenedFilters();for(const P of D)Ky(f,P),f=cd(f,P)}(e._query,n),new Lo(e.firestore,e.converter,cd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Tf extends iu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tf(e,n)}_apply(e){const n=function(u,c,f){if(null!==u.startAt)throw new lt(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new lt(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qs(c,f)}(e._query,this._field,this._direction);return new Lo(e.firestore,e.converter,function(u,c){const f=u.explicitOrderBy.concat([c]);return new Ks(u.path,u.collectionGroup,f,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,n))}}function Gy(i,e="asc"){const n=e,s=bu("orderBy",i);return Tf._create(s,n)}class th extends iu{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new th(e,n,s)}_apply(e){return new Lo(e.firestore,e.converter,Uu(e._query,this._limit,this._limitType))}}function Wy(i){return Ry("limit",i),th._create("limit",i,"F")}function Dg(i){return Ry("limitToLast",i),th._create("limitToLast",i,"L")}class Af extends iu{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Af(e,n,s)}_apply(e){const n=qy(e,this.type,this._docOrFields,this._inclusive);return new Lo(e.firestore,e.converter,(c=n,new Ks((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,c,u.endAt)));var u,c}}function Uw(...i){return Af._create("startAt",i,!0)}function Bw(...i){return Af._create("startAfter",i,!1)}class Sf extends iu{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Sf(e,n,s)}_apply(e){const n=qy(e,this.type,this._docOrFields,this._inclusive);return new Lo(e.firestore,e.converter,(c=n,new Ks((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,c)));var u,c}}function Iv(...i){return Sf._create("endBefore",i,!1)}function jw(...i){return Sf._create("endAt",i,!0)}function qy(i,e,n,s){if(n[0]=(0,ue.m9)(n[0]),n[0]instanceof ru)return function(c,f,D,P,U){if(!P)throw new lt(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const Y=[];for(const ae of Ha(c))if(ae.field.isKeyField())Y.push(sa(f,P.key));else{const be=P.data.field(ae.field);if(bl(be))throw new lt(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===be){const Ge=ae.field.canonicalString();throw new lt(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ge}' (used as the orderBy) does not exist.`)}Y.push(be)}return new Ws(Y,U)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const u=fl(i.firestore);return function(f,D,P,U,Y,ae){const be=f.explicitOrderBy;if(Y.length>be.length)throw new lt(je.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ge=[];for(let Ct=0;Ct<Y.length;Ct++){const Ft=Y[Ct];if(be[Ct].field.isKeyField()){if("string"!=typeof Ft)throw new lt(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof Ft}`);if(!ud(f)&&-1!==Ft.indexOf("/"))throw new lt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${Ft}' contains a slash.`);const Pt=f.path.child(xn.fromString(Ft));if(!At.isDocumentKey(Pt))throw new lt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${Pt}' is not because it contains an odd number of segments.`);const wn=new At(Pt);Ge.push(sa(D,wn))}else{const Pt=Hy(P,U,Ft);Ge.push(Pt)}}return new Ws(Ge,ae)}(i._query,i.firestore._databaseId,u,e,n,s)}}function Cv(i,e,n){if("string"==typeof(n=(0,ue.m9)(n))){if(""===n)throw new lt(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ud(e)&&-1!==n.indexOf("/"))throw new lt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(xn.fromString(n));if(!At.isDocumentKey(s))throw new lt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sa(i,new At(s))}if(n instanceof Zi)return sa(i,n._key);throw new lt(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qc(n)}.`)}function Zy(i,e){if(!Array.isArray(i)||0===i.length)throw new lt(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ky(i,e){const n=function(u,c){for(const f of u)for(const D of f.getFlattenedFilters())if(c.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new lt(je.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nh{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Dt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,(u,c)=>{s[u]=this.convertValue(c,n)}),s}convertGeoPoint(e){return new Ef(li(e.latitude),li(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cu(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=xn.fromString(e);$t(lp(s));const u=new Eo(s.get(1),s.get(3)),c=new At(s.popFirst(5));return u.isEqual(n)||Nr(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function ml(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class bg extends nh{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zi(this.firestore,null,n)}}class Pa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sc extends ru{constructor(e,n,s,u,c,f){super(e,n,s,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bu("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ih extends sc{data(e={}){return super.data(e)}}class ac{constructor(e,n,s,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Pa(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ih(this._firestore,this._userDataWriter,s.key,s,new Pa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,c){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(D=>({type:"added",doc:new ih(u._firestore,u._userDataWriter,D.doc.key,D.doc,new Pa(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(D=>c||3!==D.type).map(D=>{const P=new ih(u._firestore,u._userDataWriter,D.doc.key,D.doc,new Pa(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter);let U=-1,Y=-1;return 0!==D.type&&(U=f.indexOf(D.doc.key),f=f.delete(D.doc.key)),1!==D.type&&(f=f.add(D.doc),Y=f.indexOf(D.doc.key)),{type:Tv(D.type),doc:P,oldIndex:U,newIndex:Y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Tv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function Ag(i,e){return i instanceof sc&&e instanceof sc?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ac&&e instanceof ac&&i._firestore===e._firestore&&_g(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Pf(i){i=qn(i,Zi);const e=qn(i.firestore,fi);return Ty(Ki(e),i._key).then(n=>Pg(e,i,n))}class Ra extends nh{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zi(this.firestore,null,n)}}function Hw(i){i=qn(i,Zi);const e=qn(i.firestore,fi),n=Ki(e),s=new Ra(e);return function ov(i,e){const n=new Er;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(c,f,D){try{const P=yield function(Y,ae){const be=ht(Y);return be.persistence.runTransaction("read document","readonly",Ge=>be.localDocuments.getDocument(Ge,ae))}(c,f);P.isFoundDocument()?D.resolve(P):P.isNoDocument()?D.resolve(null):D.reject(new lt(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const U=ds(P,`Failed to get document '${f} from cache`);D.reject(U)}}),function u(c,f,D){return s.apply(this,arguments)})(yield Wc(i),e,n);var s})),n.promise}(n,i._key).then(u=>new sc(e,s,i._key,u,new Pa(null!==u&&u.hasLocalMutations,!0),i.converter))}function Av(i){i=qn(i,Zi);const e=qn(i.firestore,fi);return Ty(Ki(e),i._key,{source:"server"}).then(n=>Pg(e,i,n))}function Sv(i){i=qn(i,Lo);const e=qn(i.firestore,fi),n=Ki(e),s=new Ra(e);return ic(i._query),mf(n,i._query).then(u=>new ac(e,s,i,u))}function Sg(i){i=qn(i,Lo);const e=qn(i.firestore,fi),n=Ki(e),s=new Ra(e);return function tu(i,e){const n=new Er;return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(s=(0,p.Z)(function*(c,f,D){try{const P=yield Zh(c,f,!0),U=new Zp(f,P.hs),Y=U.ha(P.documents),ae=U.applyChanges(Y,!1);D.resolve(ae.snapshot)}catch(P){const U=ds(P,`Failed to execute query '${f} against cache`);D.reject(U)}}),function u(c,f,D){return s.apply(this,arguments)})(yield Wc(i),e,n);var s})),n.promise}(n,i._query).then(u=>new ac(e,s,i,u))}function Pv(i){i=qn(i,Lo);const e=qn(i.firestore,fi),n=Ki(e),s=new Ra(e);return mf(n,i._query,{source:"server"}).then(u=>new ac(e,s,i,u))}function Qy(i,e,n){i=qn(i,Zi);const s=qn(i.firestore,fi),u=ml(i.converter,e,n);return ed(s,[Cf(fl(s),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Ii.none())])}function Rv(i,e,n,...s){i=qn(i,Zi);const u=qn(i.firestore,fi),c=fl(u);let f;return f="string"==typeof(e=(0,ue.m9)(e))||e instanceof hl?eh(c,"updateDoc",i._key,e,n,s):Cg(c,"updateDoc",i._key,e),ed(u,[f.toMutation(i._key,Ii.exists(!0))])}function Mv(i){return ed(qn(i.firestore,fi),[new mu(i._key,Ii.none())])}function Jy(i,e){const n=qn(i.firestore,fi),s=Yd(i),u=ml(i.converter,e);return ed(n,[Cf(fl(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,Ii.exists(!1))]).then(()=>s)}function Xy(i,...e){var n,s,u;i=(0,ue.m9)(i);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||wf(e[f])||(c=e[f],f++);const D={includeMetadataChanges:c.includeMetadataChanges};if(wf(e[f])){const ae=e[f];e[f]=null===(n=ae.next)||void 0===n?void 0:n.bind(ae),e[f+1]=null===(s=ae.error)||void 0===s?void 0:s.bind(ae),e[f+2]=null===(u=ae.complete)||void 0===u?void 0:u.bind(ae)}let P,U,Y;if(i instanceof Zi)U=qn(i.firestore,fi),Y=pu(i._key.path),P={next:ae=>{e[f]&&e[f](Pg(U,i,ae))},error:e[f+1],complete:e[f+2]};else{const ae=qn(i,Lo);U=qn(ae.firestore,fi),Y=ae._query;const be=new Ra(U);P={next:Ge=>{e[f]&&e[f](new ac(U,be,ae,Ge))},error:e[f+1],complete:e[f+2]},ic(i._query)}return function(be,Ge,Ct,Ft){const Pt=new pf(Ft),wn=new ey(Ge,Pt,Ct);return be.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return zp(yield dl(be),wn)})),()=>{Pt.La(),be.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Gp(yield dl(be),wn)}))}}(Ki(U),Y,D,P)}function e_(i,e){return function sv(i,e){const n=new pf(e);return i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return u=yield dl(i),c=n,ht(u).K_.add(c),void c.next();var u,c})),()=>{n.La(),i.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return u=yield dl(i),c=n,void ht(u).K_.delete(c);var u,c}))}}(Ki(i=qn(i,fi)),wf(e)?e:{next:e})}function ed(i,e){return function(s,u){const c=new Er;return s.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Iu(i,e,n){return ll.apply(this,arguments)}(yield fg(s),u,c)})),c.promise}(Ki(i),e)}function Pg(i,e,n){const s=n.docs.get(e._key),u=new Ra(i);return new sc(i,u,e._key,s,new Pa(n.hasPendingWrites,n.fromCache),e.converter)}const r_={maxAttempts:5};class Ng{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fl(e)}set(e,n,s){this._verifyNotCommitted();const u=yl(e,this._firestore),c=ml(u.converter,n,s),f=Cf(this._dataReader,"WriteBatch.set",u._key,c,null!==u.converter,s);return this._mutations.push(f.toMutation(u._key,Ii.none())),this}update(e,n,s,...u){this._verifyNotCommitted();const c=yl(e,this._firestore);let f;return f="string"==typeof(n=(0,ue.m9)(n))||n instanceof hl?eh(this._dataReader,"WriteBatch.update",c._key,n,s,u):Cg(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(f.toMutation(c._key,Ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=yl(e,this._firestore);return this._mutations=this._mutations.concat(new mu(n._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yl(i,e){if((i=(0,ue.m9)(i)).firestore!==e)throw new lt(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Fv extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=fl(n)}get(n){const s=yl(n,this._firestore),u=new bg(this._firestore);return this._transaction.lookup([s._key]).then(c=>{if(!c||1!==c.length)return Dt();const f=c[0];if(f.isFoundDocument())return new ru(this._firestore,u,f.key,f,s.converter);if(f.isNoDocument())return new ru(this._firestore,u,s._key,null,s.converter);throw Dt()})}set(n,s,u){const c=yl(n,this._firestore),f=ml(c.converter,s,u),D=Cf(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,u);return this._transaction.set(c._key,D),this}update(n,s,u,...c){const f=yl(n,this._firestore);let D;return D="string"==typeof(s=(0,ue.m9)(s))||s instanceof hl?eh(this._dataReader,"Transaction.update",f._key,s,u,c):Cg(this._dataReader,"Transaction.update",f._key,s),this._transaction.update(f._key,D),this}delete(n){const s=yl(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=yl(e,this._firestore),s=new Ra(this._firestore);return super.get(e).then(u=>new sc(this._firestore,s,n._key,u._document,new Pa(!1,!1),n.converter))}}function i_(i,e,n){i=qn(i,fi);const s=Object.assign(Object.assign({},r_),n);return function(c){if(c.maxAttempts<1)throw new lt(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,f,D){const P=new Er;return c.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const U=yield function by(i){return Zd(i).then(e=>e.datastore)}(c);new wy(c.asyncQueue,U,D,f,P).ja()})),P.promise}(Ki(i),u=>e(new Fv(i,u)),s)}function kg(){return new Df("deleteField")}function o_(){return new bf("serverTimestamp")}function Fg(...i){return new $y("arrayUnion",i)}function s_(...i){return new Zc("arrayRemove",i)}function Lv(i){return new Ig("increment",i)}!function(e,n=!0){Tr=W.SDK_VERSION,(0,W._registerComponent)(new te.wA("firestore",(s,{instanceIdentifier:u,options:c})=>{const f=s.getProvider("app").getImmediate(),D=new fi(new qr(s.getProvider("auth-internal")),new co(s.getProvider("app-check-internal")),function(U,Y){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new lt(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(U.options.projectId,Y)}(f,u),f);return c=Object.assign({useFetchStreams:n},c),D._setSettings(c),D},"PUBLIC").setMultipleInstances(!0)),(0,W.registerVersion)(cr,"4.4.2",e),(0,W.registerVersion)(cr,"4.4.2","esm2017")}()},9058:(Tt,Ne,F)=>{"use strict";F.d(Ne,{BH:()=>Oe,G6:()=>Bt,L:()=>Pe,LL:()=>tt,P0:()=>mt,Pz:()=>ze,Sg:()=>Fe,UG:()=>Rt,ZB:()=>Ce,ZR:()=>Ie,aH:()=>we,b$:()=>Cn,eu:()=>xe,hl:()=>Te,jU:()=>Ut,m9:()=>vn,ne:()=>cn,pd:()=>on,q4:()=>St,r3:()=>Tn,ru:()=>Jt,tV:()=>re,uI:()=>De,vZ:()=>Ht,w1:()=>Xn,xO:()=>Hn,xb:()=>er,z$:()=>it,zd:()=>zt});const ye=function(ge){const K=[];let L=0;for(let M=0;M<ge.length;M++){let O=ge.charCodeAt(M);O<128?K[L++]=O:O<2048?(K[L++]=O>>6|192,K[L++]=63&O|128):55296==(64512&O)&&M+1<ge.length&&56320==(64512&ge.charCodeAt(M+1))?(O=65536+((1023&O)<<10)+(1023&ge.charCodeAt(++M)),K[L++]=O>>18|240,K[L++]=O>>12&63|128,K[L++]=O>>6&63|128,K[L++]=63&O|128):(K[L++]=O>>12|224,K[L++]=O>>6&63|128,K[L++]=63&O|128)}return K},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,K){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,M=[];for(let O=0;O<ge.length;O+=3){const ie=ge[O],Ee=O+1<ge.length,nt=Ee?ge[O+1]:0,ct=O+2<ge.length,It=ct?ge[O+2]:0;let Dn=(15&nt)<<2|It>>6,Xt=63&It;ct||(Xt=64,Ee||(Dn=64)),M.push(L[ie>>2],L[(3&ie)<<4|nt>>4],L[Dn],L[Xt])}return M.join("")},encodeString(ge,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(ge):this.encodeByteArray(ye(ge),K)},decodeString(ge,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(ge):function(ge){const K=[];let L=0,M=0;for(;L<ge.length;){const O=ge[L++];if(O<128)K[M++]=String.fromCharCode(O);else if(O>191&&O<224){const ie=ge[L++];K[M++]=String.fromCharCode((31&O)<<6|63&ie)}else if(O>239&&O<365){const ct=((7&O)<<18|(63&ge[L++])<<12|(63&ge[L++])<<6|63&ge[L++])-65536;K[M++]=String.fromCharCode(55296+(ct>>10)),K[M++]=String.fromCharCode(56320+(1023&ct))}else{const ie=ge[L++],Ee=ge[L++];K[M++]=String.fromCharCode((15&O)<<12|(63&ie)<<6|63&Ee)}}return K.join("")}(this.decodeStringToByteArray(ge,K))},decodeStringToByteArray(ge,K){this.init_();const L=K?this.charToByteMapWebSafe_:this.charToByteMap_,M=[];for(let O=0;O<ge.length;){const ie=L[ge.charAt(O++)],nt=O<ge.length?L[ge.charAt(O)]:0;++O;const It=O<ge.length?L[ge.charAt(O)]:64;++O;const Kt=O<ge.length?L[ge.charAt(O)]:64;if(++O,null==ie||null==nt||null==It||null==Kt)throw new ve;M.push(ie<<2|nt>>4),64!==It&&(M.push(nt<<4&240|It>>2),64!==Kt&&M.push(It<<6&192|Kt))}return M},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pe=function(ge){return function(ge){const K=ye(ge);return q.encodeByteArray(K,!0)}(ge).replace(/\./g,"")},re=function(ge){try{return q.decodeString(ge,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function Ce(ge,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return K}for(const L in K)!K.hasOwnProperty(L)||!Qe(L)||(ge[L]=Ce(ge[L],K[L]));return ge}function Qe(ge){return"__proto__"!==ge}const Ke=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const K=ge&&re(ge[1]);return K&&JSON.parse(K)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},St=ge=>{var K,L;return null===(L=null===(K=Ke())||void 0===K?void 0:K.emulatorHosts)||void 0===L?void 0:L[ge]},mt=ge=>{const K=St(ge);if(!K)return;const L=K.lastIndexOf(":");if(L<=0||L+1===K.length)throw new Error(`Invalid host ${K} with no separate hostname and port!`);const M=parseInt(K.substring(L+1),10);return"["===K[0]?[K.substring(1,L-1),M]:[K.substring(0,L),M]},we=()=>{var ge;return null===(ge=Ke())||void 0===ge?void 0:ge.config},ze=ge=>{var K;return null===(K=Ke())||void 0===K?void 0:K[`_${ge}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,L)=>{this.resolve=K,this.reject=L})}wrapCallback(K){return(L,M)=>{L?this.reject(L):this.resolve(M),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(L):K(L,M))}}}function Fe(ge,K){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const M=K||"demo-project",O=ge.iat||0,ie=ge.sub||ge.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${M}`,aud:M,iat:O,exp:O+3600,auth_time:O,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(Ee)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Rt(){var ge;const K=null===(ge=Ke())||void 0===ge?void 0:ge.forceEnvironment;if("node"===K)return!0;if("browser"===K)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ut(){return"object"==typeof self&&self.self===self}function Jt(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function Cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xn(){const ge=it();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function Bt(){return!Rt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){try{return"object"==typeof indexedDB}catch{return!1}}function xe(){return new Promise((ge,K)=>{try{let L=!0;const M="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(M);O.onsuccess=()=>{O.result.close(),L||self.indexedDB.deleteDatabase(M),ge(!0)},O.onupgradeneeded=()=>{L=!1},O.onerror=()=>{var ie;K((null===(ie=O.error)||void 0===ie?void 0:ie.message)||"")}}catch(L){K(L)}})}class Ie extends Error{constructor(K,L,M){super(L),this.code=K,this.customData=M,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(K,L,M){this.service=K,this.serviceName=L,this.errors=M}create(K,...L){const M=L[0]||{},O=`${this.service}/${K}`,ie=this.errors[K],Ee=ie?function Je(ge,K){return ge.replace(Be,(L,M)=>{const O=K[M];return null!=O?String(O):`<${M}?>`})}(ie,M):"Error";return new Ie(O,`${this.serviceName}: ${Ee} (${O}).`,M)}}const Be=/\{\$([^}]+)}/g;function Tn(ge,K){return Object.prototype.hasOwnProperty.call(ge,K)}function er(ge){for(const K in ge)if(Object.prototype.hasOwnProperty.call(ge,K))return!1;return!0}function Ht(ge,K){if(ge===K)return!0;const L=Object.keys(ge),M=Object.keys(K);for(const O of L){if(!M.includes(O))return!1;const ie=ge[O],Ee=K[O];if(In(ie)&&In(Ee)){if(!Ht(ie,Ee))return!1}else if(ie!==Ee)return!1}for(const O of M)if(!L.includes(O))return!1;return!0}function In(ge){return null!==ge&&"object"==typeof ge}function Hn(ge){const K=[];for(const[L,M]of Object.entries(ge))Array.isArray(M)?M.forEach(O=>{K.push(encodeURIComponent(L)+"="+encodeURIComponent(O))}):K.push(encodeURIComponent(L)+"="+encodeURIComponent(M));return K.length?"&"+K.join("&"):""}function zt(ge){const K={};return ge.replace(/^\?/,"").split("&").forEach(M=>{if(M){const[O,ie]=M.split("=");K[decodeURIComponent(O)]=decodeURIComponent(ie)}}),K}function on(ge){const K=ge.indexOf("?");if(!K)return"";const L=ge.indexOf("#",K);return ge.substring(K,L>0?L:void 0)}function cn(ge,K){const L=new hn(ge,K);return L.subscribe.bind(L)}class hn{constructor(K,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{K(this)}).catch(M=>{this.error(M)})}next(K){this.forEachObserver(L=>{L.next(K)})}error(K){this.forEachObserver(L=>{L.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,L,M){let O;if(void 0===K&&void 0===L&&void 0===M)throw new Error("Missing Observer.");O=function sn(ge,K){if("object"!=typeof ge||null===ge)return!1;for(const L of K)if(L in ge&&"function"==typeof ge[L])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:L,complete:M},void 0===O.next&&(O.next=zn),void 0===O.error&&(O.error=zn),void 0===O.complete&&(O.complete=zn);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),ie}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,K)}sendOne(K,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{L(this.observers[K])}catch(M){typeof console<"u"&&console.error&&console.error(M)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function vn(ge){return ge&&ge._delegate?ge._delegate:ge}},5952:(Tt,Ne,F)=>{"use strict";F.r(Ne),F.d(Ne,{principalModule:()=>Re});var p=F(6814),W=F(95),te=F(9692),ye=F(3519),ue=F.n(ye),q=F(5879),ve=F(5449);let pe=(()=>{class Ie{constructor(Je,Be){this.authService=Je,this.router=Be,this.formularioLogin=new W.cw({email:new W.NI,password:new W.NI})}onSubmit(){console.log(this.formularioLogin.value.email),console.log(this.formularioLogin.value.password),this.authService.login(this.formularioLogin.value).then(()=>{this.router.navigate(["/principal/dashboard"]),ue().fire("Login correcto!","Bienvenido a La Revista","success")}).catch(()=>{ue().fire("Login fallido!","No se ha encontrado la cuenta o la contrase\xf1a es incorrecta","error")})}static#e=this.\u0275fac=function(Be){return new(Be||Ie)(q.Y36(ve.e),q.Y36(te.F0))};static#t=this.\u0275cmp=q.Xpm({type:Ie,selectors:[["app-login"]],decls:25,vars:1,consts:[[1,"bg-slate-900"],[1,"custom-form",3,"formGroup","ngSubmit"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],["href","#",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","text-white"],["src","../../../assets/images/logo.png","alt","logo",1,"w-8","h-8","mr-2"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],[1,"space-y-4","md:space-y-6"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","name","email","id","email","formControlName","email","placeholder","example@email.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["type","submit","value","Enviar",1,"w-full","text-white","bg-blue-600","hover:bg-blue-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-primary-800"],[1,"text-sm","font-light","text-gray-500","dark:text-gray-400"],["routerLink","/principal/registro",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"]],template:function(Be,Ve){1&Be&&(q.TgZ(0,"section",0)(1,"form",1),q.NdJ("ngSubmit",function(){return Ve.onSubmit()}),q.TgZ(2,"div",2)(3,"a",3),q._UZ(4,"img",4),q._uU(5," La Revista "),q.qZA(),q.TgZ(6,"div",5)(7,"div",6)(8,"h1",7),q._uU(9," Sign in to your account "),q.qZA(),q.TgZ(10,"div",8)(11,"div")(12,"label",9),q._uU(13,"Your email"),q.qZA(),q._UZ(14,"input",10),q.qZA(),q.TgZ(15,"div")(16,"label",11),q._uU(17,"Password"),q.qZA(),q._UZ(18,"input",12),q.qZA(),q.TgZ(19,"button",13),q._uU(20," Entrar"),q.qZA(),q.TgZ(21,"p",14),q._uU(22," Don\u2019t have an account yet? "),q.TgZ(23,"a",15),q._uU(24,"Sign up"),q.qZA()()()()()()()()),2&Be&&(q.xp6(1),q.Q6J("formGroup",Ve.formularioLogin))},dependencies:[te.rH,W._Y,W.Fj,W.JJ,W.JL,W.Q7,W.sg,W.u]})}return Ie})();var Pe=F(8215),re=F(7056),oe=F(2253);function Ce(Ie,tt){1&Ie&&(q.TgZ(0,"a",13),q._uU(1,"Administracion"),q.qZA())}function Qe(Ie,tt){if(1&Ie&&(q.TgZ(0,"a",14),q.O4$(),q.TgZ(1,"svg",15),q._UZ(2,"path",16)(3,"path",17),q.qZA(),q._uU(4," Noticias"),q.qZA()),2&Ie){const Je=q.oxw();q.MGl("routerLink","/periodista/crear-noticia/",null==Je.usuarioActual?null:Je.usuarioActual.id,"")}}function We(Ie,tt){if(1&Ie&&(q.TgZ(0,"li")(1,"a",18),q._uU(2),q.qZA()()),2&Ie){const Je=tt.$implicit;q.xp6(1),q.MGl("routerLink","/categoria/ver-categoria/",Je.id,""),q.xp6(1),q.Oqu(Je.tipo)}}const He=function(Ie,tt,Je){return{usuarioNombre:Ie,usuarioId:tt,usuarioRol:Je}},et=function(Ie,tt){return["/noticia/ver-noticia",Ie,tt]};function pt(Ie,tt){if(1&Ie&&(q.ynx(0),q.TgZ(1,"div",19),q._UZ(2,"img",20),q.TgZ(3,"div",21)(4,"h2",22),q._uU(5),q.qZA(),q.TgZ(6,"h5",23),q._uU(7),q.qZA(),q.TgZ(8,"p",24),q._uU(9),q.qZA(),q.TgZ(10,"div",25)(11,"div",26),q._UZ(12,"img",27),q.TgZ(13,"span",28),q._uU(14),q.qZA()(),q.TgZ(15,"span",29)(16,"a",30),q._uU(17,"Leer M\xe1s"),q.qZA()()()()(),q.BQk()),2&Ie){const Je=tt.$implicit,Be=q.oxw();q.xp6(5),q.hij("",Je.titulo," "),q.xp6(2),q.Oqu(Je.categoria),q.xp6(2),q.Oqu(Je.cuerpo),q.xp6(5),q.Oqu(Je.autor),q.xp6(2),q.Q6J("routerLink",q.WLB(9,et,Je.id,q.kEZ(5,He,null==Be.usuarioActual?null:Be.usuarioActual.nombre,null==Be.usuarioActual?null:Be.usuarioActual.id,null==Be.usuarioActual?null:Be.usuarioActual.rol)))}}let Ke=(()=>{class Ie{constructor(Je,Be,Ve,kt){this.authService=Je,this.baseDatos=Be,this.categoriasService=Ve,this.noticiaServicio=kt,this.categorias=[],this.noticiasRecientes=[],localStorage.clear()}ngOnInit(){this.obtenerNoticiasRecientes(),this.obtenerCategorias(),this.emailUsuarioActual=this.authService.obtenerUsuarioActual()?.email,this.usuarioActual||(console.log("Desde la bd"),this.baseDatos.obtenerPorFiltro("usuarios","email",this.emailUsuarioActual).subscribe(Je=>{this.usuarioActual=Je[0]}))}obtenerNoticiasRecientes(){this.noticiaServicio.obtenerNoticias().subscribe(Je=>{Je.sort((Be,Ve)=>Be.id<Ve.id?1:-1),this.noticiasRecientes=Je.slice(0,4)},Je=>{console.error("Error al obtener las noticias:",Je)})}obtenerCategorias(){this.baseDatos.obtenerTodos("categorias").subscribe(Je=>{this.categorias=Je})}logOut(){this.authService.logout()}static#e=this.\u0275fac=function(Be){return new(Be||Ie)(q.Y36(ve.e),q.Y36(Pe.g),q.Y36(re.g),q.Y36(oe.D))};static#t=this.\u0275cmp=q.Xpm({type:Ie,selectors:[["app-dashboard"]],decls:16,vars:4,consts:[[1,"bg-gray-50","dark:bg-gray-900","h-screen"],[1,"flex","justify-between","pt-4","pl-10"],[1,"justify-center","flex"],[1,"h-auto","text-3xl","text-gray-900","dark:text-gray-50"],[1,"flex","justify-end","py-2","pr-5","gap-5"],["routerLink","/administracion/ver-panel","class","w-32 text-white bg-red-600 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center \n        dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",4,"ngIf"],["class","w-32 text-white bg-red-600 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-500 font-medium rounded-lg text-sm px-5 py-2.5 text-center \n        dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800 flex",3,"routerLink",4,"ngIf"],[1,"w-28","text-white","bg-red-600","hover:bg-red-500","focus:ring-4","focus:outline-none","focus:ring-red-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-red-600","dark:hover:bg-red-700","dark:focus:ring-red-800",3,"click"],["id","navbar-sticky",1,"items-center","justify-center","hidden","pb-2","w-full","md:flex","md:w-auto","md:order-1","flex"],[1,"flex","flex-col","p-4","md:p-0","mt-4","font-medium","border","border-gray-100","rounded-lg","bg-gray-50","md:space-x-8","rtl:space-x-reverse","md:flex-row","md:mt-0","md:border-0","md:bg-white","dark:bg-gray-800","md:dark:bg-gray-900","dark:border-gray-700"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","justify-center","items-center","bg-gray-100","min-h-screen"],[1,"grid","grid-cols-2","gap-10","pt-8"],["routerLink","/administracion/ver-panel",1,"w-32","text-white","bg-red-600","hover:bg-red-500","focus:ring-4","focus:outline-none","focus:ring-red-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-red-600","dark:hover:bg-red-700","dark:focus:ring-red-800"],[1,"w-32","text-white","bg-red-600","hover:bg-red-500","focus:ring-4","focus:outline-none","focus:ring-red-500","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-red-600","dark:hover:bg-red-700","dark:focus:ring-red-800","flex",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","me-2"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z"],["stroke-linecap","round","stroke-linejoin","round","d","M4.867 19.125h.008v.008h-.008v-.008Z"],[1,"block","py-2","px-3","text-gray-900","rounded","hover:bg-gray-100","md:hover:bg-transparent","md:hover:text-blue-700","md:p-0","md:dark:hover:text-blue-500","dark:text-white","dark:hover:bg-gray-700","dark:hover:text-white","md:dark:hover:bg-transparent","dark:border-gray-700",3,"routerLink"],[1,"bg-white","rounded-lg","shadow-lg","overflow-hidden","max-w-lg","w-full"],["src","https://images.unsplash.com/photo-1454496522488-7a8e488e8606","alt","Mountain",1,"w-full","h-64","object-cover"],[1,"p-6"],[1,"text-2xl","font-bold","text-gray-800","mb-2"],[1,"font-bold","text-gray-800","mb-2"],[1,"text-gray-700","leading-tight","mb-4",2,"word-break","break-all"],[1,"flex","justify-between","items-center"],[1,"flex","items-center"],["src","assets/images/output_44.png","alt","Avatar",1,"w-8","h-8","rounded-full","mr-2","object-cover"],[1,"text-gray-800","font-semibold"],[1,"text-red-600"],[3,"routerLink"]],template:function(Be,Ve){1&Be&&(q.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),q._uU(4,"La Revista"),q.qZA()(),q.TgZ(5,"div",4),q.YNc(6,Ce,2,0,"a",5),q.YNc(7,Qe,5,1,"a",6),q.TgZ(8,"button",7),q.NdJ("click",function(){return Ve.logOut()}),q._uU(9,"Salir"),q.qZA()()(),q.TgZ(10,"div",8)(11,"ul",9),q.YNc(12,We,3,2,"li",10),q.qZA()(),q.TgZ(13,"div",11)(14,"div",12),q.YNc(15,pt,18,12,"ng-container",10),q.qZA()()()),2&Be&&(q.xp6(6),q.Q6J("ngIf","Admin"===(null==Ve.usuarioActual?null:Ve.usuarioActual.rol)),q.xp6(1),q.Q6J("ngIf","Admin"===(null==Ve.usuarioActual?null:Ve.usuarioActual.rol)||"Periodista"===(null==Ve.usuarioActual?null:Ve.usuarioActual.rol)),q.xp6(5),q.Q6J("ngForOf",Ve.categorias),q.xp6(3),q.Q6J("ngForOf",Ve.noticiasRecientes))},dependencies:[p.sg,p.O5,te.rH]})}return Ie})();var St=F(9535),mt=F(8407),we=F(7398),ze=F(8180);F(3182);const Fe=(0,we.U)(Ie=>!!Ie);let it=(()=>{class Ie{router;auth;constructor(Je,Be){this.router=Je,this.auth=Be}canActivate=(Je,Be)=>{const Ve=Je.data.authGuardPipe||(()=>Fe);return(0,St.EA)(this.auth).pipe((0,ze.q)(1),Ve(Je,Be),(0,we.U)(kt=>"boolean"==typeof kt?kt:Array.isArray(kt)?this.router.createUrlTree(kt):this.router.parseUrl(kt)))};static \u0275fac=function(Be){return new(Be||Ie)(q.LFG(te.F0),q.LFG(St.gx))};static \u0275prov=q.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"any"})}return Ie})(),Bt=(()=>{class Ie{constructor(Je,Be,Ve){this.authService=Je,this.router=Be,this.baseDatos=Ve,this.formularioRegistro=new W.cw({email:new W.NI("",W.kI.required),password:new W.NI("",W.kI.required),nombre:new W.NI("",W.kI.required),apellidos:new W.NI("",W.kI.required),telefono:new W.NI("",W.kI.required)})}signUp(){this.authService.registrar(this.formularioRegistro.value).then(Je=>{console.log(Je),this.insertarUserEnFirebase()}).catch(Je=>{ue().fire("Registro fallido!","Se ha producido un error al crear el usuario","success"),console.error("Error durante el registro:",Je.message)})}insertarUserEnFirebase(){this.baseDatos.insertar("usuarios",{nombre:this.formularioRegistro.value.nombre,apellidos:this.formularioRegistro.value.apellidos,email:this.formularioRegistro.value.email,telefono:this.formularioRegistro.value.telefono,rol:"Usuario",fechaRegistro:new Date}).then(()=>{this.router.navigate(["/principal/login"]),ue().fire("Registro exitoso!","Se ha creado al usuario","success")}).catch(Be=>{console.log(Be),ue().fire("Registro fallido!","Se ha producido un error al introducir el usuario en la base de datos","error")})}static#e=this.\u0275fac=function(Be){return new(Be||Ie)(q.Y36(ve.e),q.Y36(te.F0),q.Y36(Pe.g))};static#t=this.\u0275cmp=q.Xpm({type:Ie,selectors:[["app-registro"]],decls:33,vars:1,consts:[[1,"bg-slate-900"],[1,"custom-form",3,"formGroup","ngSubmit"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],["href","#",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","text-white"],["src","../../../assets/images/logo.png","alt","logo",1,"w-8","h-8","mr-2"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],[1,"space-y-4","md:space-y-6"],["for","nombre",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","name","nombre","id","nombre","formControlName","nombre","placeholder","","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","apellidos",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","name","apellidos","id","apellidos","formControlName","apellidos","placeholder","","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","telefono",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","tel","name","telefono","id","telefono","formControlName","telefono","placeholder","","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","name","email","id","email","formControlName","email","placeholder","example@email.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["type","submit","value","Enviar",1,"w-full","text-white","bg-blue-600","hover:bg-blue-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-primary-800"]],template:function(Be,Ve){1&Be&&(q.TgZ(0,"section",0)(1,"form",1),q.NdJ("ngSubmit",function(){return Ve.signUp()}),q.TgZ(2,"div",2)(3,"a",3),q._UZ(4,"img",4),q._uU(5," PANVDEV "),q.qZA(),q.TgZ(6,"div",5)(7,"div",6)(8,"h1",7),q._uU(9," Registro "),q.qZA(),q.TgZ(10,"div",8)(11,"div")(12,"label",9),q._uU(13,"Nombre"),q.qZA(),q._UZ(14,"input",10),q.qZA(),q.TgZ(15,"div")(16,"label",11),q._uU(17,"Apellidos"),q.qZA(),q._UZ(18,"input",12),q.qZA(),q.TgZ(19,"div")(20,"label",13),q._uU(21,"Tel\xe9fono"),q.qZA(),q._UZ(22,"input",14),q.qZA(),q.TgZ(23,"div")(24,"label",15),q._uU(25,"Your email"),q.qZA(),q._UZ(26,"input",16),q.qZA(),q.TgZ(27,"div")(28,"label",17),q._uU(29,"Password"),q.qZA(),q._UZ(30,"input",18),q.qZA(),q.TgZ(31,"button",19),q._uU(32," Registrar "),q.qZA()()()()()()()),2&Be&&(q.xp6(1),q.Q6J("formGroup",Ve.formularioRegistro))},dependencies:[W._Y,W.Fj,W.JJ,W.JL,W.Q7,W.sg,W.u]})}return Ie})();const xe=[{path:"",component:(()=>{class Ie{static#e=this.\u0275fac=function(Be){return new(Be||Ie)};static#t=this.\u0275cmp=q.Xpm({type:Ie,selectors:[["app-principal"]],decls:1,vars:0,template:function(Be,Ve){1&Be&&q._UZ(0,"router-outlet")},dependencies:[te.lC]})}return Ie})(),children:[{path:"dashboard",component:Ke,...(Ie=()=>{return Ie=["/principal/login"],(0,mt.z)(Fe,(0,we.U)(tt=>tt||Ie));var Ie},{canActivate:[it],data:{authGuardPipe:Ie}})},{path:"registro",component:Bt},{path:"login",component:pe}]}];var Ie;let se=(()=>{class Ie{static#e=this.\u0275fac=function(Be){return new(Be||Ie)};static#t=this.\u0275mod=q.oAB({type:Ie});static#n=this.\u0275inj=q.cJS({imports:[te.Bz.forChild(xe),te.Bz]})}return Ie})(),Re=(()=>{class Ie{static#e=this.\u0275fac=function(Be){return new(Be||Ie)};static#t=this.\u0275mod=q.oAB({type:Ie});static#n=this.\u0275inj=q.cJS({imports:[p.ez,se,W.UX,W.u5]})}return Ie})()},5449:(Tt,Ne,F)=>{"use strict";F.d(Ne,{e:()=>pe});var p=F(5861),W=F(9535),te=F(3519),ye=F.n(te),ue=F(5879),q=F(8215),ve=F(9692);let pe=(()=>{class Pe{constructor(oe,Ce,Qe){this.auth=oe,this.baseDatosServicio=Ce,this.router=Qe}registrar(oe){return(0,W.Xb)(this.auth,oe.email,oe.password)}login(oe){var Ce=this;return(0,p.Z)(function*(){return(0,W.e5)(Ce.auth,oe.email,oe.password)})()}logout(){return localStorage.clear(),this.router.navigate(["/principal/login"]),ye().fire("\xa1Se ha cerrado su sesi\xf3n!","","success"),(0,W.w7)(this.auth)}obtenerUsuarioActual(){return this.auth.currentUser}obtenerUsuarioFirebase(oe){return this.baseDatosServicio.obtenerPorFiltro("usuarios","email",oe)}borrarUsuario(oe){var Ce=this;return(0,p.Z)(function*(){try{const We=(yield Ce.login(oe)).user;We&&(yield(0,W.h8)(We),console.log("Usuario eliminado correctamente de Auth firebase."))}catch(Qe){console.error("Error al eliminar usuario de de Auth firebase:",Qe)}})()}guardarUsuarioEnLocalStorage(){localStorage.clear();const oe=this.obtenerUsuarioActual()?.email;let Ce;this.baseDatosServicio.obtenerPorFiltro("usuarios","email",oe).subscribe(Qe=>{Qe.length>0&&(Ce=Qe[0],console.log("Usuario encontrado:",Ce),localStorage.setItem("usuarioActual",JSON.stringify(Ce)))})}obtenerUsuarioDeLocalStorage(){const oe=localStorage.getItem("usuarioActual");return console.log("Usuario actual:",oe),oe?JSON.parse(oe):null}actualizarUsuarioEnLocalStorage(oe){localStorage.setItem("usuarioActual",JSON.stringify(oe))}eliminarUsuarioDeLocalStorage(){localStorage.removeItem("usuarioActual"),localStorage.clear()}actualizarUsuario(oe){return this.baseDatosServicio.actualizar("usuarios",oe)}enviarCorreoRestablecimiento(oe){return(0,W.LS)(this.auth,oe)}static#e=this.\u0275fac=function(Ce){return new(Ce||Pe)(ue.LFG(W.gx),ue.LFG(q.g),ue.LFG(ve.F0))};static#t=this.\u0275prov=ue.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})()},8215:(Tt,Ne,F)=>{"use strict";F.d(Ne,{g:()=>te});var p=F(3960),W=F(5879);let te=(()=>{class ye{constructor(q){this.fbs=q}obtenerTodos(q){const ve=(0,p.hJ)(this.fbs,q);return(0,p.BS)(ve,{idField:"id"})}obtenerPorId(q,ve){const pe=(0,p.JU)(this.fbs,`${q}/${ve}`);return(0,p._1)(pe,{idField:"id"})}obtenerPorFiltro(q,ve,pe){const Pe=(0,p.hJ)(this.fbs,q),re=(0,p.IO)(Pe,(0,p.ar)(ve,"==",pe));return(0,p.BS)(re,{idField:"id"})}eliminar(q,ve){const pe=(0,p.JU)(this.fbs,`${q}/${ve}`);return(0,p.oe)(pe)}actualizar(q,ve){const pe=(0,p.JU)(this.fbs,`${q}/${ve.id}`);return(0,p.r7)(pe,ve)}insertar(q,ve){const pe=(0,p.hJ)(this.fbs,q);return(0,p.ET)(pe,ve)}obtenerNoticiasPorCategoria(q){return this.obtenerPorFiltro("noticias","categorias",q)}static#e=this.\u0275fac=function(ve){return new(ve||ye)(W.LFG(p.gg))};static#t=this.\u0275prov=W.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},7056:(Tt,Ne,F)=>{"use strict";F.d(Ne,{g:()=>te});var p=F(3960),W=F(5879);let te=(()=>{class ye{constructor(q){this.fbs=q}obtenerTodasCategorias(){const q=(0,p.hJ)(this.fbs,"categorias");return(0,p.BS)(q,{idField:"id"})}obtenerPorId(q,ve){const pe=(0,p.JU)(this.fbs,`${q}/${ve}`);return(0,p._1)(pe,{idField:"id"})}obtenerNoticiasPorCategoria(q){const ve=(0,p.hJ)(this.fbs,"noticias"),pe=(0,p.IO)(ve,(0,p.ar)("categoria","==",q));return(0,p.BS)(pe,{idField:"id"})}static#e=this.\u0275fac=function(ve){return new(ve||ye)(W.LFG(p.gg))};static#t=this.\u0275prov=W.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},2253:(Tt,Ne,F)=>{"use strict";F.d(Ne,{D:()=>Si});var p=F(3960),W=F(5879),te=F(8215),ye=F(6814),ue=F(1920),q=F(7217),pe=(F(6365),F(8645)),Pe=F(2096),re=F(5592),oe=F(2459),Ce=F(3019),Qe=F(3093),We=F(4664),He=F(7398),et=F(4552);class pt extends pe.x{constructor(N=1/0,J=1/0,fe=et.l){super(),this._bufferSize=N,this._windowTime=J,this._timestampProvider=fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=J===1/0,this._bufferSize=Math.max(1,N),this._windowTime=Math.max(1,J)}next(N){const{isStopped:J,_buffer:fe,_infiniteTimeWindow:Ue,_timestampProvider:rt,_windowTime:Mt}=this;J||(fe.push(N),!Ue&&fe.push(rt.now()+Mt)),this._trimBuffer(),super.next(N)}_subscribe(N){this._throwIfClosed(),this._trimBuffer();const J=this._innerSubscribe(N),{_infiniteTimeWindow:fe,_buffer:Ue}=this,rt=Ue.slice();for(let Mt=0;Mt<rt.length&&!N.closed;Mt+=fe?1:2)N.next(rt[Mt]);return this._checkFinalizedStatuses(N),J}_trimBuffer(){const{_bufferSize:N,_timestampProvider:J,_buffer:fe,_infiniteTimeWindow:Ue}=this,rt=(Ue?1:2)*N;if(N<1/0&&rt<fe.length&&fe.splice(0,fe.length-rt),!Ue){const Mt=J.now();let un=0;for(let dn=1;dn<fe.length&&fe[dn]<=Mt;dn+=2)un=dn;un&&fe.splice(0,un+1)}}}var Ke=F(3020);function St(ce,N,J){let fe,Ue=!1;return ce&&"object"==typeof ce?({bufferSize:fe=1/0,windowTime:N=1/0,refCount:Ue=!1,scheduler:J}=ce):fe=ce??1/0,(0,Ke.B)({connector:()=>new pt(fe,N,J),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}var mt=F(1374),we=F(4674);function ze(ce,N){return(0,we.m)(N)?(0,We.w)(()=>ce,N):(0,We.w)(()=>ce)}var Oe=F(5137),Fe=F(2181);F(7142);const Rt=new W.OlP("angularfire2.auth.use-emulator"),Ut=new W.OlP("angularfire2.auth.settings"),Jt=new W.OlP("angularfire2.auth.tenant-id"),Cn=new W.OlP("angularfire2.auth.langugage-code"),ln=new W.OlP("angularfire2.auth.use-device-language"),Xn=new W.OlP("angularfire.auth.persistence"),st=(ce,N,J,fe,Ue,rt,Mt,un)=>(0,q.cc)(`${ce.name}.auth`,"AngularFireAuth",ce.name,()=>{const dn=N.runOutsideAngular(()=>ce.auth());if(J&&dn.useEmulator(...J),fe&&(dn.tenantId=fe),dn.languageCode=Ue,rt&&dn.useDeviceLanguage(),Mt)for(const[_r,dr]of Object.entries(Mt))dn.settings[_r]=dr;return un&&dn.setPersistence(un),dn},[J,fe,Ue,rt,Mt,un]);let Zt=(()=>{class ce{authState;idToken;user;idTokenResult;credential;constructor(J,fe,Ue,rt,Mt,un,dn,_r,dr,ni,hr,Vo){const ri=new pe.x,Pi=(0,Pe.of)(void 0).pipe((0,Qe.Q)(Mt.outsideAngular),(0,We.w)(()=>rt.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,6365)))),(0,He.U)(()=>(0,q.on)(J,rt,fe)),(0,He.U)(kn=>st(kn,rt,un,_r,dr,ni,dn,hr)),St({bufferSize:1,refCount:!1}));if((0,ye.PM)(Ue))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pe.of)(null);else{Pi.pipe((0,mt.P)()).subscribe();const kn=Pi.pipe((0,We.w)(or=>or.getRedirectResult().then(Ar=>Ar,()=>null)),ue.iC,St({bufferSize:1,refCount:!1})),di=Pi.pipe((0,We.w)(or=>new re.y(Ar=>({unsubscribe:rt.runOutsideAngular(()=>or.onAuthStateChanged(zr=>Ar.next(zr),zr=>Ar.error(zr),()=>Ar.complete()))})))),mi=Pi.pipe((0,We.w)(or=>new re.y(Ar=>({unsubscribe:rt.runOutsideAngular(()=>or.onIdTokenChanged(zr=>Ar.next(zr),zr=>Ar.error(zr),()=>Ar.complete()))}))));this.authState=kn.pipe(ze(di),(0,Oe.R)(Mt.outsideAngular),(0,Qe.Q)(Mt.insideAngular)),this.user=kn.pipe(ze(mi),(0,Oe.R)(Mt.outsideAngular),(0,Qe.Q)(Mt.insideAngular)),this.idToken=this.user.pipe((0,We.w)(or=>or?(0,oe.D)(or.getIdToken()):(0,Pe.of)(null))),this.idTokenResult=this.user.pipe((0,We.w)(or=>or?(0,oe.D)(or.getIdTokenResult()):(0,Pe.of)(null))),this.credential=(0,Ce.T)(kn,ri,this.authState.pipe((0,Fe.h)(or=>!or))).pipe((0,He.U)(or=>or?.user?or:null),(0,Oe.R)(Mt.outsideAngular),(0,Qe.Q)(Mt.insideAngular))}return(0,q.pX)(this,Pi,rt,{spy:{apply:(kn,di,mi)=>{(kn.startsWith("signIn")||kn.startsWith("createUser"))&&mi.then(or=>ri.next(or))}}})}static \u0275fac=function(fe){return new(fe||ce)(W.LFG(q.Dh),W.LFG(q.xv,8),W.LFG(W.Lbi),W.LFG(W.R0b),W.LFG(ue.HU),W.LFG(Rt,8),W.LFG(Ut,8),W.LFG(Jt,8),W.LFG(Cn,8),W.LFG(ln,8),W.LFG(Xn,8),W.LFG(ue.Rf,8))};static \u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"})}return ce})();var Te=F(6321),xe=F(7921),se=F(9360),Re=F(8251);function Ie(){return(0,se.e)((ce,N)=>{let J,fe=!1;ce.subscribe((0,Re.x)(N,Ue=>{const rt=J;J=Ue,fe&&N.next([rt,Ue]),fe=!0}))})}var tt=F(6699),Je=F(3997),Be=F(3106),Ve=F(5776),kt=F(9058),bn=F(4537);function Pn(ce,N){if(void 0===N)return{merge:!1};if(void 0!==N.mergeFields&&void 0!==N.merge)throw new Ve.WA("invalid-argument",`Invalid options passed to function ${ce}(): You cannot specify both "merge" and "mergeFields".`);return N}function Nn(){if(typeof Uint8Array>"u")throw new Ve.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Tn(){if(!(0,Ve.Me)())throw new Ve.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Et{constructor(N){this._delegate=N}static fromBase64String(N){return Tn(),new Et(Ve.Jj.fromBase64String(N))}static fromUint8Array(N){return Nn(),new Et(Ve.Jj.fromUint8Array(N))}toBase64(){return Tn(),this._delegate.toBase64()}toUint8Array(){return Nn(),this._delegate.toUint8Array()}isEqual(N){return this._delegate.isEqual(N._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function er(ce){return function lr(ce,N){if("object"!=typeof ce||null===ce)return!1;const J=ce;for(const fe of N)if(fe in J&&"function"==typeof J[fe])return!0;return!1}(ce,["next","error","complete"])}class Ht{enableIndexedDbPersistence(N,J){return(0,Ve.ST)(N._delegate,{forceOwnership:J})}enableMultiTabIndexedDbPersistence(N){return(0,Ve.fH)(N._delegate)}clearIndexedDbPersistence(N){return(0,Ve.Fc)(N._delegate)}}class In{constructor(N,J,fe){this._delegate=J,this._persistenceProvider=fe,this.INTERNAL={delete:()=>this.terminate()},N instanceof Ve.l7||(this._appCompat=N)}get _databaseId(){return this._delegate._databaseId}settings(N){const J=this._delegate._getSettings();!N.merge&&J.host!==N.host&&(0,Ve.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),N.merge&&delete(N=Object.assign(Object.assign({},J),N)).merge,this._delegate._setSettings(N)}useEmulator(N,J,fe={}){(0,Ve.at)(this._delegate,N,J,fe)}enableNetwork(){return(0,Ve.Ix)(this._delegate)}disableNetwork(){return(0,Ve.TF)(this._delegate)}enablePersistence(N){let J=!1,fe=!1;return N&&(J=!!N.synchronizeTabs,fe=!!N.experimentalForceOwningTab,(0,Ve.Wi)("synchronizeTabs",J,"experimentalForceOwningTab",fe)),J?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,fe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ve.Mx)(this._delegate)}onSnapshotsInSync(N){return(0,Ve.sc)(this._delegate,N)}get app(){if(!this._appCompat)throw new Ve.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(N){try{return new Rn(this,(0,Ve.hJ)(this._delegate,N))}catch(J){throw hn(J,"collection()","Firestore.collection()")}}doc(N){try{return new cn(this,(0,Ve.JU)(this._delegate,N))}catch(J){throw hn(J,"doc()","Firestore.doc()")}}collectionGroup(N){try{return new vt(this,(0,Ve.B$)(this._delegate,N))}catch(J){throw hn(J,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(N){return(0,Ve.i3)(this._delegate,J=>N(new zt(this,J)))}batch(){return(0,Ve.qY)(this._delegate),new on(new Ve.PU(this._delegate,N=>(0,Ve.GL)(this._delegate,N)))}loadBundle(N){return(0,Ve.Pb)(this._delegate,N)}namedQuery(N){return(0,Ve.L$)(this._delegate,N).then(J=>J?new vt(this,J):null)}}class Cr extends Ve.u7{constructor(N){super(),this.firestore=N}convertBytes(N){return new Et(new Ve.Jj(N))}convertReference(N){const J=this.convertDocumentKey(N,this.firestore._databaseId);return cn.forKey(J,this.firestore,null)}}class zt{constructor(N,J){this._firestore=N,this._delegate=J,this._userDataWriter=new Cr(N)}get(N){const J=an(N);return this._delegate.get(J).then(fe=>new zn(this._firestore,new Ve.xU(this._firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,J.converter)))}set(N,J,fe){const Ue=an(N);return fe?(Pn("Transaction.set",fe),this._delegate.set(Ue,J,fe)):this._delegate.set(Ue,J),this}update(N,J,fe,...Ue){const rt=an(N);return 2===arguments.length?this._delegate.update(rt,J):this._delegate.update(rt,J,fe,...Ue),this}delete(N){const J=an(N);return this._delegate.delete(J),this}}class on{constructor(N){this._delegate=N}set(N,J,fe){const Ue=an(N);return fe?(Pn("WriteBatch.set",fe),this._delegate.set(Ue,J,fe)):this._delegate.set(Ue,J),this}update(N,J,fe,...Ue){const rt=an(N);return 2===arguments.length?this._delegate.update(rt,J):this._delegate.update(rt,J,fe,...Ue),this}delete(N){const J=an(N);return this._delegate.delete(J),this}commit(){return this._delegate.commit()}}class Ot{constructor(N,J,fe){this._firestore=N,this._userDataWriter=J,this._delegate=fe}fromFirestore(N,J){const fe=new Ve.$q(this._firestore._delegate,this._userDataWriter,N._key,N._document,N.metadata,null);return this._delegate.fromFirestore(new Hr(this._firestore,fe),J??{})}toFirestore(N,J){return J?this._delegate.toFirestore(N,J):this._delegate.toFirestore(N)}static getInstance(N,J){const fe=Ot.INSTANCES;let Ue=fe.get(N);Ue||(Ue=new WeakMap,fe.set(N,Ue));let rt=Ue.get(J);return rt||(rt=new Ot(N,new Cr(N),J),Ue.set(J,rt)),rt}}Ot.INSTANCES=new WeakMap;class cn{constructor(N,J){this.firestore=N,this._delegate=J,this._userDataWriter=new Cr(N)}static forPath(N,J,fe){if(N.length%2!=0)throw new Ve.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${N.canonicalString()} has ${N.length}`);return new cn(J,new Ve.my(J._delegate,fe,new Ve.Ky(N)))}static forKey(N,J,fe){return new cn(J,new Ve.my(J._delegate,fe,N))}get id(){return this._delegate.id}get parent(){return new Rn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(N){try{return new Rn(this.firestore,(0,Ve.hJ)(this._delegate,N))}catch(J){throw hn(J,"collection()","DocumentReference.collection()")}}isEqual(N){return(N=(0,kt.m9)(N))instanceof Ve.my&&(0,Ve.Eo)(this._delegate,N)}set(N,J){J=Pn("DocumentReference.set",J);try{return J?(0,Ve.pl)(this._delegate,N,J):(0,Ve.pl)(this._delegate,N)}catch(fe){throw hn(fe,"setDoc()","DocumentReference.set()")}}update(N,J,...fe){try{return 1===arguments.length?(0,Ve.r7)(this._delegate,N):(0,Ve.r7)(this._delegate,N,J,...fe)}catch(Ue){throw hn(Ue,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ve.oe)(this._delegate)}onSnapshot(...N){const J=Pr(N),fe=sn(N,Ue=>new zn(this.firestore,new Ve.xU(this.firestore._delegate,this._userDataWriter,Ue._key,Ue._document,Ue.metadata,this._delegate.converter)));return(0,Ve.cf)(this._delegate,J,fe)}get(N){let J;return J="cache"===N?.source?(0,Ve.kl)(this._delegate):"server"===N?.source?(0,Ve.Xk)(this._delegate):(0,Ve.QT)(this._delegate),J.then(fe=>new zn(this.firestore,new Ve.xU(this.firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,this._delegate.converter)))}withConverter(N){return new cn(this.firestore,this._delegate.withConverter(N?Ot.getInstance(this.firestore,N):null))}}function hn(ce,N,J){return ce.message=ce.message.replace(N,J),ce}function Pr(ce){for(const N of ce)if("object"==typeof N&&!er(N))return N;return{}}function sn(ce,N){var J,fe;let Ue;return Ue=er(ce[0])?ce[0]:er(ce[1])?ce[1]:"function"==typeof ce[0]?{next:ce[0],error:ce[1],complete:ce[2]}:{next:ce[1],error:ce[2],complete:ce[3]},{next:rt=>{Ue.next&&Ue.next(N(rt))},error:null===(J=Ue.error)||void 0===J?void 0:J.bind(Ue),complete:null===(fe=Ue.complete)||void 0===fe?void 0:fe.bind(Ue)}}class zn{constructor(N,J){this._firestore=N,this._delegate=J}get ref(){return new cn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(N){return this._delegate.data(N)}get(N,J){return this._delegate.get(N,J)}isEqual(N){return(0,Ve.qK)(this._delegate,N._delegate)}}class Hr extends zn{data(N){const J=this._delegate.data(N);return this._delegate._converter||(0,Ve.K9)(void 0!==J,"Document in a QueryDocumentSnapshot should exist"),J}}class vt{constructor(N,J){this.firestore=N,this._delegate=J,this._userDataWriter=new Cr(N)}where(N,J,fe){try{return new vt(this.firestore,(0,Ve.IO)(this._delegate,(0,Ve.ar)(N,J,fe)))}catch(Ue){throw hn(Ue,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(N,J){try{return new vt(this.firestore,(0,Ve.IO)(this._delegate,(0,Ve.Xo)(N,J)))}catch(fe){throw hn(fe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(N){try{return new vt(this.firestore,(0,Ve.IO)(this._delegate,(0,Ve.b9)(N)))}catch(J){throw hn(J,"limit()","Query.limit()")}}limitToLast(N){try{return new vt(this.firestore,(0,Ve.IO)(this._delegate,(0,Ve.vh)(N)))}catch(J){throw hn(J,"limitToLast()","Query.limitToLast()")}}startAt(...N){try{return new vt(this.firestore,(0,Ve.IO)(this._delegate,(0,Ve.e0)(...N)))}catch(J){throw hn(J,"startAt()","Query.startAt()")}}startAfter(...N){try{return new vt(this.firestore,(0,Ve.IO)(this._delegate,(0,Ve.TQ)(...N)))}catch(J){throw hn(J,"startAfter()","Query.startAfter()")}}endBefore(...N){try{return new vt(this.firestore,(0,Ve.IO)(this._delegate,(0,Ve.Lx)(...N)))}catch(J){throw hn(J,"endBefore()","Query.endBefore()")}}endAt(...N){try{return new vt(this.firestore,(0,Ve.IO)(this._delegate,(0,Ve.Wu)(...N)))}catch(J){throw hn(J,"endAt()","Query.endAt()")}}isEqual(N){return(0,Ve.iE)(this._delegate,N._delegate)}get(N){let J;return J="cache"===N?.source?(0,Ve.UQ)(this._delegate):"server"===N?.source?(0,Ve.zN)(this._delegate):(0,Ve.PL)(this._delegate),J.then(fe=>new Wt(this.firestore,new Ve.W(this.firestore._delegate,this._userDataWriter,this._delegate,fe._snapshot)))}onSnapshot(...N){const J=Pr(N),fe=sn(N,Ue=>new Wt(this.firestore,new Ve.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ue._snapshot)));return(0,Ve.cf)(this._delegate,J,fe)}withConverter(N){return new vt(this.firestore,this._delegate.withConverter(N?Ot.getInstance(this.firestore,N):null))}}class Ci{constructor(N,J){this._firestore=N,this._delegate=J}get type(){return this._delegate.type}get doc(){return new Hr(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Wt{constructor(N,J){this._firestore=N,this._delegate=J}get query(){return new vt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(N=>new Hr(this._firestore,N))}docChanges(N){return this._delegate.docChanges(N).map(J=>new Ci(this._firestore,J))}forEach(N,J){this._delegate.forEach(fe=>{N.call(J,new Hr(this._firestore,fe))})}isEqual(N){return(0,Ve.qK)(this._delegate,N._delegate)}}class Rn extends vt{constructor(N,J){super(N,J),this.firestore=N,this._delegate=J}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const N=this._delegate.parent;return N?new cn(this.firestore,N):null}doc(N){try{return new cn(this.firestore,void 0===N?(0,Ve.JU)(this._delegate):(0,Ve.JU)(this._delegate,N))}catch(J){throw hn(J,"doc()","CollectionReference.doc()")}}add(N){return(0,Ve.ET)(this._delegate,N).then(J=>new cn(this.firestore,J))}isEqual(N){return(0,Ve.Eo)(this._delegate,N._delegate)}withConverter(N){return new Rn(this.firestore,this._delegate.withConverter(N?Ot.getInstance(this.firestore,N):null))}}function an(ce){return(0,Ve.Cf)(ce,Ve.my)}class Lr{constructor(...N){this._delegate=new Ve.Lz(...N)}static documentId(){return new Lr(Ve.Xb.keyField().canonicalString())}isEqual(N){return(N=(0,kt.m9)(N))instanceof Ve.Lz&&this._delegate._internalPath.isEqual(N._internalPath)}}class An{constructor(N){this._delegate=N}static serverTimestamp(){const N=(0,Ve.Bt)();return N._methodName="FieldValue.serverTimestamp",new An(N)}static delete(){const N=(0,Ve.AK)();return N._methodName="FieldValue.delete",new An(N)}static arrayUnion(...N){const J=(0,Ve.vr)(...N);return J._methodName="FieldValue.arrayUnion",new An(J)}static arrayRemove(...N){const J=(0,Ve.Ab)(...N);return J._methodName="FieldValue.arrayRemove",new An(J)}static increment(N){const J=(0,Ve.nP)(N);return J._methodName="FieldValue.increment",new An(J)}isEqual(N){return this._delegate.isEqual(N._delegate)}}const fn={Firestore:In,GeoPoint:Ve.F8,Timestamp:Ve.EK,Blob:Et,Transaction:zt,WriteBatch:on,DocumentReference:cn,DocumentSnapshot:zn,Query:vt,QueryDocumentSnapshot:Hr,QuerySnapshot:Wt,CollectionReference:Rn,FieldPath:Lr,FieldValue:An,setLogLevel:function Hn(ce){(0,Ve.Ub)(ce)},CACHE_SIZE_UNLIMITED:Ve.IX};function ci(ce,N){return function mr(ce,N=Te.z){return new re.y(J=>{let fe;return null!=N?N.schedule(()=>{fe=ce.onSnapshot({includeMetadataChanges:!0},J)}):fe=ce.onSnapshot({includeMetadataChanges:!0},J),()=>{fe?.()}})}(ce,N)}function _n(ce,N){return ci(ce,N).pipe((0,He.U)(J=>({payload:J,type:"query"})))}!function tr(ce){(function Ur(ce,N){ce.INTERNAL.registerComponent(new bn.wA("firestore-compat",J=>{const fe=J.getProvider("app-compat").getImmediate(),Ue=J.getProvider("firestore").getImmediate();return N(fe,Ue)},"PUBLIC").setServiceProps(Object.assign({},fn)))})(ce,(N,J)=>new In(N,J,new Ht)),ce.registerVersion("@firebase/firestore-compat","0.3.25")}(Be.Z);class vn{ref;afs;constructor(N,J){this.ref=N,this.afs=J}set(N,J){return this.ref.set(N,J)}update(N){return this.ref.update(N)}delete(){return this.ref.delete()}collection(N,J){const fe=this.ref.collection(N),{ref:Ue,query:rt}=Dn(fe,J);return new Ee(Ue,rt,this.afs)}snapshotChanges(){return function Kn(ce,N){return ci(ce,N).pipe((0,xe.O)(void 0),Ie(),(0,He.U)(J=>{const[fe,Ue]=J;return Ue.exists?fe?.exists?{payload:Ue,type:"modified"}:{payload:Ue,type:"added"}:{payload:Ue,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(N={}){return this.snapshotChanges().pipe((0,He.U)(({payload:J})=>N.idField?{...J.data(),[N.idField]:J.id}:J.data()))}get(N){return(0,oe.D)(this.ref.get(N)).pipe(ue.iC)}}function ge(ce,N){return _n(ce,N).pipe((0,xe.O)(void 0),Ie(),(0,He.U)(J=>{const[fe,Ue]=J,rt=Ue.payload.docChanges(),Mt=rt.map(un=>({type:un.type,payload:un}));return fe&&JSON.stringify(fe.payload.metadata)!==JSON.stringify(Ue.payload.metadata)&&Ue.payload.docs.forEach((un,dn)=>{const _r=rt.find(ni=>ni.doc.ref.isEqual(un.ref)),dr=fe?.payload.docs.find(ni=>ni.ref.isEqual(un.ref));_r&&JSON.stringify(_r.doc.metadata)===JSON.stringify(un.metadata)||!_r&&dr&&JSON.stringify(dr.metadata)===JSON.stringify(un.metadata)||Mt.push({type:"modified",payload:{oldIndex:dn,newIndex:dn,type:"modified",doc:un}})}),Mt}))}function K(ce,N,J){return ge(ce,J).pipe((0,tt.R)((fe,Ue)=>function L(ce,N,J){return N.forEach(fe=>{J.indexOf(fe.type)>-1&&(ce=function O(ce,N){switch(N.type){case"added":if(!ce[N.newIndex]||!ce[N.newIndex].doc.ref.isEqual(N.doc.ref))return M(ce,N.newIndex,0,N);break;case"modified":if(null==ce[N.oldIndex]||ce[N.oldIndex].doc.ref.isEqual(N.doc.ref)){if(N.oldIndex!==N.newIndex){const J=ce.slice();return J.splice(N.oldIndex,1),J.splice(N.newIndex,0,N),J}return M(ce,N.newIndex,1,N)}break;case"removed":if(ce[N.oldIndex]&&ce[N.oldIndex].doc.ref.isEqual(N.doc.ref))return M(ce,N.oldIndex,1)}return ce}(ce,fe))}),ce}(fe,Ue.map(rt=>rt.payload),N),[]),(0,Je.x)(),(0,He.U)(fe=>fe.map(Ue=>({type:Ue.type,payload:Ue}))))}function M(ce,N,J,...fe){const Ue=ce.slice();return Ue.splice(N,J,...fe),Ue}function ie(ce){return(!ce||0===ce.length)&&(ce=["added","removed","modified"]),ce}class Ee{ref;query;afs;constructor(N,J,fe){this.ref=N,this.query=J,this.afs=fe}stateChanges(N){let J=ge(this.query,this.afs.schedulers.outsideAngular);return N&&N.length>0&&(J=J.pipe((0,He.U)(fe=>fe.filter(Ue=>N.indexOf(Ue.type)>-1)))),J.pipe((0,xe.O)(void 0),Ie(),(0,Fe.h)(([fe,Ue])=>Ue.length>0||!fe),(0,He.U)(([,fe])=>fe),ue.iC)}auditTrail(N){return this.stateChanges(N).pipe((0,tt.R)((J,fe)=>[...J,...fe],[]))}snapshotChanges(N){const J=ie(N);return K(this.query,J,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(N={}){return _n(this.query,this.afs.schedulers.outsideAngular).pipe((0,He.U)(J=>J.payload.docs.map(fe=>N.idField?{...fe.data(),[N.idField]:fe.id}:fe.data())),ue.iC)}get(N){return(0,oe.D)(this.query.get(N)).pipe(ue.iC)}add(N){return this.ref.add(N)}doc(N){return new vn(this.ref.doc(N),this.afs)}}class nt{query;afs;constructor(N,J){this.query=N,this.afs=J}stateChanges(N){return N&&0!==N.length?ge(this.query,this.afs.schedulers.outsideAngular).pipe((0,He.U)(J=>J.filter(fe=>N.indexOf(fe.type)>-1)),(0,Fe.h)(J=>J.length>0),ue.iC):ge(this.query,this.afs.schedulers.outsideAngular).pipe(ue.iC)}auditTrail(N){return this.stateChanges(N).pipe((0,tt.R)((J,fe)=>[...J,...fe],[]))}snapshotChanges(N){const J=ie(N);return K(this.query,J,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(N={}){return _n(this.query,this.afs.schedulers.outsideAngular).pipe((0,He.U)(fe=>fe.payload.docs.map(Ue=>N.idField?{[N.idField]:Ue.id,...Ue.data()}:Ue.data())),ue.iC)}get(N){return(0,oe.D)(this.query.get(N)).pipe(ue.iC)}}const ct=new W.OlP("angularfire2.enableFirestorePersistence"),It=new W.OlP("angularfire2.firestore.persistenceSettings"),_t=new W.OlP("angularfire2.firestore.settings"),Kt=new W.OlP("angularfire2.firestore.use-emulator");function Dn(ce,N=(J=>J)){return{query:N(ce),ref:ce}}let Xt=(()=>{class ce{schedulers;firestore;persistenceEnabled$;constructor(J,fe,Ue,rt,Mt,un,dn,_r,dr,ni,hr,Vo,ri,Pi,kn,di,mi){this.schedulers=dn;const or=(0,q.on)(J,un,fe),Ar=dr;ni&&st(or,un,hr,ri,Pi,kn,Vo,di),[this.firestore,this.persistenceEnabled$]=(0,q.cc)(`${or.name}.firestore`,"AngularFirestore",or.name,()=>{const zr=un.runOutsideAngular(()=>or.firestore());if(rt&&zr.settings(rt),Ar&&zr.useEmulator(...Ar),Ue&&!(0,ye.PM)(Mt)){const dt=()=>{try{return(0,oe.D)(zr.enablePersistence(_r||void 0).then(()=>!0,()=>!1))}catch(yt){return typeof console<"u"&&console.warn(yt),(0,Pe.of)(!1)}};return[zr,un.runOutsideAngular(dt)]}return[zr,(0,Pe.of)(!1)]},[rt,Ar,Ue])}collection(J,fe){let Ue;Ue="string"==typeof J?this.firestore.collection(J):J;const{ref:rt,query:Mt}=Dn(Ue,fe),un=this.schedulers.ngZone.run(()=>rt);return new Ee(un,Mt,this)}collectionGroup(J,fe){const Ue=fe||(Mt=>Mt),rt=this.firestore.collectionGroup(J);return new nt(Ue(rt),this)}doc(J){let fe;fe="string"==typeof J?this.firestore.doc(J):J;const Ue=this.schedulers.ngZone.run(()=>fe);return new vn(Ue,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(fe){return new(fe||ce)(W.LFG(q.Dh),W.LFG(q.xv,8),W.LFG(ct,8),W.LFG(_t,8),W.LFG(W.Lbi),W.LFG(W.R0b),W.LFG(ue.HU),W.LFG(It,8),W.LFG(Kt,8),W.LFG(Zt,8),W.LFG(Rt,8),W.LFG(Ut,8),W.LFG(Jt,8),W.LFG(Cn,8),W.LFG(ln,8),W.LFG(Xn,8),W.LFG(ue.Rf,8))};static \u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"any"})}return ce})(),Si=(()=>{class ce{constructor(J,fe,Ue){this.baseDatosServicio=J,this.fbs=fe,this.firestore=Ue,this.noticiasCollection=this.firestore.collection("noticias")}crearNoticia(J){return this.baseDatosServicio.insertar("noticias",J)}obtenerNoticiasPorCategoria(J){const fe=(0,p.hJ)(this.fbs,"noticias"),Ue=(0,p.IO)(fe,(0,p.ar)("categoria","==",J));return(0,p.BS)(Ue,{idField:"id"})}obtenerNoticias(){return this.noticiasCollection.valueChanges({idField:"id"})}obtenerNoticiaPorId(J){const fe=(0,p.JU)(this.fbs,"noticias",J);return(0,p._1)(fe,{idField:"id"})}static#e=this.\u0275fac=function(fe){return new(fe||ce)(W.LFG(te.g),W.LFG(p.gg),W.LFG(Xt))};static#t=this.\u0275prov=W.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})()},6162:(Tt,Ne,F)=>{"use strict";var p=F(6593),W=F(9692),te=F(5879);const ye=[{path:"",redirectTo:"principal/login",pathMatch:"full"},{path:"principal",loadChildren:()=>Promise.resolve().then(F.bind(F,5952)).then(He=>He.principalModule)},{path:"administracion",loadChildren:()=>F.e(528).then(F.bind(F,8528)).then(He=>He.AdministrarModule)},{path:"periodista",loadChildren:()=>Promise.all([F.e(592),F.e(672)]).then(F.bind(F,9672)).then(He=>He.PeriodistaModule)},{path:"categoria",loadChildren:()=>F.e(729).then(F.bind(F,8729)).then(He=>He.CategoriasModule)},{path:"noticia",loadChildren:()=>Promise.all([F.e(592),F.e(875)]).then(F.bind(F,5875)).then(He=>He.NoticiasModule)}];let ue=(()=>{class He{static#e=this.\u0275fac=function(Ke){return new(Ke||He)};static#t=this.\u0275mod=te.oAB({type:He});static#n=this.\u0275inj=te.cJS({imports:[W.Bz.forRoot(ye),W.Bz]})}return He})(),q=(()=>{class He{constructor(){this.title="ProyectoPeriodicoAngular"}static#e=this.\u0275fac=function(Ke){return new(Ke||He)};static#t=this.\u0275cmp=te.Xpm({type:He,selectors:[["app-root"]],decls:1,vars:0,template:function(Ke,St){1&Ke&&te._UZ(0,"router-outlet")},dependencies:[W.lC]})}return He})();var ve=F(721),pe=F(9535),Pe=F(3960);const re_firebase={apiKey:"AIzaSyCbbM9zSILeaqMqOzgonH_fUPOxGVrHylY",authDomain:"fireperiodico.firebaseapp.com",projectId:"fireperiodico",storageBucket:"fireperiodico.appspot.com",messagingSenderId:"790938286217",appId:"1:790938286217:web:1f65e77c2c5c4949156e58"};var oe=F(7217),Ce=F(5952),Qe=F(95);let We=(()=>{class He{static#e=this.\u0275fac=function(Ke){return new(Ke||He)};static#t=this.\u0275mod=te.oAB({type:He,bootstrap:[q]});static#n=this.\u0275inj=te.cJS({imports:[p.b2,ue,Qe.u5,Ce.principalModule,(0,ve.hX)(()=>(0,ve.ZF)(re_firebase)),(0,pe.AR)(()=>(0,pe.v0)()),(0,Pe.Cm)(()=>(0,Pe.ad)()),oe.hO.initializeApp(re_firebase)]})}return He})();p.q6().bootstrapModule(We).catch(He=>console.error(He))},5619:(Tt,Ne,F)=>{"use strict";F.d(Ne,{X:()=>W});var p=F(8645);class W extends p.x{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const ue=super._subscribe(ye);return!ue.closed&&ye.next(this._value),ue}getValue(){const{hasError:ye,thrownError:ue,_value:q}=this;if(ye)throw ue;return this._throwIfClosed(),q}next(ye){super.next(this._value=ye)}}},5592:(Tt,Ne,F)=>{"use strict";F.d(Ne,{y:()=>pe});var p=F(305),W=F(7394),te=F(4850),ye=F(8407),ue=F(2653),q=F(4674),ve=F(1441);let pe=(()=>{class Ce{constructor(We){We&&(this._subscribe=We)}lift(We){const He=new Ce;return He.source=this,He.operator=We,He}subscribe(We,He,et){const pt=function oe(Ce){return Ce&&Ce instanceof p.Lv||function re(Ce){return Ce&&(0,q.m)(Ce.next)&&(0,q.m)(Ce.error)&&(0,q.m)(Ce.complete)}(Ce)&&(0,W.Nn)(Ce)}(We)?We:new p.Hp(We,He,et);return(0,ve.x)(()=>{const{operator:Ke,source:St}=this;pt.add(Ke?Ke.call(pt,St):St?this._subscribe(pt):this._trySubscribe(pt))}),pt}_trySubscribe(We){try{return this._subscribe(We)}catch(He){We.error(He)}}forEach(We,He){return new(He=Pe(He))((et,pt)=>{const Ke=new p.Hp({next:St=>{try{We(St)}catch(mt){pt(mt),Ke.unsubscribe()}},error:pt,complete:et});this.subscribe(Ke)})}_subscribe(We){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(We)}[te.L](){return this}pipe(...We){return(0,ye.U)(We)(this)}toPromise(We){return new(We=Pe(We))((He,et)=>{let pt;this.subscribe(Ke=>pt=Ke,Ke=>et(Ke),()=>He(pt))})}}return Ce.create=Qe=>new Ce(Qe),Ce})();function Pe(Ce){var Qe;return null!==(Qe=Ce??ue.config.Promise)&&void 0!==Qe?Qe:Promise}},8645:(Tt,Ne,F)=>{"use strict";F.d(Ne,{x:()=>ve});var p=F(5592),W=F(7394);const ye=(0,F(2306).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=F(9039),q=F(1441);let ve=(()=>{class Pe extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Ce=new pe(this,this);return Ce.operator=oe,Ce}_throwIfClosed(){if(this.closed)throw new ye}next(oe){(0,q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(oe)}})}error(oe){(0,q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(oe)}})}complete(){(0,q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Ce,isStopped:Qe,observers:We}=this;return Ce||Qe?W.Lc:(this.currentObservers=null,We.push(oe),new W.w0(()=>{this.currentObservers=null,(0,ue.P)(We,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Ce,thrownError:Qe,isStopped:We}=this;Ce?oe.error(Qe):We&&oe.complete()}asObservable(){const oe=new p.y;return oe.source=this,oe}}return Pe.create=(re,oe)=>new pe(re,oe),Pe})();class pe extends ve{constructor(re,oe){super(),this.destination=re,this.source=oe}next(re){var oe,Ce;null===(Ce=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Ce||Ce.call(oe,re)}error(re){var oe,Ce;null===(Ce=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Ce||Ce.call(oe,re)}complete(){var re,oe;null===(oe=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===oe||oe.call(re)}_subscribe(re){var oe,Ce;return null!==(Ce=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(re))&&void 0!==Ce?Ce:W.Lc}}},305:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Hp:()=>et,Lv:()=>Ce});var p=F(4674),W=F(7394),te=F(2653),ye=F(3894),ue=F(2420);const q=Pe("C",void 0,void 0);function Pe(we,ze,Oe){return{kind:we,value:ze,error:Oe}}var re=F(7599),oe=F(1441);class Ce extends W.w0{constructor(ze){super(),this.isStopped=!1,ze?(this.destination=ze,(0,W.Nn)(ze)&&ze.add(this)):this.destination=mt}static create(ze,Oe,Fe){return new et(ze,Oe,Fe)}next(ze){this.isStopped?St(function pe(we){return Pe("N",we,void 0)}(ze),this):this._next(ze)}error(ze){this.isStopped?St(function ve(we){return Pe("E",void 0,we)}(ze),this):(this.isStopped=!0,this._error(ze))}complete(){this.isStopped?St(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ze){this.destination.next(ze)}_error(ze){try{this.destination.error(ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function We(we,ze){return Qe.call(we,ze)}class He{constructor(ze){this.partialObserver=ze}next(ze){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(ze)}catch(Fe){pt(Fe)}}error(ze){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(ze)}catch(Fe){pt(Fe)}else pt(ze)}complete(){const{partialObserver:ze}=this;if(ze.complete)try{ze.complete()}catch(Oe){pt(Oe)}}}class et extends Ce{constructor(ze,Oe,Fe){let it;if(super(),(0,p.m)(ze)||!ze)it={next:ze??void 0,error:Oe??void 0,complete:Fe??void 0};else{let De;this&&te.config.useDeprecatedNextContext?(De=Object.create(ze),De.unsubscribe=()=>this.unsubscribe(),it={next:ze.next&&We(ze.next,De),error:ze.error&&We(ze.error,De),complete:ze.complete&&We(ze.complete,De)}):it=ze}this.destination=new He(it)}}function pt(we){te.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(we):(0,ye.h)(we)}function St(we,ze){const{onStoppedNotification:Oe}=te.config;Oe&&re.z.setTimeout(()=>Oe(we,ze))}const mt={closed:!0,next:ue.Z,error:function Ke(we){throw we},complete:ue.Z}},7394:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Lc:()=>q,w0:()=>ue,Nn:()=>ve});var p=F(4674);const te=(0,F(2306).d)(Pe=>function(oe){Pe(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Ce,Qe)=>`${Qe+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var ye=F(9039);class ue{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const We of oe)We.remove(this);else oe.remove(this);const{initialTeardown:Ce}=this;if((0,p.m)(Ce))try{Ce()}catch(We){re=We instanceof te?We.errors:[We]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const We of Qe)try{pe(We)}catch(He){re=re??[],He instanceof te?re=[...re,...He.errors]:re.push(He)}}if(re)throw new te(re)}}add(re){var oe;if(re&&re!==this)if(this.closed)pe(re);else{if(re instanceof ue){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(re)}}_hasParent(re){const{_parentage:oe}=this;return oe===re||Array.isArray(oe)&&oe.includes(re)}_addParent(re){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(re),oe):oe?[oe,re]:re}_removeParent(re){const{_parentage:oe}=this;oe===re?this._parentage=null:Array.isArray(oe)&&(0,ye.P)(oe,re)}remove(re){const{_finalizers:oe}=this;oe&&(0,ye.P)(oe,re),re instanceof ue&&re._removeParent(this)}}ue.EMPTY=(()=>{const Pe=new ue;return Pe.closed=!0,Pe})();const q=ue.EMPTY;function ve(Pe){return Pe instanceof ue||Pe&&"closed"in Pe&&(0,p.m)(Pe.remove)&&(0,p.m)(Pe.add)&&(0,p.m)(Pe.unsubscribe)}function pe(Pe){(0,p.m)(Pe)?Pe():Pe.unsubscribe()}},2653:(Tt,Ne,F)=>{"use strict";F.d(Ne,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Tt,Ne,F)=>{"use strict";F.d(Ne,{z:()=>ue});var p=F(7537),te=F(4564),ye=F(2459);function ue(...q){return function W(){return(0,p.J)(1)}()((0,ye.D)(q,(0,te.yG)(q)))}},6232:(Tt,Ne,F)=>{"use strict";F.d(Ne,{E:()=>W});const W=new(F(5592).y)(ue=>ue.complete())},2459:(Tt,Ne,F)=>{"use strict";F.d(Ne,{D:()=>ze});var p=F(4829),W=F(3093),te=F(5137),q=F(5592),pe=F(4971),Pe=F(4674),re=F(7103);function Ce(Oe,Fe){if(!Oe)throw new Error("Iterable cannot be null");return new q.y(it=>{(0,re.f)(it,Fe,()=>{const De=Oe[Symbol.asyncIterator]();(0,re.f)(it,Fe,()=>{De.next().then(Rt=>{Rt.done?it.complete():it.next(Rt.value)})},0,!0)})})}var Qe=F(8382),We=F(4026),He=F(4266),et=F(3664),pt=F(5726),Ke=F(9853),St=F(541);function ze(Oe,Fe){return Fe?function we(Oe,Fe){if(null!=Oe){if((0,Qe.c)(Oe))return function ye(Oe,Fe){return(0,p.Xf)(Oe).pipe((0,te.R)(Fe),(0,W.Q)(Fe))}(Oe,Fe);if((0,He.z)(Oe))return function ve(Oe,Fe){return new q.y(it=>{let De=0;return Fe.schedule(function(){De===Oe.length?it.complete():(it.next(Oe[De++]),it.closed||this.schedule())})})}(Oe,Fe);if((0,We.t)(Oe))return function ue(Oe,Fe){return(0,p.Xf)(Oe).pipe((0,te.R)(Fe),(0,W.Q)(Fe))}(Oe,Fe);if((0,pt.D)(Oe))return Ce(Oe,Fe);if((0,et.T)(Oe))return function oe(Oe,Fe){return new q.y(it=>{let De;return(0,re.f)(it,Fe,()=>{De=Oe[pe.h](),(0,re.f)(it,Fe,()=>{let Rt,Ut;try{({value:Rt,done:Ut}=De.next())}catch(Jt){return void it.error(Jt)}Ut?it.complete():it.next(Rt)},0,!0)}),()=>(0,Pe.m)(De?.return)&&De.return()})}(Oe,Fe);if((0,St.L)(Oe))return function mt(Oe,Fe){return Ce((0,St.Q)(Oe),Fe)}(Oe,Fe)}throw(0,Ke.z)(Oe)}(Oe,Fe):(0,p.Xf)(Oe)}},4829:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Xf:()=>Qe});var p=F(7582),W=F(4266),te=F(4026),ye=F(5592),ue=F(8382),q=F(5726),ve=F(9853),pe=F(3664),Pe=F(541),re=F(4674),oe=F(3894),Ce=F(4850);function Qe(we){if(we instanceof ye.y)return we;if(null!=we){if((0,ue.c)(we))return function We(we){return new ye.y(ze=>{const Oe=we[Ce.L]();if((0,re.m)(Oe.subscribe))return Oe.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,W.z)(we))return function He(we){return new ye.y(ze=>{for(let Oe=0;Oe<we.length&&!ze.closed;Oe++)ze.next(we[Oe]);ze.complete()})}(we);if((0,te.t)(we))return function et(we){return new ye.y(ze=>{we.then(Oe=>{ze.closed||(ze.next(Oe),ze.complete())},Oe=>ze.error(Oe)).then(null,oe.h)})}(we);if((0,q.D)(we))return Ke(we);if((0,pe.T)(we))return function pt(we){return new ye.y(ze=>{for(const Oe of we)if(ze.next(Oe),ze.closed)return;ze.complete()})}(we);if((0,Pe.L)(we))return function St(we){return Ke((0,Pe.Q)(we))}(we)}throw(0,ve.z)(we)}function Ke(we){return new ye.y(ze=>{(function mt(we,ze){var Oe,Fe,it,De;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,p.KL)(we);!(Fe=yield Oe.next()).done;)if(ze.next(Fe.value),ze.closed)return}catch(Rt){it={error:Rt}}finally{try{Fe&&!Fe.done&&(De=Oe.return)&&(yield De.call(Oe))}finally{if(it)throw it.error}}ze.complete()})})(we,ze).catch(Oe=>ze.error(Oe))})}},3019:(Tt,Ne,F)=>{"use strict";F.d(Ne,{T:()=>q});var p=F(7537),W=F(4829),te=F(6232),ye=F(4564),ue=F(2459);function q(...ve){const pe=(0,ye.yG)(ve),Pe=(0,ye._6)(ve,1/0),re=ve;return re.length?1===re.length?(0,W.Xf)(re[0]):(0,p.J)(Pe)((0,ue.D)(re,pe)):te.E}},2096:(Tt,Ne,F)=>{"use strict";F.d(Ne,{of:()=>te});var p=F(4564),W=F(2459);function te(...ye){const ue=(0,p.yG)(ye);return(0,W.D)(ye,ue)}},8251:(Tt,Ne,F)=>{"use strict";F.d(Ne,{x:()=>W});var p=F(305);function W(ye,ue,q,ve,pe){return new te(ye,ue,q,ve,pe)}class te extends p.Lv{constructor(ue,q,ve,pe,Pe,re){super(ue),this.onFinalize=Pe,this.shouldUnsubscribe=re,this._next=q?function(oe){try{q(oe)}catch(Ce){ue.error(Ce)}}:super._next,this._error=pe?function(oe){try{pe(oe)}catch(Ce){ue.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(oe){ue.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:q}=this;super.unsubscribe(),!q&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},3572:(Tt,Ne,F)=>{"use strict";F.d(Ne,{d:()=>te});var p=F(9360),W=F(8251);function te(ye){return(0,p.e)((ue,q)=>{let ve=!1;ue.subscribe((0,W.x)(q,pe=>{ve=!0,q.next(pe)},()=>{ve||q.next(ye),q.complete()}))})}},3997:(Tt,Ne,F)=>{"use strict";F.d(Ne,{x:()=>ye});var p=F(2737),W=F(9360),te=F(8251);function ye(q,ve=p.y){return q=q??ue,(0,W.e)((pe,Pe)=>{let re,oe=!0;pe.subscribe((0,te.x)(Pe,Ce=>{const Qe=ve(Ce);(oe||!q(re,Qe))&&(oe=!1,re=Qe,Pe.next(Ce))}))})}function ue(q,ve){return q===ve}},2181:(Tt,Ne,F)=>{"use strict";F.d(Ne,{h:()=>te});var p=F(9360),W=F(8251);function te(ye,ue){return(0,p.e)((q,ve)=>{let pe=0;q.subscribe((0,W.x)(ve,Pe=>ye.call(ue,Pe,pe++)&&ve.next(Pe)))})}},1374:(Tt,Ne,F)=>{"use strict";F.d(Ne,{P:()=>ve});var p=F(6973),W=F(2181),te=F(8180),ye=F(3572),ue=F(3026),q=F(2737);function ve(pe,Pe){const re=arguments.length>=2;return oe=>oe.pipe(pe?(0,W.h)((Ce,Qe)=>pe(Ce,Qe,oe)):q.y,(0,te.q)(1),re?(0,ye.d)(Pe):(0,ue.T)(()=>new p.K))}},7398:(Tt,Ne,F)=>{"use strict";F.d(Ne,{U:()=>te});var p=F(9360),W=F(8251);function te(ye,ue){return(0,p.e)((q,ve)=>{let pe=0;q.subscribe((0,W.x)(ve,Pe=>{ve.next(ye.call(ue,Pe,pe++))}))})}},7537:(Tt,Ne,F)=>{"use strict";F.d(Ne,{J:()=>te});var p=F(1631),W=F(2737);function te(ye=1/0){return(0,p.z)(W.y,ye)}},1631:(Tt,Ne,F)=>{"use strict";F.d(Ne,{z:()=>pe});var p=F(7398),W=F(4829),te=F(9360),ye=F(7103),ue=F(8251),ve=F(4674);function pe(Pe,re,oe=1/0){return(0,ve.m)(re)?pe((Ce,Qe)=>(0,p.U)((We,He)=>re(Ce,We,Qe,He))((0,W.Xf)(Pe(Ce,Qe))),oe):("number"==typeof re&&(oe=re),(0,te.e)((Ce,Qe)=>function q(Pe,re,oe,Ce,Qe,We,He,et){const pt=[];let Ke=0,St=0,mt=!1;const we=()=>{mt&&!pt.length&&!Ke&&re.complete()},ze=Fe=>Ke<Ce?Oe(Fe):pt.push(Fe),Oe=Fe=>{We&&re.next(Fe),Ke++;let it=!1;(0,W.Xf)(oe(Fe,St++)).subscribe((0,ue.x)(re,De=>{Qe?.(De),We?ze(De):re.next(De)},()=>{it=!0},void 0,()=>{if(it)try{for(Ke--;pt.length&&Ke<Ce;){const De=pt.shift();He?(0,ye.f)(re,He,()=>Oe(De)):Oe(De)}we()}catch(De){re.error(De)}}))};return Pe.subscribe((0,ue.x)(re,ze,()=>{mt=!0,we()})),()=>{et?.()}}(Ce,Qe,Pe,oe)))}},3093:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Q:()=>ye});var p=F(7103),W=F(9360),te=F(8251);function ye(ue,q=0){return(0,W.e)((ve,pe)=>{ve.subscribe((0,te.x)(pe,Pe=>(0,p.f)(pe,ue,()=>pe.next(Pe),q),()=>(0,p.f)(pe,ue,()=>pe.complete(),q),Pe=>(0,p.f)(pe,ue,()=>pe.error(Pe),q)))})}},6699:(Tt,Ne,F)=>{"use strict";F.d(Ne,{R:()=>ye});var p=F(9360),W=F(8251);function ye(ue,q){return(0,p.e)(function te(ue,q,ve,pe,Pe){return(re,oe)=>{let Ce=ve,Qe=q,We=0;re.subscribe((0,W.x)(oe,He=>{const et=We++;Qe=Ce?ue(Qe,He,et):(Ce=!0,He),pe&&oe.next(Qe)},Pe&&(()=>{Ce&&oe.next(Qe),oe.complete()})))}}(ue,q,arguments.length>=2,!0))}},3020:(Tt,Ne,F)=>{"use strict";F.d(Ne,{B:()=>ue});var p=F(4829),W=F(8645),te=F(305),ye=F(9360);function ue(ve={}){const{connector:pe=(()=>new W.x),resetOnError:Pe=!0,resetOnComplete:re=!0,resetOnRefCountZero:oe=!0}=ve;return Ce=>{let Qe,We,He,et=0,pt=!1,Ke=!1;const St=()=>{We?.unsubscribe(),We=void 0},mt=()=>{St(),Qe=He=void 0,pt=Ke=!1},we=()=>{const ze=Qe;mt(),ze?.unsubscribe()};return(0,ye.e)((ze,Oe)=>{et++,!Ke&&!pt&&St();const Fe=He=He??pe();Oe.add(()=>{et--,0===et&&!Ke&&!pt&&(We=q(we,oe))}),Fe.subscribe(Oe),!Qe&&et>0&&(Qe=new te.Hp({next:it=>Fe.next(it),error:it=>{Ke=!0,St(),We=q(mt,Pe,it),Fe.error(it)},complete:()=>{pt=!0,St(),We=q(mt,re),Fe.complete()}}),(0,p.Xf)(ze).subscribe(Qe))})(Ce)}}function q(ve,pe,...Pe){if(!0===pe)return void ve();if(!1===pe)return;const re=new te.Hp({next:()=>{re.unsubscribe(),ve()}});return(0,p.Xf)(pe(...Pe)).subscribe(re)}},7921:(Tt,Ne,F)=>{"use strict";F.d(Ne,{O:()=>ye});var p=F(5211),W=F(4564),te=F(9360);function ye(...ue){const q=(0,W.yG)(ue);return(0,te.e)((ve,pe)=>{(q?(0,p.z)(ue,ve,q):(0,p.z)(ue,ve)).subscribe(pe)})}},5137:(Tt,Ne,F)=>{"use strict";F.d(Ne,{R:()=>W});var p=F(9360);function W(te,ye=0){return(0,p.e)((ue,q)=>{q.add(te.schedule(()=>ue.subscribe(q),ye))})}},4664:(Tt,Ne,F)=>{"use strict";F.d(Ne,{w:()=>ye});var p=F(4829),W=F(9360),te=F(8251);function ye(ue,q){return(0,W.e)((ve,pe)=>{let Pe=null,re=0,oe=!1;const Ce=()=>oe&&!Pe&&pe.complete();ve.subscribe((0,te.x)(pe,Qe=>{Pe?.unsubscribe();let We=0;const He=re++;(0,p.Xf)(ue(Qe,He)).subscribe(Pe=(0,te.x)(pe,et=>pe.next(q?q(Qe,et,He,We++):et),()=>{Pe=null,Ce()}))},()=>{oe=!0,Ce()}))})}},8180:(Tt,Ne,F)=>{"use strict";F.d(Ne,{q:()=>ye});var p=F(6232),W=F(9360),te=F(8251);function ye(ue){return ue<=0?()=>p.E:(0,W.e)((q,ve)=>{let pe=0;q.subscribe((0,te.x)(ve,Pe=>{++pe<=ue&&(ve.next(Pe),ue<=pe&&ve.complete())}))})}},9397:(Tt,Ne,F)=>{"use strict";F.d(Ne,{b:()=>ue});var p=F(4674),W=F(9360),te=F(8251),ye=F(2737);function ue(q,ve,pe){const Pe=(0,p.m)(q)||ve||pe?{next:q,error:ve,complete:pe}:q;return Pe?(0,W.e)((re,oe)=>{var Ce;null===(Ce=Pe.subscribe)||void 0===Ce||Ce.call(Pe);let Qe=!0;re.subscribe((0,te.x)(oe,We=>{var He;null===(He=Pe.next)||void 0===He||He.call(Pe,We),oe.next(We)},()=>{var We;Qe=!1,null===(We=Pe.complete)||void 0===We||We.call(Pe),oe.complete()},We=>{var He;Qe=!1,null===(He=Pe.error)||void 0===He||He.call(Pe,We),oe.error(We)},()=>{var We,He;Qe&&(null===(We=Pe.unsubscribe)||void 0===We||We.call(Pe)),null===(He=Pe.finalize)||void 0===He||He.call(Pe)}))}):ye.y}},3026:(Tt,Ne,F)=>{"use strict";F.d(Ne,{T:()=>ye});var p=F(6973),W=F(9360),te=F(8251);function ye(q=ue){return(0,W.e)((ve,pe)=>{let Pe=!1;ve.subscribe((0,te.x)(pe,re=>{Pe=!0,pe.next(re)},()=>Pe?pe.complete():pe.error(q())))})}function ue(){return new p.K}},1954:(Tt,Ne,F)=>{"use strict";F.d(Ne,{o:()=>ue});var p=F(7394);class W extends p.w0{constructor(ve,pe){super()}schedule(ve,pe=0){return this}}const te={setInterval(q,ve,...pe){const{delegate:Pe}=te;return Pe?.setInterval?Pe.setInterval(q,ve,...pe):setInterval(q,ve,...pe)},clearInterval(q){const{delegate:ve}=te;return(ve?.clearInterval||clearInterval)(q)},delegate:void 0};var ye=F(9039);class ue extends W{constructor(ve,pe){super(ve,pe),this.scheduler=ve,this.work=pe,this.pending=!1}schedule(ve,pe=0){var Pe;if(this.closed)return this;this.state=ve;const re=this.id,oe=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(oe,re,pe)),this.pending=!0,this.delay=pe,this.id=null!==(Pe=this.id)&&void 0!==Pe?Pe:this.requestAsyncId(oe,this.id,pe),this}requestAsyncId(ve,pe,Pe=0){return te.setInterval(ve.flush.bind(ve,this),Pe)}recycleAsyncId(ve,pe,Pe=0){if(null!=Pe&&this.delay===Pe&&!1===this.pending)return pe;null!=pe&&te.clearInterval(pe)}execute(ve,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(ve,pe);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,pe){let re,Pe=!1;try{this.work(ve)}catch(oe){Pe=!0,re=oe||new Error("Scheduled action threw falsy error")}if(Pe)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:ve,scheduler:pe}=this,{actions:Pe}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.P)(Pe,this),null!=ve&&(this.id=this.recycleAsyncId(pe,ve,null)),this.delay=null,super.unsubscribe()}}}},2631:(Tt,Ne,F)=>{"use strict";F.d(Ne,{v:()=>te});var p=F(4552);class W{constructor(ue,q=W.now){this.schedulerActionCtor=ue,this.now=q}schedule(ue,q=0,ve){return new this.schedulerActionCtor(this,ue).schedule(ve,q)}}W.now=p.l.now;class te extends W{constructor(ue,q=W.now){super(ue,q),this.actions=[],this._active=!1}flush(ue){const{actions:q}=this;if(this._active)return void q.push(ue);let ve;this._active=!0;do{if(ve=ue.execute(ue.state,ue.delay))break}while(ue=q.shift());if(this._active=!1,ve){for(;ue=q.shift();)ue.unsubscribe();throw ve}}}},6321:(Tt,Ne,F)=>{"use strict";F.d(Ne,{z:()=>te});var p=F(1954);const te=new(F(2631).v)(p.o)},4552:(Tt,Ne,F)=>{"use strict";F.d(Ne,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7599:(Tt,Ne,F)=>{"use strict";F.d(Ne,{z:()=>p});const p={setTimeout(W,te,...ye){const{delegate:ue}=p;return ue?.setTimeout?ue.setTimeout(W,te,...ye):setTimeout(W,te,...ye)},clearTimeout(W){const{delegate:te}=p;return(te?.clearTimeout||clearTimeout)(W)},delegate:void 0}},4971:(Tt,Ne,F)=>{"use strict";F.d(Ne,{h:()=>W});const W=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Tt,Ne,F)=>{"use strict";F.d(Ne,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Tt,Ne,F)=>{"use strict";F.d(Ne,{K:()=>W});const W=(0,F(2306).d)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Tt,Ne,F)=>{"use strict";F.d(Ne,{_6:()=>q,jO:()=>ye,yG:()=>ue});var p=F(4674);function te(ve){return ve[ve.length-1]}function ye(ve){return(0,p.m)(te(ve))?ve.pop():void 0}function ue(ve){return function W(ve){return ve&&(0,p.m)(ve.schedule)}(te(ve))?ve.pop():void 0}function q(ve,pe){return"number"==typeof te(ve)?ve.pop():pe}},7453:(Tt,Ne,F)=>{"use strict";F.d(Ne,{D:()=>ue});const{isArray:p}=Array,{getPrototypeOf:W,prototype:te,keys:ye}=Object;function ue(ve){if(1===ve.length){const pe=ve[0];if(p(pe))return{args:pe,keys:null};if(function q(ve){return ve&&"object"==typeof ve&&W(ve)===te}(pe)){const Pe=ye(pe);return{args:Pe.map(re=>pe[re]),keys:Pe}}}return{args:ve,keys:null}}},9039:(Tt,Ne,F)=>{"use strict";function p(W,te){if(W){const ye=W.indexOf(te);0<=ye&&W.splice(ye,1)}}F.d(Ne,{P:()=>p})},2306:(Tt,Ne,F)=>{"use strict";function p(W){const ye=W(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}F.d(Ne,{d:()=>p})},2714:(Tt,Ne,F)=>{"use strict";function p(W,te){return W.reduce((ye,ue,q)=>(ye[ue]=te[q],ye),{})}F.d(Ne,{n:()=>p})},1441:(Tt,Ne,F)=>{"use strict";F.d(Ne,{O:()=>ye,x:()=>te});var p=F(2653);let W=null;function te(ue){if(p.config.useDeprecatedSynchronousErrorHandling){const q=!W;if(q&&(W={errorThrown:!1,error:null}),ue(),q){const{errorThrown:ve,error:pe}=W;if(W=null,ve)throw pe}}else ue()}function ye(ue){p.config.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=ue)}},7103:(Tt,Ne,F)=>{"use strict";function p(W,te,ye,ue=0,q=!1){const ve=te.schedule(function(){ye(),q?W.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(W.add(ve),!q)return ve}F.d(Ne,{f:()=>p})},2737:(Tt,Ne,F)=>{"use strict";function p(W){return W}F.d(Ne,{y:()=>p})},4266:(Tt,Ne,F)=>{"use strict";F.d(Ne,{z:()=>p});const p=W=>W&&"number"==typeof W.length&&"function"!=typeof W},5726:(Tt,Ne,F)=>{"use strict";F.d(Ne,{D:()=>W});var p=F(4674);function W(te){return Symbol.asyncIterator&&(0,p.m)(te?.[Symbol.asyncIterator])}},4674:(Tt,Ne,F)=>{"use strict";function p(W){return"function"==typeof W}F.d(Ne,{m:()=>p})},8382:(Tt,Ne,F)=>{"use strict";F.d(Ne,{c:()=>te});var p=F(4850),W=F(4674);function te(ye){return(0,W.m)(ye[p.L])}},3664:(Tt,Ne,F)=>{"use strict";F.d(Ne,{T:()=>te});var p=F(4971),W=F(4674);function te(ye){return(0,W.m)(ye?.[p.h])}},4026:(Tt,Ne,F)=>{"use strict";F.d(Ne,{t:()=>W});var p=F(4674);function W(te){return(0,p.m)(te?.then)}},541:(Tt,Ne,F)=>{"use strict";F.d(Ne,{L:()=>ye,Q:()=>te});var p=F(7582),W=F(4674);function te(ue){return(0,p.FC)(this,arguments,function*(){const ve=ue.getReader();try{for(;;){const{value:pe,done:Pe}=yield(0,p.qq)(ve.read());if(Pe)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(pe)}}finally{ve.releaseLock()}})}function ye(ue){return(0,W.m)(ue?.getReader)}},9360:(Tt,Ne,F)=>{"use strict";F.d(Ne,{A:()=>W,e:()=>te});var p=F(4674);function W(ye){return(0,p.m)(ye?.lift)}function te(ye){return ue=>{if(W(ue))return ue.lift(function(q){try{return ye(q,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Z:()=>ye});var p=F(7398);const{isArray:W}=Array;function ye(ue){return(0,p.U)(q=>function te(ue,q){return W(q)?ue(...q):ue(q)}(ue,q))}},2420:(Tt,Ne,F)=>{"use strict";function p(){}F.d(Ne,{Z:()=>p})},8407:(Tt,Ne,F)=>{"use strict";F.d(Ne,{U:()=>te,z:()=>W});var p=F(2737);function W(...ye){return te(ye)}function te(ye){return 0===ye.length?p.y:1===ye.length?ye[0]:function(q){return ye.reduce((ve,pe)=>pe(ve),q)}}},3894:(Tt,Ne,F)=>{"use strict";F.d(Ne,{h:()=>te});var p=F(2653),W=F(7599);function te(ye){W.z.setTimeout(()=>{const{onUnhandledError:ue}=p.config;if(!ue)throw ye;ue(ye)})}},9853:(Tt,Ne,F)=>{"use strict";function p(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ne,{z:()=>p})},3519:function(Tt){Tt.exports=function(){"use strict";function Ne(j,E,S){return E=re(E),function Qe(j,E){if(E&&("object"==typeof E||"function"==typeof E))return E;if(void 0!==E)throw new TypeError("Derived constructors may only return object or undefined");return function Ce(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(j)}(j,p()?Reflect.construct(E,S||[],re(j).constructor):E.apply(j,S))}function p(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p=function(){return!!j})()}function ye(j){var E=function te(j,E){if("object"!=typeof j||!j)return j;var S=j[Symbol.toPrimitive];if(void 0!==S){var $=S.call(j,E||"default");if("object"!=typeof $)return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(j)}(j,"string");return"symbol"==typeof E?E:String(E)}function ue(j){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(j)}function q(j,E){if(!(j instanceof E))throw new TypeError("Cannot call a class as a function")}function ve(j,E){for(var S=0;S<E.length;S++){var $=E[S];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(j,ye($.key),$)}}function pe(j,E,S){return E&&ve(j.prototype,E),S&&ve(j,S),Object.defineProperty(j,"prototype",{writable:!1}),j}function re(j){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(j)}function oe(j,E){return(oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,me){return $.__proto__=me,$})(j,E)}function He(){return He=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(E,S,$){var me=function We(j,E){for(;!Object.prototype.hasOwnProperty.call(j,E)&&null!==(j=re(j)););return j}(E,S);if(me){var Xe=Object.getOwnPropertyDescriptor(me,S);return Xe.get?Xe.get.call(arguments.length<3?E:$):Xe.value}},He.apply(this,arguments)}function et(j,E){return function St(j){if(Array.isArray(j))return j}(j)||function W(j,E){var S=null==j?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(null!=S){var $,me,Xe,Me,Lt=[],On=!0,gr=!1;try{if(Xe=(S=S.call(j)).next,0===E){if(Object(S)!==S)return;On=!1}else for(;!(On=($=Xe.call(S)).done)&&(Lt.push($.value),Lt.length!==E);On=!0);}catch(Un){gr=!0,me=Un}finally{try{if(!On&&null!=S.return&&(Me=S.return(),Object(Me)!==Me))return}finally{if(gr)throw me}}return Lt}}(j,E)||we(j,E)||function Fe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(j){return function Ke(j){if(Array.isArray(j))return ze(j)}(j)||function mt(j){if(typeof Symbol<"u"&&null!=j[Symbol.iterator]||null!=j["@@iterator"])return Array.from(j)}(j)||we(j)||function Oe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(j,E){if(j){if("string"==typeof j)return ze(j,E);var S=Object.prototype.toString.call(j).slice(8,-1);if("Object"===S&&j.constructor&&(S=j.constructor.name),"Map"===S||"Set"===S)return Array.from(j);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return ze(j,E)}}function ze(j,E){(null==E||E>j.length)&&(E=j.length);for(var S=0,$=new Array(E);S<E;S++)$[S]=j[S];return $}function it(j,E){return function Ut(j,E){return E.get?E.get.call(j):E.value}(j,Rt(j,E,"get"))}function De(j,E,S){return function Jt(j,E,S){if(E.set)E.set.call(j,S);else{if(!E.writable)throw new TypeError("attempted to set read only private field");E.value=S}}(j,Rt(j,E,"set"),S),S}function Rt(j,E,S){if(!E.has(j))throw new TypeError("attempted to "+S+" private field on non-instance");return E.get(j)}function ln(j,E,S){(function Cn(j,E){if(E.has(j))throw new TypeError("Cannot initialize the same private elements twice on an object")})(j,E),E.set(j,S)}var st={},Bt=function(E){return new Promise(function(S){if(!E)return S();var $=window.scrollX,me=window.scrollY;st.restoreFocusTimeout=setTimeout(function(){st.previousActiveElement instanceof HTMLElement?(st.previousActiveElement.focus(),st.previousActiveElement=null):document.body&&document.body.focus(),S()},100),window.scrollTo($,me)})},se=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(function(j,E){return j[E]="swal2-"+E,j},{}),Ie=["success","warning","info","question","error"].reduce(function(j,E){return j[E]="swal2-"+E,j},{}),tt="SweetAlert2:",Je=function(E){return E.charAt(0).toUpperCase()+E.slice(1)},Be=function(E){console.warn("".concat(tt," ").concat("object"===ue(E)?E.join(" "):E))},Ve=function(E){console.error("".concat(tt," ").concat(E))},kt=[],nn=function(E,S){!function(E){kt.includes(E)||(kt.push(E),Be(E))}('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(S,'" instead.'))},$n=function(E){return"function"==typeof E?E():E},Pn=function(E){return E&&"function"==typeof E.toPromise},Nn=function(E){return Pn(E)?E.toPromise():Promise.resolve(E)},Tn=function(E){return E&&Promise.resolve(E)===E},Et=function(){return document.body.querySelector(".".concat(se.container))},er=function(E){var S=Et();return S?S.querySelector(E):null},lr=function(E){return er(".".concat(E))},Ht=function(){return lr(se.popup)},In=function(){return lr(se.icon)},Hn=function(){return lr(se.title)},zt=function(){return lr(se["html-container"])},on=function(){return lr(se.image)},Ot=function(){return lr(se["progress-steps"])},cn=function(){return lr(se["validation-message"])},hn=function(){return er(".".concat(se.actions," .").concat(se.confirm))},Pr=function(){return er(".".concat(se.actions," .").concat(se.cancel))},sn=function(){return er(".".concat(se.actions," .").concat(se.deny))},Hr=function(){return er(".".concat(se.loader))},vt=function(){return lr(se.actions)},Ci=function(){return lr(se.footer)},Wt=function(){return lr(se["timer-progress-bar"])},Rn=function(){return lr(se.close)},Lr=function(){var E=Ht();if(!E)return[];var S=E.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),$=Array.from(S).sort(function(Me,Lt){var On=parseInt(Me.getAttribute("tabindex")||"0"),gr=parseInt(Lt.getAttribute("tabindex")||"0");return On>gr?1:On<gr?-1:0}),me=E.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),Xe=Array.from(me).filter(function(Me){return"-1"!==Me.getAttribute("tabindex")});return pt(new Set($.concat(Xe))).filter(function(Me){return _t(Me)})},An=function(){return mr(document.body,se.shown)&&!mr(document.body,se["toast-shown"])&&!mr(document.body,se["no-backdrop"])},fn=function(){var E=Ht();return!!E&&mr(E,se.toast)},tr=function(E,S){if(E.textContent="",S){var me=(new DOMParser).parseFromString(S,"text/html"),Xe=me.querySelector("head");Xe&&Array.from(Xe.childNodes).forEach(function(Lt){E.appendChild(Lt)});var Me=me.querySelector("body");Me&&Array.from(Me.childNodes).forEach(function(Lt){Lt instanceof HTMLVideoElement||Lt instanceof HTMLAudioElement?E.appendChild(Lt.cloneNode(!0)):E.appendChild(Lt)})}},mr=function(E,S){if(!S)return!1;for(var $=S.split(/\s+/),me=0;me<$.length;me++)if(!E.classList.contains($[me]))return!1;return!0},Kn=function(E,S,$){if(function(E,S){Array.from(E.classList).forEach(function($){!Object.values(se).includes($)&&!Object.values(Ie).includes($)&&!Object.values(S.showClass||{}).includes($)&&E.classList.remove($)})}(E,S),S.customClass&&S.customClass[$]){if("string"!=typeof S.customClass[$]&&!S.customClass[$].forEach)return void Be("Invalid type of customClass.".concat($,'! Expected string or iterable object, got "').concat(ue(S.customClass[$]),'"'));K(E,S.customClass[$])}},_n=function(E,S){if(!S)return null;switch(S){case"select":case"textarea":case"file":return E.querySelector(".".concat(se.popup," > .").concat(se[S]));case"checkbox":return E.querySelector(".".concat(se.popup," > .").concat(se.checkbox," input"));case"radio":return E.querySelector(".".concat(se.popup," > .").concat(se.radio," input:checked"))||E.querySelector(".".concat(se.popup," > .").concat(se.radio," input:first-child"));case"range":return E.querySelector(".".concat(se.popup," > .").concat(se.range," input"));default:return E.querySelector(".".concat(se.popup," > .").concat(se.input))}},vn=function(E){if(E.focus(),"file"!==E.type){var S=E.value;E.value="",E.value=S}},ge=function(E,S,$){!E||!S||("string"==typeof S&&(S=S.split(/\s+/).filter(Boolean)),S.forEach(function(me){Array.isArray(E)?E.forEach(function(Xe){$?Xe.classList.add(me):Xe.classList.remove(me)}):$?E.classList.add(me):E.classList.remove(me)}))},K=function(E,S){ge(E,S,!0)},L=function(E,S){ge(E,S,!1)},M=function(E,S){for(var $=Array.from(E.children),me=0;me<$.length;me++){var Xe=$[me];if(Xe instanceof HTMLElement&&mr(Xe,S))return Xe}},O=function(E,S,$){$==="".concat(parseInt($))&&($=parseInt($)),$||0===parseInt($)?E.style.setProperty(S,"number"==typeof $?"".concat($,"px"):$):E.style.removeProperty(S)},ie=function(E){E&&(E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Ee=function(E){E&&(E.style.display="none")},nt=function(E){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";E&&new MutationObserver(function(){It(E,E.innerHTML,S)}).observe(E,{childList:!0,subtree:!0})},ct=function(E,S,$,me){var Xe=E.querySelector(S);Xe&&Xe.style.setProperty($,me)},It=function(E,S){S?ie(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ee(E)},_t=function(E){return!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length))},Dn=function(E){return E.scrollHeight>E.clientHeight},Xt=function(E){var S=window.getComputedStyle(E),$=parseFloat(S.getPropertyValue("animation-duration")||"0"),me=parseFloat(S.getPropertyValue("transition-duration")||"0");return $>0||me>0},Rr=function(E){var S=arguments.length>1&&void 0!==arguments[1]&&arguments[1],$=Wt();$&&_t($)&&(S&&($.style.transition="none",$.style.width="100%"),setTimeout(function(){$.style.transition="width ".concat(E/1e3,"s linear"),$.style.width="0%"},10))},ce=function(){return typeof window>"u"||typeof document>"u"},N='\n <div aria-labelledby="'.concat(se.title,'" aria-describedby="').concat(se["html-container"],'" class="').concat(se.popup,'" tabindex="-1">\n   <button type="button" class="').concat(se.close,'"></button>\n   <ul class="').concat(se["progress-steps"],'"></ul>\n   <div class="').concat(se.icon,'"></div>\n   <img class="').concat(se.image,'" />\n   <h2 class="').concat(se.title,'" id="').concat(se.title,'"></h2>\n   <div class="').concat(se["html-container"],'" id="').concat(se["html-container"],'"></div>\n   <input class="').concat(se.input,'" id="').concat(se.input,'" />\n   <input type="file" class="').concat(se.file,'" />\n   <div class="').concat(se.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(se.select,'" id="').concat(se.select,'"></select>\n   <div class="').concat(se.radio,'"></div>\n   <label class="').concat(se.checkbox,'">\n     <input type="checkbox" id="').concat(se.checkbox,'" />\n     <span class="').concat(se.label,'"></span>\n   </label>\n   <textarea class="').concat(se.textarea,'" id="').concat(se.textarea,'"></textarea>\n   <div class="').concat(se["validation-message"],'" id="').concat(se["validation-message"],'"></div>\n   <div class="').concat(se.actions,'">\n     <div class="').concat(se.loader,'"></div>\n     <button type="button" class="').concat(se.confirm,'"></button>\n     <button type="button" class="').concat(se.deny,'"></button>\n     <button type="button" class="').concat(se.cancel,'"></button>\n   </div>\n   <div class="').concat(se.footer,'"></div>\n   <div class="').concat(se["timer-progress-bar-container"],'">\n     <div class="').concat(se["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),fe=function(){st.currentInstance.resetValidationMessage()},dn=function(E){var S=function(){var E=Et();return!!E&&(E.remove(),L([document.documentElement,document.body],[se["no-backdrop"],se["toast-shown"],se["has-column"]]),!0)}();if(ce())Ve("SweetAlert2 requires document to initialize");else{var $=document.createElement("div");$.className=se.container,S&&K($,se["no-transition"]),tr($,N);var me=function(E){return"string"==typeof E?document.querySelector(E):E}(E.target);me.appendChild($),function(E){var S=Ht();S.setAttribute("role",E.toast?"alert":"dialog"),S.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||S.setAttribute("aria-modal","true")}(E),function(E){"rtl"===window.getComputedStyle(E).direction&&K(Et(),se.rtl)}(me),function(){var E=Ht(),S=M(E,se.input),$=M(E,se.file),me=E.querySelector(".".concat(se.range," input")),Xe=E.querySelector(".".concat(se.range," output")),Me=M(E,se.select),Lt=E.querySelector(".".concat(se.checkbox," input")),On=M(E,se.textarea);S.oninput=fe,$.onchange=fe,Me.onchange=fe,Lt.onchange=fe,On.oninput=fe,me.oninput=function(){fe(),Xe.value=me.value},me.onchange=function(){fe(),Xe.value=me.value}}()}},_r=function(E,S){E instanceof HTMLElement?S.appendChild(E):"object"===ue(E)?dr(E,S):E&&tr(S,E)},dr=function(E,S){E.jquery?ni(S,E):tr(S,E.toString())},ni=function(E,S){if(E.textContent="",0 in S)for(var $=0;$ in S;$++)E.appendChild(S[$].cloneNode(!0));else E.appendChild(S.cloneNode(!0))},hr=function(){if(ce())return!1;var j=document.createElement("div");return typeof j.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof j.style.animation<"u"&&"animationend"}(),Vo=function(E,S){var $=vt(),me=Hr();!$||!me||(S.showConfirmButton||S.showDenyButton||S.showCancelButton?ie($):Ee($),Kn($,S,"actions"),function ri(j,E,S){var $=hn(),me=sn(),Xe=Pr();!$||!me||!Xe||(kn($,"confirm",S),kn(me,"deny",S),kn(Xe,"cancel",S),function Pi(j,E,S,$){$.buttonsStyling?(K([j,E,S],se.styled),$.confirmButtonColor&&(j.style.backgroundColor=$.confirmButtonColor,K(j,se["default-outline"])),$.denyButtonColor&&(E.style.backgroundColor=$.denyButtonColor,K(E,se["default-outline"])),$.cancelButtonColor&&(S.style.backgroundColor=$.cancelButtonColor,K(S,se["default-outline"]))):L([j,E,S],se.styled)}($,me,Xe,S),S.reverseButtons&&(S.toast?(j.insertBefore(Xe,$),j.insertBefore(me,$)):(j.insertBefore(Xe,E),j.insertBefore(me,E),j.insertBefore($,E))))}($,me,S),tr(me,S.loaderHtml||""),Kn(me,S,"loader"))};function kn(j,E,S){var $=Je(E);It(j,S["show".concat($,"Button")],"inline-block"),tr(j,S["".concat(E,"ButtonText")]||""),j.setAttribute("aria-label",S["".concat(E,"ButtonAriaLabel")]||""),j.className=se[E],Kn(j,S,"".concat(E,"Button"))}var mi=function(E,S){var $=Et();$&&(function or(j,E){"string"==typeof E?j.style.background=E:E||K([document.documentElement,document.body],se["no-backdrop"])}($,S.backdrop),function Ar(j,E){E&&(E in se?K(j,se[E]):(Be('The "position" parameter is not valid, defaulting to "center"'),K(j,se.center)))}($,S.position),function zr(j,E){E&&K(j,se["grow-".concat(E)])}($,S.grow),Kn($,S,"container"))};var dt={innerParams:new WeakMap,domCache:new WeakMap},yt=["input","file","range","select","radio","checkbox","textarea"],Yt=function(E){if(E.input){if(!nr[E.input])return void Ve("Unexpected type of input! Expected ".concat(Object.keys(nr).join(" | "),', got "').concat(E.input,'"'));var S=$i(E.input),$=nr[E.input](S,E);ie(S),E.inputAutoFocus&&setTimeout(function(){vn($)})}},Vr=function(E,S){var $=_n(Ht(),E);if($)for(var me in function(E){for(var S=0;S<E.attributes.length;S++){var $=E.attributes[S].name;["id","type","value","style"].includes($)||E.removeAttribute($)}}($),S)$.setAttribute(me,S[me])},Br=function(E){var S=$i(E.input);"object"===ue(E.customClass)&&K(S,E.customClass.input)},ji=function(E,S){(!E.placeholder||S.inputPlaceholder)&&(E.placeholder=S.inputPlaceholder)},ii=function(E,S,$){if($.inputLabel){var me=document.createElement("label"),Xe=se["input-label"];me.setAttribute("for",E.id),me.className=Xe,"object"===ue($.customClass)&&K(me,$.customClass.inputLabel),me.innerText=$.inputLabel,S.insertAdjacentElement("beforebegin",me)}},$i=function(E){return M(Ht(),se[E]||se.input)},Do=function(E,S){["string","number"].includes(ue(S))?E.value="".concat(S):Tn(S)||Be('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(ue(S),'"'))},nr={};nr.text=nr.email=nr.password=nr.number=nr.tel=nr.url=nr.search=nr.date=nr["datetime-local"]=nr.time=nr.week=nr.month=function(j,E){return Do(j,E.inputValue),ii(j,j,E),ji(j,E),j.type=E.input,j},nr.file=function(j,E){return ii(j,j,E),ji(j,E),j},nr.range=function(j,E){var S=j.querySelector("input"),$=j.querySelector("output");return Do(S,E.inputValue),S.type=E.input,Do($,E.inputValue),ii(S,j,E),j},nr.select=function(j,E){if(j.textContent="",E.inputPlaceholder){var S=document.createElement("option");tr(S,E.inputPlaceholder),S.value="",S.disabled=!0,S.selected=!0,j.appendChild(S)}return ii(j,j,E),j},nr.radio=function(j){return j.textContent="",j},nr.checkbox=function(j,E){var S=_n(Ht(),"checkbox");S.value="1",S.checked=!!E.inputValue;var $=j.querySelector("span");return tr($,E.inputPlaceholder),S},nr.textarea=function(j,E){Do(j,E.inputValue),ji(j,E),ii(j,j,E);return setTimeout(function(){if("MutationObserver"in window){var $=parseInt(window.getComputedStyle(Ht()).width);new MutationObserver(function(){if(document.body.contains(j)){var Me=j.offsetWidth+(me=j,parseInt(window.getComputedStyle(me).marginLeft)+parseInt(window.getComputedStyle(me).marginRight));Me>$?Ht().style.width="".concat(Me,"px"):O(Ht(),"width",E.width)}var me}).observe(j,{attributes:!0,attributeFilter:["style"]})}}),j};var Ma=function(E,S){var $=zt();$&&(nt($),Kn($,S,"htmlContainer"),S.html?(_r(S.html,$),ie($,"block")):S.text?($.textContent=S.text,ie($,"block")):Ee($),function(E,S){var $=Ht();if($){var me=dt.innerParams.get(E),Xe=!me||S.input!==me.input;yt.forEach(function(Me){var Lt=M($,se[Me]);Lt&&(Vr(Me,S.inputAttributes),Lt.className=se[Me],Xe&&Ee(Lt))}),S.input&&(Xe&&Yt(S),Br(S))}}(E,S))},Uo=function(E,S){for(var $=0,me=Object.entries(Ie);$<me.length;$++){var Xe=et(me[$],2);S.icon!==Xe[0]&&L(E,Xe[1])}K(E,S.icon&&Ie[S.icon]),Vs(E,S),ps(),Kn(E,S,"icon")},ps=function(){var E=Ht();if(E)for(var S=window.getComputedStyle(E).getPropertyValue("background-color"),$=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),me=0;me<$.length;me++)$[me].style.backgroundColor=S},mo=function(E,S){if(S.icon||S.iconHtml){var $=E.innerHTML,me="";S.iconHtml?me=bo(S.iconHtml):"success"===S.icon?(me='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',$=$.replace(/ style=".*?"/g,"")):"error"===S.icon?me='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':S.icon&&(me=bo({question:"?",warning:"!",info:"i"}[S.icon])),$.trim()!==me.trim()&&tr(E,me)}},Vs=function(E,S){if(S.iconColor){E.style.color=S.iconColor,E.style.borderColor=S.iconColor;for(var $=0,me=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];$<me.length;$++)ct(E,me[$],"background-color",S.iconColor);ct(E,".swal2-success-ring","border-color",S.iconColor)}},bo=function(E){return'<div class="'.concat(se["icon-content"],'">').concat(E,"</div>")},jr=function(E,S){var $=S.showClass||{};E.className="".concat(se.popup," ").concat(_t(E)?$.popup:""),S.toast?(K([document.documentElement,document.body],se["toast-shown"]),K(E,se.toast)):K(E,se.modal),Kn(E,S,"popup"),"string"==typeof S.customClass&&K(E,S.customClass),S.icon&&K(E,se["icon-".concat(S.icon)])},Gr=function(E){var S=document.createElement("li");return K(S,se["progress-step"]),tr(S,E),S},To=function(E){var S=document.createElement("li");return K(S,se["progress-step-line"]),E.progressStepsDistance&&O(S,"width",E.progressStepsDistance),S},Gn=function(E,S){(function(E,S){var $=Et(),me=Ht();if($&&me){if(S.toast){O($,"width",S.width),me.style.width="100%";var Xe=Hr();Xe&&me.insertBefore(Xe,In())}else O(me,"width",S.width);O(me,"padding",S.padding),S.color&&(me.style.color=S.color),S.background&&(me.style.background=S.background),Ee(cn()),jr(me,S)}})(0,S),mi(0,S),function(E,S){var $=Ot();if($){var me=S.progressSteps,Xe=S.currentProgressStep;if(!me||0===me.length||void 0===Xe)return void Ee($);ie($),$.textContent="",Xe>=me.length&&Be("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),me.forEach(function(Me,Lt){var On=Gr(Me);if($.appendChild(On),Lt===Xe&&K(On,se["active-progress-step"]),Lt!==me.length-1){var gr=To(S);$.appendChild(gr)}})}}(0,S),function(E,S){var $=dt.innerParams.get(E),me=In();if(me){if($&&S.icon===$.icon)return mo(me,S),void Uo(me,S);if(!S.icon&&!S.iconHtml)return void Ee(me);if(S.icon&&-1===Object.keys(Ie).indexOf(S.icon))return Ve('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(S.icon,'"')),void Ee(me);ie(me),mo(me,S),Uo(me,S),K(me,S.showClass&&S.showClass.icon)}}(E,S),function(E,S){var $=on();if($){if(!S.imageUrl)return void Ee($);ie($,""),$.setAttribute("src",S.imageUrl),$.setAttribute("alt",S.imageAlt||""),O($,"width",S.imageWidth),O($,"height",S.imageHeight),$.className=se.image,Kn($,S,"image")}}(0,S),function(E,S){var $=Hn();$&&(nt($),It($,S.title||S.titleText,"block"),S.title&&_r(S.title,$),S.titleText&&($.innerText=S.titleText),Kn($,S,"title"))}(0,S),function(E,S){var $=Rn();$&&(tr($,S.closeButtonHtml||""),Kn($,S,"closeButton"),It($,S.showCloseButton),$.setAttribute("aria-label",S.closeButtonAriaLabel||""))}(0,S),Ma(E,S),Vo(0,S),function(E,S){var $=Ci();$&&(nt($),It($,S.footer,"block"),S.footer&&_r(S.footer,$),Kn($,S,"footer"))}(0,S);var $=Ht();"function"==typeof S.didRender&&$&&S.didRender($)},bi=function(){var E;return null===(E=hn())||void 0===E?void 0:E.click()},yn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ln=function(E){E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},io=function(E,S){var $,me=Lr();if(me.length)return(E+=S)===me.length?E=0:-1===E&&(E=me.length-1),void me[E].focus();null===($=Ht())||void 0===$||$.focus()},Kr=["ArrowRight","ArrowDown"],Fi=["ArrowLeft","ArrowUp"],rr=function(E,S,$){E&&(S.isComposing||229===S.keyCode||(E.stopKeydownPropagation&&S.stopPropagation(),"Enter"===S.key?Hi(S,E):"Tab"===S.key?oo(S):[].concat(Kr,Fi).includes(S.key)?pn(S.key):"Escape"===S.key&&oi(S,E,$)))},Hi=function(E,S){if($n(S.allowEnterKey)){var $=_n(Ht(),S.input);if(E.target&&$&&E.target instanceof HTMLElement&&E.target.outerHTML===$.outerHTML){if(["textarea","file"].includes(S.input))return;bi(),E.preventDefault()}}},oo=function(E){for(var S=E.target,$=Lr(),me=-1,Xe=0;Xe<$.length;Xe++)if(S===$[Xe]){me=Xe;break}io(me,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},pn=function(E){var S=vt(),$=hn(),me=sn(),Xe=Pr();if(S&&$&&me&&Xe&&(!(document.activeElement instanceof HTMLElement)||[$,me,Xe].includes(document.activeElement))){var Lt=Kr.includes(E)?"nextElementSibling":"previousElementSibling",On=document.activeElement;if(On){for(var gr=0;gr<S.children.length;gr++){if(!(On=On[Lt]))return;if(On instanceof HTMLButtonElement&&_t(On))break}On instanceof HTMLButtonElement&&On.focus()}}},oi=function(E,S,$){$n(S.allowEscapeKey)&&(E.preventDefault(),$(yn.esc))},_i={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Or=function(){Array.from(document.body.children).forEach(function(S){S.hasAttribute("data-previous-aria-hidden")?(S.setAttribute("aria-hidden",S.getAttribute("data-previous-aria-hidden")||""),S.removeAttribute("data-previous-aria-hidden")):S.removeAttribute("aria-hidden")})},Mi=typeof window<"u"&&!!window.GestureEvent,Ti=function(){var S,E=Et();E&&(E.ontouchstart=function($){S=Ao($)},E.ontouchmove=function($){S&&($.preventDefault(),$.stopPropagation())})},Ao=function(E){var S=E.target,$=Et(),me=zt();return!(!$||!me||So(E)||Qi(E)||S!==$&&(Dn($)||!(S instanceof HTMLElement)||"INPUT"===S.tagName||"TEXTAREA"===S.tagName||Dn(me)&&me.contains(S)))},So=function(E){return E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType},Qi=function(E){return E.touches&&E.touches.length>1},Ji=null,Mn=function(E){null===Ji&&(document.body.scrollHeight>window.innerHeight||"scroll"===E)&&(Ji=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ji+function(){var E=document.createElement("div");E.className=se["scrollbar-measure"],document.body.appendChild(E);var S=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),S}(),"px"))};function ts(j,E,S,$){fn()?wr(j,$):(Bt(S).then(function(){return wr(j,$)}),Ln(st)),Mi?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),An()&&(null!==Ji&&(document.body.style.paddingRight="".concat(Ji,"px"),Ji=null),function(){if(mr(document.body,se.iosfix)){var E=parseInt(document.body.style.top,10);L(document.body,se.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}}(),Or()),function Po(){L([document.documentElement,document.body],[se.shown,se["height-auto"],se["no-backdrop"],se["toast-shown"]])}()}function Sr(j){j=Mr(j);var E=_i.swalPromiseResolve.get(this),S=bs(this);this.isAwaitingPromise?j.isDismissed||(Wr(this),E(j)):S&&E(j)}var bs=function(E){var S=Ht();if(!S)return!1;var $=dt.innerParams.get(E);if(!$||mr(S,$.hideClass.popup))return!1;L(S,$.showClass.popup),K(S,$.hideClass.popup);var me=Et();return L(me,$.showClass.backdrop),K(me,$.hideClass.backdrop),Ts(E,S,$),!0};function uo(j){var E=_i.swalPromiseReject.get(this);Wr(this),E&&E(j)}var Wr=function(E){E.isAwaitingPromise&&(delete E.isAwaitingPromise,dt.innerParams.get(E)||E._destroy())},Mr=function(E){return typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E)},Ts=function(E,S,$){var me=Et(),Xe=hr&&Xt(S);"function"==typeof $.willClose&&$.willClose(S),Xe?Vn(E,S,me,$.returnFocus,$.didClose):ts(E,me,$.returnFocus,$.didClose)},Vn=function(E,S,$,me,Xe){hr&&(st.swalCloseEventFinishedCallback=ts.bind(null,E,$,me,Xe),S.addEventListener(hr,function(Me){Me.target===S&&(st.swalCloseEventFinishedCallback(),delete st.swalCloseEventFinishedCallback)}))},wr=function(E,S){setTimeout(function(){"function"==typeof S&&S.bind(E.params)(),E._destroy&&E._destroy()})},Ro=function(E){var S=Ht();if(S||new At,S=Ht()){var $=Hr();fn()?Ee(In()):Xi(S,E),ie($),S.setAttribute("data-loading","true"),S.setAttribute("aria-busy","true"),S.focus()}},Xi=function(E,S){var $=vt(),me=Hr();!$||!me||(!S&&_t(hn())&&(S=hn()),ie($),S&&(Ee(S),me.setAttribute("data-button-to-replace",S.className),$.insertBefore(me,S)),K([E,$],se.loading))},rs=function(E){return E.checked?1:0},As=function(E){return E.checked?E.value:null},Mo=function(E){return E.files&&E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null},ma=function(E,S){var $=Ht();if($){var me=function(Me){"select"===S.input?function yo(j,E,S){var $=M(j,se.select);if($){var me=function(Me,Lt,On){var gr=document.createElement("option");gr.value=On,tr(gr,Lt),gr.selected=Ps(On,S.inputValue),Me.appendChild(gr)};E.forEach(function(Xe){var Me=Xe[0],Lt=Xe[1];if(Array.isArray(Lt)){var On=document.createElement("optgroup");On.label=Me,On.disabled=!1,$.appendChild(On),Lt.forEach(function(gr){return me(On,gr[1],gr[0])})}else me($,Lt,Me)}),$.focus()}}($,Xs(Me),S):"radio"===S.input&&function Ss(j,E,S){var $=M(j,se.radio);if($){E.forEach(function(Xe){var Me=Xe[0],Lt=Xe[1],On=document.createElement("input"),gr=document.createElement("label");On.type="radio",On.name=se.radio,On.value=Me,Ps(Me,S.inputValue)&&(On.checked=!0);var Un=document.createElement("span");tr(Un,Lt),Un.className=se.label,gr.appendChild(On),gr.appendChild(Un),$.appendChild(gr)});var me=$.querySelectorAll("input");me.length&&me[0].focus()}}($,Xs(Me),S)};Pn(S.inputOptions)||Tn(S.inputOptions)?(Ro(hn()),Nn(S.inputOptions).then(function(Xe){E.hideLoading(),me(Xe)})):"object"===ue(S.inputOptions)?me(S.inputOptions):Ve("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(ue(S.inputOptions)))}},Yr=function(E,S){var $=E.getInput();$&&(Ee($),Nn(S.inputValue).then(function(me){$.value="".concat("number"===S.input?parseFloat(me)||0:me),ie($),$.focus(),E.hideLoading()}).catch(function(me){Ve("Error in inputValue promise: ".concat(me)),$.value="",ie($),$.focus(),E.hideLoading()}))};var Xs=function j(E){var S=[];return E instanceof Map?E.forEach(function($,me){var Xe=$;"object"===ue(Xe)&&(Xe=j(Xe)),S.push([me,Xe])}):Object.keys(E).forEach(function($){var me=E[$];"object"===ue(me)&&(me=j(me)),S.push([$,me])}),S},Ps=function(E,S){return!!S&&S.toString()===E.toString()},sr=void 0,G=function(E,S){var $=dt.innerParams.get(E);if($.input){var me=E.getInput(),Xe=function(E,S){var $=E.getInput();if(!$)return null;switch(S.input){case"checkbox":return rs($);case"radio":return As($);case"file":return Mo($);default:return S.inputAutoTrim?$.value.trim():$.value}}(E,$);$.inputValidator?R(E,Xe,S):me&&!me.checkValidity()?(E.enableButtons(),E.showValidationMessage($.validationMessage||me.validationMessage)):"deny"===S?ee(E,Xe):gn(E,Xe)}else Ve('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Je(S)))},R=function(E,S,$){var me=dt.innerParams.get(E);E.disableInput(),Promise.resolve().then(function(){return Nn(me.inputValidator(S,me.validationMessage))}).then(function(Me){E.enableButtons(),E.enableInput(),Me?E.showValidationMessage(Me):"deny"===$?ee(E,S):gn(E,S)})},ee=function(E,S){var $=dt.innerParams.get(E||sr);$.showLoaderOnDeny&&Ro(sn()),$.preDeny?(E.isAwaitingPromise=!0,Promise.resolve().then(function(){return Nn($.preDeny(S,$.validationMessage))}).then(function(Xe){!1===Xe?(E.hideLoading(),Wr(E)):E.close({isDenied:!0,value:typeof Xe>"u"?S:Xe})}).catch(function(Xe){return Nt(E||sr,Xe)})):E.close({isDenied:!0,value:S})},_e=function(E,S){E.close({isConfirmed:!0,value:S})},Nt=function(E,S){E.rejectPromise(S)},gn=function(E,S){var $=dt.innerParams.get(E||sr);$.showLoaderOnConfirm&&Ro(),$.preConfirm?(E.resetValidationMessage(),E.isAwaitingPromise=!0,Promise.resolve().then(function(){return Nn($.preConfirm(S,$.validationMessage))}).then(function(Xe){_t(cn())||!1===Xe?(E.hideLoading(),Wr(E)):_e(E,typeof Xe>"u"?S:Xe)}).catch(function(Xe){return Nt(E||sr,Xe)})):_e(E,S)};function Jr(){var j=dt.innerParams.get(this);if(j){var E=dt.domCache.get(this);Ee(E.loader),fn()?j.icon&&ie(In()):zi(E),L([E.popup,E.actions],se.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}}var zi=function(E){var S=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));S.length?ie(S[0],"inline-block"):!_t(hn())&&!_t(sn())&&!_t(Pr())&&Ee(E.actions)};function hi(){var j=dt.innerParams.get(this),E=dt.domCache.get(this);return E?_n(E.popup,j.input):null}function $o(j,E,S){var $=dt.domCache.get(j);E.forEach(function(me){$[me].disabled=S})}function xi(j,E){var S=Ht();if(S&&j)if("radio"===j.type)for(var $=S.querySelectorAll('[name="'.concat(se.radio,'"]')),me=0;me<$.length;me++)$[me].disabled=E;else j.disabled=E}function Oi(){$o(this,["confirmButton","denyButton","cancelButton"],!1)}function ys(){$o(this,["confirmButton","denyButton","cancelButton"],!0)}function is(){xi(this.getInput(),!1)}function vi(){xi(this.getInput(),!0)}function Ho(j){var E=dt.domCache.get(this),S=dt.innerParams.get(this);tr(E.validationMessage,j),E.validationMessage.className=se["validation-message"],S.customClass&&S.customClass.validationMessage&&K(E.validationMessage,S.customClass.validationMessage),ie(E.validationMessage);var $=this.getInput();$&&($.setAttribute("aria-invalid","true"),$.setAttribute("aria-describedby",se["validation-message"]),vn($),K($,se.inputerror))}function Li(){var j=dt.domCache.get(this);j.validationMessage&&Ee(j.validationMessage);var E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),L(E,se.inputerror))}var zo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Go=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ni={},Wo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],os=function(E){return Object.prototype.hasOwnProperty.call(zo,E)},Gi=function(E){return-1!==Go.indexOf(E)},Rs=function(E){return Ni[E]},lo=function(E){os(E)||Be('Unknown parameter "'.concat(E,'"'))},Us=function(E){Wo.includes(E)&&Be('The parameter "'.concat(E,'" is incompatible with toasts'))},br=function(E){var S=Rs(E);S&&nn(E,S)};function Ms(j){var E=Ht(),S=dt.innerParams.get(this);if(E&&!mr(E,S.hideClass.popup)){var $=wi(j),me=Object.assign({},S,$);Gn(this,me),dt.innerParams.set(this,me),Object.defineProperties(this,{params:{value:Object.assign({},this.params,j),writable:!1,enumerable:!0}})}else Be("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.")}var wi=function(E){var S={};return Object.keys(E).forEach(function($){Gi($)?S[$]=E[$]:Be("Invalid parameter to update: ".concat($))}),S};function qo(){var j=dt.domCache.get(this),E=dt.innerParams.get(this);E?(j.popup&&st.swalCloseEventFinishedCallback&&(st.swalCloseEventFinishedCallback(),delete st.swalCloseEventFinishedCallback),"function"==typeof E.didDestroy&&E.didDestroy(),xs(this)):Os(this)}var xs=function(E){Os(E),delete E.params,delete st.keydownHandler,delete st.keydownTarget,delete st.currentInstance},Os=function(E){E.isAwaitingPromise?(js(dt,E),E.isAwaitingPromise=!0):(js(_i,E),js(dt,E),delete E.isAwaitingPromise,delete E.disableButtons,delete E.enableButtons,delete E.getInput,delete E.disableInput,delete E.enableInput,delete E.hideLoading,delete E.disableLoading,delete E.showValidationMessage,delete E.resetValidationMessage,delete E.close,delete E.closePopup,delete E.closeModal,delete E.closeToast,delete E.rejectPromise,delete E.update,delete E._destroy)},js=function(E,S){for(var $ in E)E[$].delete(S)},Su=Object.freeze({__proto__:null,_destroy:qo,close:Sr,closeModal:Sr,closePopup:Sr,closeToast:Sr,disableButtons:ys,disableInput:vi,disableLoading:Jr,enableButtons:Oi,enableInput:is,getInput:hi,handleAwaitingPromise:Wr,hideLoading:Jr,rejectPromise:uo,resetValidationMessage:Li,showValidationMessage:Ho,update:Ms}),_o=function(E,S,$){S.popup.onclick=function(){E&&(Vi(E)||E.timer||E.input)||$(yn.close)}},Vi=function(E){return!!(E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton)},Zo=!1,$s=function(E){E.popup.onmousedown=function(){E.container.onmouseup=function(S){E.container.onmouseup=function(){},S.target===E.container&&(Zo=!0)}}},ea=function(E){E.container.onmousedown=function(){E.popup.onmouseup=function(S){E.popup.onmouseup=function(){},(S.target===E.popup||S.target instanceof HTMLElement&&E.popup.contains(S.target))&&(Zo=!0)}}},_s=function(E,S,$){S.container.onclick=function(me){Zo?Zo=!1:me.target===S.container&&$n(E.allowOutsideClick)&&$(yn.backdrop)}},xo=function(E){return E instanceof Element||function(E){return"object"===ue(E)&&E.jquery}(E)};var z=function(){if(st.timeout)return function(){var E=Wt();if(E){var S=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";var $=parseInt(window.getComputedStyle(E).width);E.style.width="".concat(S/$*100,"%")}}(),st.timeout.stop()},he=function(){if(st.timeout){var E=st.timeout.start();return Rr(E),E}},fr=!1,jn={};var rn=function(E){for(var S=E.target;S&&S!==document;S=S.parentNode)for(var $ in jn){var me=S.getAttribute($);if(me)return void jn[$].fire({template:me})}},Tr=Object.freeze({__proto__:null,argsToParams:function(E){var S={};return"object"!==ue(E[0])||xo(E[0])?["title","html","icon"].forEach(function($,me){var Xe=E[me];"string"==typeof Xe||xo(Xe)?S[$]=Xe:void 0!==Xe&&Ve("Unexpected type of ".concat($,'! Expected "string" or "Element", got ').concat(ue(Xe)))}):Object.assign(S,E[0]),S},bindClickHandler:function cr(){jn[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,fr||(document.body.addEventListener("click",rn),fr=!0)},clickCancel:function(){var E;return null===(E=Pr())||void 0===E?void 0:E.click()},clickConfirm:bi,clickDeny:function(){var E;return null===(E=sn())||void 0===E?void 0:E.click()},enableLoading:Ro,fire:function C(){for(var E=arguments.length,S=new Array(E),$=0;$<E;$++)S[$]=arguments[$];return function F(j,E,S){if(p())return Reflect.construct.apply(null,arguments);var $=[null];$.push.apply($,E);var me=new(j.bind.apply(j,$));return S&&oe(me,S.prototype),me}(this,S)},getActions:vt,getCancelButton:Pr,getCloseButton:Rn,getConfirmButton:hn,getContainer:Et,getDenyButton:sn,getFocusableElements:Lr,getFooter:Ci,getHtmlContainer:zt,getIcon:In,getIconContent:function(){return lr(se["icon-content"])},getImage:on,getInputLabel:function(){return lr(se["input-label"])},getLoader:Hr,getPopup:Ht,getProgressSteps:Ot,getTimerLeft:function(){return st.timeout&&st.timeout.getTimerLeft()},getTimerProgressBar:Wt,getTitle:Hn,getValidationMessage:cn,increaseTimer:function(E){if(st.timeout){var S=st.timeout.increase(E);return Rr(S,!0),S}},isDeprecatedParameter:Rs,isLoading:function(){var E=Ht();return!!E&&E.hasAttribute("data-loading")},isTimerRunning:function(){return!(!st.timeout||!st.timeout.isRunning())},isUpdatableParameter:Gi,isValidParameter:os,isVisible:function(){return _t(Ht())},mixin:function Z(j){var E=function(S){function $(){return q(this,$),Ne(this,$,arguments)}return function Pe(j,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(E&&E.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),E&&oe(j,E)}($,S),pe($,[{key:"_main",value:function(Xe,Me){return He(re($.prototype),"_main",this).call(this,Xe,Object.assign({},j,Me))}}]),$}(this);return E},resumeTimer:he,showLoading:Ro,stopTimer:z,toggleTimer:function(){var E=st.timeout;return E&&(E.running?z():he())}}),ar=function(){function j(E,S){q(this,j),this.callback=E,this.remaining=S,this.running=!1,this.start()}return pe(j,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(S){var $=this.running;return $&&this.stop(),this.remaining+=S,$&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),j}(),pr=["swal-title","swal-html","swal-footer"],ut=function(E){var S={};return Array.from(E.querySelectorAll("swal-param")).forEach(function(me){je(me,["name","value"]);var Xe=me.getAttribute("name"),Me=me.getAttribute("value");S[Xe]="boolean"==typeof zo[Xe]?"false"!==Me:"object"===ue(zo[Xe])?JSON.parse(Me):Me}),S},Nr=function(E){var S={};return Array.from(E.querySelectorAll("swal-function-param")).forEach(function(me){var Xe=me.getAttribute("name"),Me=me.getAttribute("value");S[Xe]=new Function("return ".concat(Me))()}),S},kr=function(E){var S={};return Array.from(E.querySelectorAll("swal-button")).forEach(function(me){je(me,["type","color","aria-label"]);var Xe=me.getAttribute("type");S["".concat(Xe,"ButtonText")]=me.innerHTML,S["show".concat(Je(Xe),"Button")]=!0,me.hasAttribute("color")&&(S["".concat(Xe,"ButtonColor")]=me.getAttribute("color")),me.hasAttribute("aria-label")&&(S["".concat(Xe,"ButtonAriaLabel")]=me.getAttribute("aria-label"))}),S},Ko=function(E){var S={},$=E.querySelector("swal-image");return $&&(je($,["src","width","height","alt"]),$.hasAttribute("src")&&(S.imageUrl=$.getAttribute("src")),$.hasAttribute("width")&&(S.imageWidth=$.getAttribute("width")),$.hasAttribute("height")&&(S.imageHeight=$.getAttribute("height")),$.hasAttribute("alt")&&(S.imageAlt=$.getAttribute("alt"))),S},Dt=function(E){var S={},$=E.querySelector("swal-icon");return $&&(je($,["type","color"]),$.hasAttribute("type")&&(S.icon=$.getAttribute("type")),$.hasAttribute("color")&&(S.iconColor=$.getAttribute("color")),S.iconHtml=$.innerHTML),S},$t=function(E){var S={},$=E.querySelector("swal-input");$&&(je($,["type","label","placeholder","value"]),S.input=$.getAttribute("type")||"text",$.hasAttribute("label")&&(S.inputLabel=$.getAttribute("label")),$.hasAttribute("placeholder")&&(S.inputPlaceholder=$.getAttribute("placeholder")),$.hasAttribute("value")&&(S.inputValue=$.getAttribute("value")));var me=Array.from(E.querySelectorAll("swal-input-option"));return me.length&&(S.inputOptions={},me.forEach(function(Xe){je(Xe,["value"]);var Me=Xe.getAttribute("value");S.inputOptions[Me]=Xe.innerHTML})),S},wl=function(E,S){var $={};for(var me in S){var Xe=S[me],Me=E.querySelector(Xe);Me&&(je(Me,[]),$[Xe.replace(/^swal-/,"")]=Me.innerHTML.trim())}return $},ht=function(E){var S=pr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(function($){var me=$.tagName.toLowerCase();S.includes(me)||Be("Unrecognized element <".concat(me,">"))})},je=function(E,S){Array.from(E.attributes).forEach(function($){-1===S.indexOf($.name)&&Be(['Unrecognized attribute "'.concat($.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(S.length?"Allowed attributes are: ".concat(S.join(", ")):"To set the value, use HTML within the element.")])})},Er=function(E){var S=Et(),$=Ht();"function"==typeof E.willOpen&&E.willOpen($);var Xe=window.getComputedStyle(document.body).overflowY;qr(S,$,E),setTimeout(function(){Il(S,$)},10),An()&&(_a(S,E.scrollbarPadding,Xe),Array.from(document.body.children).forEach(function(S){S===Et()||S.contains(Et())||(S.hasAttribute("aria-hidden")&&S.setAttribute("data-previous-aria-hidden",S.getAttribute("aria-hidden")||""),S.setAttribute("aria-hidden","true"))})),!fn()&&!st.previousActiveElement&&(st.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(function(){return E.didOpen($)}),L(S,se["no-transition"])},El=function j(E){var S=Ht();if(E.target===S&&hr){var $=Et();S.removeEventListener(hr,j),$.style.overflowY="auto"}},Il=function(E,S){hr&&Xt(S)?(E.style.overflowY="hidden",S.addEventListener(hr,El)):E.style.overflowY="auto"},_a=function(E,S,$){(function(){if(Mi&&!mr(document.body,se.iosfix)){var E=document.body.scrollTop;document.body.style.top="".concat(-1*E,"px"),K(document.body,se.iosfix),Ti()}})(),S&&"hidden"!==$&&Mn($),setTimeout(function(){E.scrollTop=0})},qr=function(E,S,$){K(E,$.showClass.backdrop),$.animation?(S.style.setProperty("opacity","0","important"),ie(S,"grid"),setTimeout(function(){K(S,$.showClass.popup),S.style.removeProperty("opacity")},10)):ie(S,"grid"),K([document.documentElement,document.body],se.shown),$.heightAuto&&$.backdrop&&!$.toast&&K([document.documentElement,document.body],se["height-auto"])},Cl={email:function(E,S){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(S||"Invalid email address")},url:function(E,S){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(S||"Invalid URL")}};function co(j){(function Pu(j){j.inputValidator||("email"===j.input&&(j.inputValidator=Cl.email),"url"===j.input&&(j.inputValidator=Cl.url))})(j),j.showLoaderOnConfirm&&!j.preConfirm&&Be("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Hs(j){(!j.target||"string"==typeof j.target&&!document.querySelector(j.target)||"string"!=typeof j.target&&!j.target.appendChild)&&(Be('Target parameter is not valid, defaulting to "body"'),j.target="body")}(j),"string"==typeof j.title&&(j.title=j.title.split("\n").join("<br />")),dn(j)}var Oo,va=new WeakMap,ai=function(){function j(){if(q(this,j),ln(this,va,{writable:!0,value:void 0}),!(typeof window>"u")){Oo=this;for(var E=arguments.length,S=new Array(E),$=0;$<E;$++)S[$]=arguments[$];var me=Object.freeze(this.constructor.argsToParams(S));this.params=me,this.isAwaitingPromise=!1,De(this,va,this._main(Oo.params))}}return pe(j,[{key:"_main",value:function(S){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(E){for(var S in!1===E.backdrop&&E.allowOutsideClick&&Be('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),E)lo(S),E.toast&&Us(S),br(S)}(Object.assign({},$,S)),st.currentInstance){var me=_i.swalPromiseResolve.get(st.currentInstance),Xe=st.currentInstance.isAwaitingPromise;st.currentInstance._destroy(),Xe||me({isDismissed:!0}),An()&&Or()}st.currentInstance=Oo;var Me=ta(S,$);co(Me),Object.freeze(Me),st.timeout&&(st.timeout.stop(),delete st.timeout),clearTimeout(st.restoreFocusTimeout);var Lt=xa(Oo);return Gn(Oo,Me),dt.innerParams.set(Oo,Me),Sn(Oo,Lt,Me)}},{key:"then",value:function(S){return it(this,va).then(S)}},{key:"finally",value:function(S){return it(this,va).finally(S)}}]),j}(),Sn=function(E,S,$){return new Promise(function(me,Xe){var Me=function(On){E.close({isDismissed:!0,dismiss:On})};_i.swalPromiseResolve.set(E,me),_i.swalPromiseReject.set(E,Xe),S.confirmButton.onclick=function(){!function(E){var S=dt.innerParams.get(E);E.disableButtons(),S.input?G(E,"confirm"):gn(E,!0)}(E)},S.denyButton.onclick=function(){!function(E){var S=dt.innerParams.get(E);E.disableButtons(),S.returnInputValueOnDeny?G(E,"deny"):ee(E,!1)}(E)},S.cancelButton.onclick=function(){!function(E,S){E.disableButtons(),S(yn.cancel)}(E,Me)},S.closeButton.onclick=function(){Me(yn.close)},function(E,S,$){E.toast?_o(E,S,$):($s(S),ea(S),_s(E,S,$))}($,S,Me),function(E,S,$){Ln(E),S.toast||(E.keydownHandler=function(me){return rr(S,me,$)},E.keydownTarget=S.keydownListenerCapture?window:Ht(),E.keydownListenerCapture=S.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)}(st,$,Me),function(E,S){"select"===S.input||"radio"===S.input?ma(E,S):["text","email","number","tel","textarea"].some(function($){return $===S.input})&&(Pn(S.inputValue)||Tn(S.inputValue))&&(Ro(hn()),Yr(E,S))}(E,$),Er($),jt(st,$,Me),tn(S,$),setTimeout(function(){S.container.scrollTop=0})})},ta=function(E,S){var $=function(E){var S="string"==typeof E.template?document.querySelector(E.template):E.template;if(!S)return{};var $=S.content;return ht($),Object.assign(ut($),Nr($),kr($),Ko($),Dt($),$t($),wl($,pr))}(E),me=Object.assign({},zo,S,$,E);return me.showClass=Object.assign({},zo.showClass,me.showClass),me.hideClass=Object.assign({},zo.hideClass,me.hideClass),!1===me.animation&&(me.showClass={backdrop:"swal2-noanimation"},me.hideClass={}),me},xa=function(E){var S={popup:Ht(),container:Et(),actions:vt(),confirmButton:hn(),denyButton:sn(),cancelButton:Pr(),loader:Hr(),closeButton:Rn(),validationMessage:cn(),progressSteps:Ot()};return dt.domCache.set(E,S),S},jt=function(E,S,$){var me=Wt();Ee(me),S.timer&&(E.timeout=new ar(function(){$("timer"),delete E.timeout},S.timer),S.timerProgressBar&&(ie(me),Kn(me,S,"timerProgressBar"),setTimeout(function(){E.timeout&&E.timeout.running&&Rr(S.timer)})))},tn=function(E,S){if(!S.toast){if(!$n(S.allowEnterKey))return void xn();zs(E,S)||io(-1,1)}},zs=function(E,S){return S.focusDeny&&_t(E.denyButton)?(E.denyButton.focus(),!0):S.focusCancel&&_t(E.cancelButton)?(E.cancelButton.focus(),!0):!(!S.focusConfirm||!_t(E.confirmButton)||(E.confirmButton.focus(),0))},xn=function(){document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var wa=new Date,$r=localStorage.getItem("swal-initiation");$r?(wa.getTime()-Date.parse($r))/864e5>3&&setTimeout(function(){document.body.style.pointerEvents="none";var j=document.createElement("audio");j.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",j.loop=!0,document.body.appendChild(j),setTimeout(function(){j.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(wa))}ai.prototype.disableButtons=ys,ai.prototype.enableButtons=Oi,ai.prototype.getInput=hi,ai.prototype.disableInput=vi,ai.prototype.enableInput=is,ai.prototype.hideLoading=Jr,ai.prototype.disableLoading=Jr,ai.prototype.showValidationMessage=Ho,ai.prototype.resetValidationMessage=Li,ai.prototype.close=Sr,ai.prototype.closePopup=Sr,ai.prototype.closeModal=Sr,ai.prototype.closeToast=Sr,ai.prototype.rejectPromise=uo,ai.prototype.update=Ms,ai.prototype._destroy=qo,Object.assign(ai,Tr),Object.keys(Su).forEach(function(j){ai[j]=function(){var E;return Oo&&Oo[j]?(E=Oo)[j].apply(E,arguments):null}}),ai.DismissReason=yn,ai.version="11.10.5";var At=ai;return At.default=At,At}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ne,F){var p=Ne.createElement("style");if(Ne.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=F);else try{p.innerHTML=F}catch{p.innerText=F}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},6814:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Do:()=>et,EM:()=>ao,HT:()=>ye,JF:()=>Qi,K0:()=>q,Mx:()=>dr,O5:()=>Ar,PM:()=>_i,S$:()=>Qe,V_:()=>pe,Ye:()=>pt,b0:()=>He,bD:()=>rr,ez:()=>Fi,q:()=>te,sg:()=>di,uU:()=>jr,w_:()=>ue});var p=F(5879);let W=null;function te(){return W}function ye(C){W||(W=C)}class ue{}const q=new p.OlP("DocumentToken");let ve=(()=>{class C{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(z){return new(z||C)};static#t=this.\u0275prov=p.Yz7({token:C,factory:function(){return(0,p.f3M)(Pe)},providedIn:"platform"})}return C})();const pe=new p.OlP("Location Initialized");let Pe=(()=>{class C extends ve{constructor(){super(),this._doc=(0,p.f3M)(q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(x){const z=te().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",x,!1),()=>z.removeEventListener("popstate",x)}onHashChange(x){const z=te().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",x,!1),()=>z.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,z,he){this._history.pushState(x,z,he)}replaceState(x,z,he){this._history.replaceState(x,z,he)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static#e=this.\u0275fac=function(z){return new(z||C)};static#t=this.\u0275prov=p.Yz7({token:C,factory:function(){return new C},providedIn:"platform"})}return C})();function re(C,Z){if(0==C.length)return Z;if(0==Z.length)return C;let x=0;return C.endsWith("/")&&x++,Z.startsWith("/")&&x++,2==x?C+Z.substring(1):1==x?C+Z:C+"/"+Z}function oe(C){const Z=C.match(/#|\?|$/),x=Z&&Z.index||C.length;return C.slice(0,x-("/"===C[x-1]?1:0))+C.slice(x)}function Ce(C){return C&&"?"!==C[0]?"?"+C:C}let Qe=(()=>{class C{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(z){return new(z||C)};static#t=this.\u0275prov=p.Yz7({token:C,factory:function(){return(0,p.f3M)(He)},providedIn:"root"})}return C})();const We=new p.OlP("appBaseHref");let He=(()=>{class C extends Qe{constructor(x,z){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=z??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return re(this._baseHref,x)}path(x=!1){const z=this._platformLocation.pathname+Ce(this._platformLocation.search),he=this._platformLocation.hash;return he&&x?`${z}${he}`:z}pushState(x,z,he,Ze){const ot=this.prepareExternalUrl(he+Ce(Ze));this._platformLocation.pushState(x,z,ot)}replaceState(x,z,he,Ze){const ot=this.prepareExternalUrl(he+Ce(Ze));this._platformLocation.replaceState(x,z,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(z){return new(z||C)(p.LFG(ve),p.LFG(We,8))};static#t=this.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),et=(()=>{class C extends Qe{constructor(x,z){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(x){const z=re(this._baseHref,x);return z.length>0?"#"+z:z}pushState(x,z,he,Ze){let ot=this.prepareExternalUrl(he+Ce(Ze));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.pushState(x,z,ot)}replaceState(x,z,he,Ze){let ot=this.prepareExternalUrl(he+Ce(Ze));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.replaceState(x,z,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(z){return new(z||C)(p.LFG(ve),p.LFG(We,8))};static#t=this.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac})}return C})(),pt=(()=>{class C{constructor(x){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const z=this._locationStrategy.getBaseHref();this._basePath=function we(C){if(new RegExp("^(https?:)?//").test(C)){const[,x]=C.split(/\/\/[^\/]+/);return x}return C}(oe(mt(z))),this._locationStrategy.onPopState(he=>{this._subject.emit({url:this.path(!0),pop:!0,state:he.state,type:he.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,z=""){return this.path()==this.normalize(x+Ce(z))}normalize(x){return C.stripTrailingSlash(function St(C,Z){if(!C||!Z.startsWith(C))return Z;const x=Z.substring(C.length);return""===x||["/",";","?","#"].includes(x[0])?x:Z}(this._basePath,mt(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,z="",he=null){this._locationStrategy.pushState(he,"",x,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ce(z)),he)}replaceState(x,z="",he=null){this._locationStrategy.replaceState(he,"",x,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ce(z)),he)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)})),()=>{const z=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",z){this._urlChangeListeners.forEach(he=>he(x,z))}subscribe(x,z,he){return this._subject.subscribe({next:x,error:z,complete:he})}static#e=this.normalizeQueryParams=Ce;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=oe;static#r=this.\u0275fac=function(z){return new(z||C)(p.LFG(Qe))};static#i=this.\u0275prov=p.Yz7({token:C,factory:function(){return function Ke(){return new pt((0,p.LFG)(Qe))}()},providedIn:"root"})}return C})();function mt(C){return C.replace(/\/index.html$/,"")}var it=function(C){return C[C.Format=0]="Format",C[C.Standalone=1]="Standalone",C}(it||{}),De=function(C){return C[C.Narrow=0]="Narrow",C[C.Abbreviated=1]="Abbreviated",C[C.Wide=2]="Wide",C[C.Short=3]="Short",C}(De||{}),Rt=function(C){return C[C.Short=0]="Short",C[C.Medium=1]="Medium",C[C.Long=2]="Long",C[C.Full=3]="Full",C}(Rt||{}),Ut=function(C){return C[C.Decimal=0]="Decimal",C[C.Group=1]="Group",C[C.List=2]="List",C[C.PercentSign=3]="PercentSign",C[C.PlusSign=4]="PlusSign",C[C.MinusSign=5]="MinusSign",C[C.Exponential=6]="Exponential",C[C.SuperscriptingExponent=7]="SuperscriptingExponent",C[C.PerMille=8]="PerMille",C[C.Infinity=9]="Infinity",C[C.NaN=10]="NaN",C[C.TimeSeparator=11]="TimeSeparator",C[C.CurrencyDecimal=12]="CurrencyDecimal",C[C.CurrencyGroup=13]="CurrencyGroup",C}(Ut||{});function xe(C,Z){return Tn((0,p.cg1)(C)[p.wAp.DateFormat],Z)}function se(C,Z){return Tn((0,p.cg1)(C)[p.wAp.TimeFormat],Z)}function Re(C,Z){return Tn((0,p.cg1)(C)[p.wAp.DateTimeFormat],Z)}function Ie(C,Z){const x=(0,p.cg1)(C),z=x[p.wAp.NumberSymbols][Z];if(typeof z>"u"){if(Z===Ut.CurrencyDecimal)return x[p.wAp.NumberSymbols][Ut.Decimal];if(Z===Ut.CurrencyGroup)return x[p.wAp.NumberSymbols][Ut.Group]}return z}function nn(C){if(!C[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tn(C,Z){for(let x=Z;x>-1;x--)if(typeof C[x]<"u")return C[x];throw new Error("Locale data API: locale data undefined")}function Et(C){const[Z,x]=C.split(":");return{hours:+Z,minutes:+x}}const In=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cr={},Hn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zt=function(C){return C[C.Short=0]="Short",C[C.ShortGMT=1]="ShortGMT",C[C.Long=2]="Long",C[C.Extended=3]="Extended",C}(zt||{}),on=function(C){return C[C.FullYear=0]="FullYear",C[C.Month=1]="Month",C[C.Date=2]="Date",C[C.Hours=3]="Hours",C[C.Minutes=4]="Minutes",C[C.Seconds=5]="Seconds",C[C.FractionalSeconds=6]="FractionalSeconds",C[C.Day=7]="Day",C}(on||{}),Ot=function(C){return C[C.DayPeriods=0]="DayPeriods",C[C.Days=1]="Days",C[C.Months=2]="Months",C[C.Eras=3]="Eras",C}(Ot||{});function cn(C,Z,x,z){let he=function K(C){if(M(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[he,Ze=1,ot=1]=C.split("-").map(Qt=>+Qt);return hn(he,Ze-1,ot)}const x=parseFloat(C);if(!isNaN(C-x))return new Date(x);let z;if(z=C.match(In))return function L(C){const Z=new Date(0);let x=0,z=0;const he=C[8]?Z.setUTCFullYear:Z.setFullYear,Ze=C[8]?Z.setUTCHours:Z.setHours;C[9]&&(x=Number(C[9]+C[10]),z=Number(C[9]+C[11])),he.call(Z,Number(C[1]),Number(C[2])-1,Number(C[3]));const ot=Number(C[4]||0)-x,Qt=Number(C[5]||0)-z,fr=Number(C[6]||0),jn=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return Ze.call(Z,ot,Qt,fr,jn),Z}(z)}const Z=new Date(C);if(!M(Z))throw new Error(`Unable to convert "${C}" into a date`);return Z}(C);Z=Pr(x,Z)||Z;let Qt,ot=[];for(;Z;){if(Qt=Hn.exec(Z),!Qt){ot.push(Z);break}{ot=ot.concat(Qt.slice(1));const cr=ot.pop();if(!cr)break;Z=cr}}let fr=he.getTimezoneOffset();z&&(fr=_n(z,fr),he=function ge(C,Z,x){const z=x?-1:1,he=C.getTimezoneOffset();return function vn(C,Z){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+Z),C}(C,z*(_n(Z,he)-he))}(he,z,!0));let jn="";return ot.forEach(cr=>{const rn=function Kn(C){if(ci[C])return ci[C];let Z;switch(C){case"G":case"GG":case"GGG":Z=Wt(Ot.Eras,De.Abbreviated);break;case"GGGG":Z=Wt(Ot.Eras,De.Wide);break;case"GGGGG":Z=Wt(Ot.Eras,De.Narrow);break;case"y":Z=vt(on.FullYear,1,0,!1,!0);break;case"yy":Z=vt(on.FullYear,2,0,!0,!0);break;case"yyy":Z=vt(on.FullYear,3,0,!1,!0);break;case"yyyy":Z=vt(on.FullYear,4,0,!1,!0);break;case"Y":Z=mr(1);break;case"YY":Z=mr(2,!0);break;case"YYY":Z=mr(3);break;case"YYYY":Z=mr(4);break;case"M":case"L":Z=vt(on.Month,1,1);break;case"MM":case"LL":Z=vt(on.Month,2,1);break;case"MMM":Z=Wt(Ot.Months,De.Abbreviated);break;case"MMMM":Z=Wt(Ot.Months,De.Wide);break;case"MMMMM":Z=Wt(Ot.Months,De.Narrow);break;case"LLL":Z=Wt(Ot.Months,De.Abbreviated,it.Standalone);break;case"LLLL":Z=Wt(Ot.Months,De.Wide,it.Standalone);break;case"LLLLL":Z=Wt(Ot.Months,De.Narrow,it.Standalone);break;case"w":Z=tr(1);break;case"ww":Z=tr(2);break;case"W":Z=tr(1,!0);break;case"d":Z=vt(on.Date,1);break;case"dd":Z=vt(on.Date,2);break;case"c":case"cc":Z=vt(on.Day,1);break;case"ccc":Z=Wt(Ot.Days,De.Abbreviated,it.Standalone);break;case"cccc":Z=Wt(Ot.Days,De.Wide,it.Standalone);break;case"ccccc":Z=Wt(Ot.Days,De.Narrow,it.Standalone);break;case"cccccc":Z=Wt(Ot.Days,De.Short,it.Standalone);break;case"E":case"EE":case"EEE":Z=Wt(Ot.Days,De.Abbreviated);break;case"EEEE":Z=Wt(Ot.Days,De.Wide);break;case"EEEEE":Z=Wt(Ot.Days,De.Narrow);break;case"EEEEEE":Z=Wt(Ot.Days,De.Short);break;case"a":case"aa":case"aaa":Z=Wt(Ot.DayPeriods,De.Abbreviated);break;case"aaaa":Z=Wt(Ot.DayPeriods,De.Wide);break;case"aaaaa":Z=Wt(Ot.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":Z=Wt(Ot.DayPeriods,De.Abbreviated,it.Standalone,!0);break;case"bbbb":Z=Wt(Ot.DayPeriods,De.Wide,it.Standalone,!0);break;case"bbbbb":Z=Wt(Ot.DayPeriods,De.Narrow,it.Standalone,!0);break;case"B":case"BB":case"BBB":Z=Wt(Ot.DayPeriods,De.Abbreviated,it.Format,!0);break;case"BBBB":Z=Wt(Ot.DayPeriods,De.Wide,it.Format,!0);break;case"BBBBB":Z=Wt(Ot.DayPeriods,De.Narrow,it.Format,!0);break;case"h":Z=vt(on.Hours,1,-12);break;case"hh":Z=vt(on.Hours,2,-12);break;case"H":Z=vt(on.Hours,1);break;case"HH":Z=vt(on.Hours,2);break;case"m":Z=vt(on.Minutes,1);break;case"mm":Z=vt(on.Minutes,2);break;case"s":Z=vt(on.Seconds,1);break;case"ss":Z=vt(on.Seconds,2);break;case"S":Z=vt(on.FractionalSeconds,1);break;case"SS":Z=vt(on.FractionalSeconds,2);break;case"SSS":Z=vt(on.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Z=an(zt.Short);break;case"ZZZZZ":Z=an(zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Z=an(zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Z=an(zt.Long);break;default:return null}return ci[C]=Z,Z}(cr);jn+=rn?rn(he,x,fr):"''"===cr?"'":cr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),jn}function hn(C,Z,x){const z=new Date(0);return z.setFullYear(C,Z,x),z.setHours(0,0,0),z}function Pr(C,Z){const x=function Cn(C){return(0,p.cg1)(C)[p.wAp.LocaleId]}(C);if(Cr[x]=Cr[x]||{},Cr[x][Z])return Cr[x][Z];let z="";switch(Z){case"shortDate":z=xe(C,Rt.Short);break;case"mediumDate":z=xe(C,Rt.Medium);break;case"longDate":z=xe(C,Rt.Long);break;case"fullDate":z=xe(C,Rt.Full);break;case"shortTime":z=se(C,Rt.Short);break;case"mediumTime":z=se(C,Rt.Medium);break;case"longTime":z=se(C,Rt.Long);break;case"fullTime":z=se(C,Rt.Full);break;case"short":const he=Pr(C,"shortTime"),Ze=Pr(C,"shortDate");z=sn(Re(C,Rt.Short),[he,Ze]);break;case"medium":const ot=Pr(C,"mediumTime"),Qt=Pr(C,"mediumDate");z=sn(Re(C,Rt.Medium),[ot,Qt]);break;case"long":const fr=Pr(C,"longTime"),jn=Pr(C,"longDate");z=sn(Re(C,Rt.Long),[fr,jn]);break;case"full":const cr=Pr(C,"fullTime"),rn=Pr(C,"fullDate");z=sn(Re(C,Rt.Full),[cr,rn])}return z&&(Cr[x][Z]=z),z}function sn(C,Z){return Z&&(C=C.replace(/\{([^}]+)}/g,function(x,z){return null!=Z&&z in Z?Z[z]:x})),C}function zn(C,Z,x="-",z,he){let Ze="";(C<0||he&&C<=0)&&(he?C=1-C:(C=-C,Ze=x));let ot=String(C);for(;ot.length<Z;)ot="0"+ot;return z&&(ot=ot.slice(ot.length-Z)),Ze+ot}function vt(C,Z,x=0,z=!1,he=!1){return function(Ze,ot){let Qt=function Ci(C,Z){switch(C){case on.FullYear:return Z.getFullYear();case on.Month:return Z.getMonth();case on.Date:return Z.getDate();case on.Hours:return Z.getHours();case on.Minutes:return Z.getMinutes();case on.Seconds:return Z.getSeconds();case on.FractionalSeconds:return Z.getMilliseconds();case on.Day:return Z.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,Ze);if((x>0||Qt>-x)&&(Qt+=x),C===on.Hours)0===Qt&&-12===x&&(Qt=12);else if(C===on.FractionalSeconds)return function Hr(C,Z){return zn(C,3).substring(0,Z)}(Qt,Z);const fr=Ie(ot,Ut.MinusSign);return zn(Qt,Z,fr,z,he)}}function Wt(C,Z,x=it.Format,z=!1){return function(he,Ze){return function Rn(C,Z,x,z,he,Ze){switch(x){case Ot.Months:return function st(C,Z,x){const z=(0,p.cg1)(C),Ze=Tn([z[p.wAp.MonthsFormat],z[p.wAp.MonthsStandalone]],Z);return Tn(Ze,x)}(Z,he,z)[C.getMonth()];case Ot.Days:return function Xn(C,Z,x){const z=(0,p.cg1)(C),Ze=Tn([z[p.wAp.DaysFormat],z[p.wAp.DaysStandalone]],Z);return Tn(Ze,x)}(Z,he,z)[C.getDay()];case Ot.DayPeriods:const ot=C.getHours(),Qt=C.getMinutes();if(Ze){const jn=function $n(C){const Z=(0,p.cg1)(C);return nn(Z),(Z[p.wAp.ExtraData][2]||[]).map(z=>"string"==typeof z?Et(z):[Et(z[0]),Et(z[1])])}(Z),cr=function Pn(C,Z,x){const z=(0,p.cg1)(C);nn(z);const Ze=Tn([z[p.wAp.ExtraData][0],z[p.wAp.ExtraData][1]],Z)||[];return Tn(Ze,x)||[]}(Z,he,z),rn=jn.findIndex(Tr=>{if(Array.isArray(Tr)){const[ar,pr]=Tr,vo=ot>=ar.hours&&Qt>=ar.minutes,ut=ot<pr.hours||ot===pr.hours&&Qt<pr.minutes;if(ar.hours<pr.hours){if(vo&&ut)return!0}else if(vo||ut)return!0}else if(Tr.hours===ot&&Tr.minutes===Qt)return!0;return!1});if(-1!==rn)return cr[rn]}return function ln(C,Z,x){const z=(0,p.cg1)(C),Ze=Tn([z[p.wAp.DayPeriodsFormat],z[p.wAp.DayPeriodsStandalone]],Z);return Tn(Ze,x)}(Z,he,z)[ot<12?0:1];case Ot.Eras:return function Zt(C,Z){return Tn((0,p.cg1)(C)[p.wAp.Eras],Z)}(Z,z)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(he,Ze,C,Z,x,z)}}function an(C){return function(Z,x,z){const he=-1*z,Ze=Ie(x,Ut.MinusSign),ot=he>0?Math.floor(he/60):Math.ceil(he/60);switch(C){case zt.Short:return(he>=0?"+":"")+zn(ot,2,Ze)+zn(Math.abs(he%60),2,Ze);case zt.ShortGMT:return"GMT"+(he>=0?"+":"")+zn(ot,1,Ze);case zt.Long:return"GMT"+(he>=0?"+":"")+zn(ot,2,Ze)+":"+zn(Math.abs(he%60),2,Ze);case zt.Extended:return 0===z?"Z":(he>=0?"+":"")+zn(ot,2,Ze)+":"+zn(Math.abs(he%60),2,Ze);default:throw new Error(`Unknown zone width "${C}"`)}}}const Lr=0,An=4;function Ur(C){return hn(C.getFullYear(),C.getMonth(),C.getDate()+(An-C.getDay()))}function tr(C,Z=!1){return function(x,z){let he;if(Z){const Ze=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,ot=x.getDate();he=1+Math.floor((ot+Ze)/7)}else{const Ze=Ur(x),ot=function fn(C){const Z=hn(C,Lr,1).getDay();return hn(C,0,1+(Z<=An?An:An+7)-Z)}(Ze.getFullYear()),Qt=Ze.getTime()-ot.getTime();he=1+Math.round(Qt/6048e5)}return zn(he,C,Ie(z,Ut.MinusSign))}}function mr(C,Z=!1){return function(x,z){return zn(Ur(x).getFullYear(),C,Ie(z,Ut.MinusSign),Z)}}const ci={};function _n(C,Z){C=C.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(x)?Z:x}function M(C){return C instanceof Date&&!isNaN(C.valueOf())}function dr(C,Z){Z=encodeURIComponent(Z);for(const x of C.split(";")){const z=x.indexOf("="),[he,Ze]=-1==z?[x,""]:[x.slice(0,z),x.slice(z+1)];if(he.trim()===Z)return decodeURIComponent(Ze)}return null}class kn{constructor(Z,x,z,he){this.$implicit=Z,this.ngForOf=x,this.index=z,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let di=(()=>{class C{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,z,he){this._viewContainer=x,this._template=z,this._differs=he,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const z=this._viewContainer;x.forEachOperation((he,Ze,ot)=>{if(null==he.previousIndex)z.createEmbeddedView(this._template,new kn(he.item,this._ngForOf,-1,-1),null===ot?void 0:ot);else if(null==ot)z.remove(null===Ze?void 0:Ze);else if(null!==Ze){const Qt=z.get(Ze);z.move(Qt,ot),mi(Qt,he)}});for(let he=0,Ze=z.length;he<Ze;he++){const Qt=z.get(he).context;Qt.index=he,Qt.count=Ze,Qt.ngForOf=this._ngForOf}x.forEachIdentityChange(he=>{mi(z.get(he.currentIndex),he)})}static ngTemplateContextGuard(x,z){return!0}static#e=this.\u0275fac=function(z){return new(z||C)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return C})();function mi(C,Z){C.context.$implicit=Z.item}let Ar=(()=>{class C{constructor(x,z){this._viewContainer=x,this._context=new zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){dt("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){dt("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,z){return!0}static#e=this.\u0275fac=function(z){return new(z||C)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return C})();class zr{constructor(){this.$implicit=null,this.ngIf=null}}function dt(C,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,p.AaK)(Z)}'.`)}const Fn=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Zr=new p.OlP("DATE_PIPE_DEFAULT_OPTIONS");let jr=(()=>{class C{constructor(x,z,he){this.locale=x,this.defaultTimezone=z,this.defaultOptions=he}transform(x,z,he,Ze){if(null==x||""===x||x!=x)return null;try{return cn(x,z??this.defaultOptions?.dateFormat??"mediumDate",Ze||this.locale,he??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ot){throw function nr(C,Z){return new p.vHH(2100,!1)}()}}static#e=this.\u0275fac=function(z){return new(z||C)(p.Y36(p.soG,16),p.Y36(Fn,24),p.Y36(Zr,24))};static#t=this.\u0275pipe=p.Yjl({name:"date",type:C,pure:!0,standalone:!0})}return C})(),Fi=(()=>{class C{static#e=this.\u0275fac=function(z){return new(z||C)};static#t=this.\u0275mod=p.oAB({type:C});static#n=this.\u0275inj=p.cJS({})}return C})();const rr="browser",Hi="server";function _i(C){return C===Hi}let ao=(()=>{class C{static#e=this.\u0275prov=(0,p.Yz7)({token:C,providedIn:"root",factory:()=>new Ti((0,p.LFG)(q),window)})}return C})();class Ti{constructor(Z,x){this.document=Z,this.window=x,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const x=function Ao(C,Z){const x=C.getElementById(Z)||C.getElementsByName(Z)[0];if(x)return x;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const z=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let he=z.currentNode;for(;he;){const Ze=he.shadowRoot;if(Ze){const ot=Ze.getElementById(Z)||Ze.querySelector(`[name="${Z}"]`);if(ot)return ot}he=z.nextNode()}}return null}(this.document,Z);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const x=Z.getBoundingClientRect(),z=x.left+this.window.pageXOffset,he=x.top+this.window.pageYOffset,Ze=this.offset();this.window.scrollTo(z-Ze[0],he-Ze[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Qi{}},5879:(Tt,Ne,F)=>{"use strict";F.d(Ne,{$8M:()=>Ws,$WT:()=>yi,$Z:()=>og,AFp:()=>Kh,ALo:()=>_0,AaK:()=>Ce,BQk:()=>Og,CHM:()=>On,CRH:()=>O0,EJc:()=>xb,EpF:()=>i_,F4k:()=>o_,FYo:()=>rf,FiY:()=>ba,GfV:()=>Up,Gpc:()=>He,HDt:()=>nI,JOm:()=>mu,KtG:()=>gr,LFG:()=>ct,Lbi:()=>xd,Lck:()=>_D,MAs:()=>t_,MGl:()=>oh,MMx:()=>n0,NdJ:()=>Fg,O4$:()=>Na,Ojb:()=>Qh,OlP:()=>vt,Oqu:()=>zv,P3R:()=>Rm,PXZ:()=>aT,Q6J:()=>Rg,QGY:()=>kg,Qsj:()=>q_,R0b:()=>Fo,RDi:()=>$l,Rgc:()=>Zg,SBq:()=>jc,Sil:()=>kb,Suo:()=>x0,TTD:()=>rn,TgZ:()=>Rf,VuI:()=>HT,W1O:()=>L0,WLB:()=>d0,X6Q:()=>gT,XFs:()=>zt,Xpm:()=>fs,Xq5:()=>bf,Xts:()=>Wl,Y36:()=>cl,YKP:()=>e0,YNc:()=>Jy,Yjl:()=>bo,Yz7:()=>nn,Z0I:()=>Tn,ZZ4:()=>Dw,_Bn:()=>XE,_UZ:()=>n_,_c5:()=>MT,_uU:()=>iE,aQg:()=>bw,c2e:()=>tI,cJS:()=>Pn,cg1:()=>Gv,dDg:()=>rT,dqk:()=>sn,eFA:()=>hI,eJc:()=>uw,ekj:()=>$v,eoX:()=>uI,f3M:()=>_t,g9A:()=>Pp,h0i:()=>uh,hGG:()=>xT,hij:()=>c_,iGM:()=>M0,ifc:()=>fe,ip1:()=>eI,jDz:()=>r0,kEZ:()=>h0,kL8:()=>bE,kcU:()=>Mu,lG2:()=>Vs,lqb:()=>Ja,lri:()=>sI,n5z:()=>vc,oAB:()=>Yi,oxw:()=>a_,q4F:()=>Km,qFp:()=>GT,qLn:()=>al,qOj:()=>nu,qZA:()=>xg,rWj:()=>aI,rg0:()=>Ze,sBO:()=>mT,s_b:()=>y_,soG:()=>v_,tb:()=>_w,tp0:()=>Bu,uIk:()=>Yc,vHH:()=>we,vpe:()=>Xa,wAp:()=>kf,xi3:()=>v0,xp6:()=>ff,ynx:()=>Mf,z2F:()=>Uf,zSh:()=>Rd,zs3:()=>ds});var p=F(8645),W=F(7394),te=F(5592),ye=F(3019),ue=F(5619),q=F(2096),ve=F(3020),pe=F(4664),Pe=F(3997);function re(t){for(let r in t)if(t[r]===re)return r;throw Error("Could not find renamed property on target object.")}function oe(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function Ce(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ce).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Qe(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const We=re({__forward_ref__:re});function He(t){return t.__forward_ref__=He,t.toString=function(){return Ce(this())},t}function et(t){return pt(t)?t():t}function pt(t){return"function"==typeof t&&t.hasOwnProperty(We)&&t.__forward_ref__===He}function Ke(t){return t&&!!t.\u0275providers}const mt="https://g.co/ng/security#xss";class we extends Error{constructor(r,o){super(function ze(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function Oe(t){return"string"==typeof t?t:null==t?"":String(t)}function Ut(t,r){throw new we(-201,!1)}function Je(t,r){null==t&&function Be(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function nn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nn(t){return Et(t,Ht)||Et(t,Cr)}function Tn(t){return null!==Nn(t)}function Et(t,r){return t.hasOwnProperty(r)?t[r]:null}function lr(t){return t&&(t.hasOwnProperty(In)||t.hasOwnProperty(Hn))?t[In]:null}const Ht=re({\u0275prov:re}),In=re({\u0275inj:re}),Cr=re({ngInjectableDef:re}),Hn=re({ngInjectorDef:re});var zt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(zt||{});let on;function cn(t){const r=on;return on=t,r}function hn(t,r,o){const a=Nn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&zt.Optional?null:void 0!==r?r:void Ut(Ce(t))}const sn=globalThis;class vt{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=nn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Kn={},_n="__NG_DI_FLAG__",vn="ngTempTokenPath",K=/\n/gm,M="__source";let O;function Ee(t){const r=O;return O=t,r}function nt(t,r=zt.Default){if(void 0===O)throw new we(-203,!1);return null===O?hn(t,void 0,r):O.get(t,r&zt.Optional?null:void 0,r)}function ct(t,r=zt.Default){return(function Ot(){return on}()||nt)(et(t),r)}function _t(t,r=zt.Default){return ct(t,Kt(r))}function Kt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Dn(t){const r=[];for(let o=0;o<t.length;o++){const a=et(t[o]);if(Array.isArray(a)){if(0===a.length)throw new we(900,!1);let l,d=zt.Default;for(let m=0;m<a.length;m++){const w=a[m],T=Rr(w);"number"==typeof T?-1===T?l=w.token:d|=T:l=w}r.push(ct(l,d))}else r.push(ct(a))}return r}function Xt(t,r){return t[_n]=r,t.prototype[_n]=r,t}function Rr(t){return t[_n]}function N(t){return{toString:t}.toString()}var J=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(J||{}),fe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fe||{});const Ue={},rt=[],Mt=re({\u0275cmp:re}),un=re({\u0275dir:re}),dn=re({\u0275pipe:re}),_r=re({\u0275mod:re}),dr=re({\u0275fac:re}),ni=re({__NG_ELEMENT_ID__:re}),hr=re({__NG_ENV_ID__:re});function Vo(t,r,o){let a=t.length;for(;;){const l=t.indexOf(r,o);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const d=r.length;if(l+d===a||t.charCodeAt(l+d)<=32)return l}o=l+1}}function ri(t,r,o){let a=0;for(;a<o.length;){const l=o[a];if("number"==typeof l){if(0!==l)break;a++;const d=o[a++],m=o[a++],w=o[a++];t.setAttribute(r,m,w,d)}else{const d=l,m=o[++a];kn(d)?t.setProperty(r,d,m):t.setAttribute(r,d,m),a++}}return a}function Pi(t){return 3===t||4===t||6===t}function kn(t){return 64===t.charCodeAt(0)}function di(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?o=l:0===o||mi(t,o,l,null,-1===o||2===o?r[++a]:null)}}return t}function mi(t,r,o,a,l){let d=0,m=t.length;if(-1===r)m=-1;else for(;d<t.length;){const w=t[d++];if("number"==typeof w){if(w===r){m=-1;break}if(w>r){m=d-1;break}}}for(;d<t.length;){const w=t[d];if("number"==typeof w)break;if(w===o){if(null===a)return void(null!==l&&(t[d+1]=l));if(a===t[d+1])return void(t[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==m&&(t.splice(m,0,r),d=m+1),t.splice(d++,0,o),null!==a&&t.splice(d++,0,a),null!==l&&t.splice(d++,0,l)}const or="ng-template";function Ar(t,r,o){let a=0,l=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&l){const m=t[a++];if(o&&"class"===d&&-1!==Vo(m.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(l=!1)}}return!1}function zr(t){return 4===t.type&&t.value!==or}function dt(t,r,o){return r===(4!==t.type||o?t.value:or)}function yt(t,r,o){let a=4;const l=t.attrs||[],d=function Br(t){for(let r=0;r<t.length;r++)if(Pi(t[r]))return r;return t.length}(l);let m=!1;for(let w=0;w<r.length;w++){const T=r[w];if("number"!=typeof T){if(!m)if(4&a){if(a=2|1&a,""!==T&&!dt(t,T,o)||""===T&&1===r.length){if(xt(a))return!1;m=!0}}else{const V=8&a?T:r[++w];if(8&a&&null!==t.attrs){if(!Ar(t.attrs,V,o)){if(xt(a))return!1;m=!0}continue}const le=Yt(8&a?"class":T,l,zr(t),o);if(-1===le){if(xt(a))return!1;m=!0;continue}if(""!==V){let Se;Se=le>d?"":l[le+1].toLowerCase();const ke=8&a?Se:null;if(ke&&-1!==Vo(ke,V,0)||2&a&&V!==Se){if(xt(a))return!1;m=!0}}}}else{if(!m&&!xt(a)&&!xt(T))return!1;if(m&&xt(T))continue;m=!1,a=T|1&a}}return xt(a)||m}function xt(t){return 0==(1&t)}function Yt(t,r,o,a){if(null===r)return-1;let l=0;if(a||!o){let d=!1;for(;l<r.length;){const m=r[l];if(m===t)return l;if(3===m||6===m)d=!0;else{if(1===m||2===m){let w=r[++l];for(;"string"==typeof w;)w=r[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=d?1:2}return-1}return function ji(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function vr(t,r,o=!1){for(let a=0;a<r.length;a++)if(yt(t,r[a],o))return!0;return!1}function $i(t,r){return t?":not("+r.trim()+")":r}function Do(t){let r=t[0],o=1,a=2,l="",d=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const w=t[++o];l+="["+m+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?l+="."+m:4&a&&(l+=" "+m);else""!==l&&!xt(m)&&(r+=$i(d,l),l=""),a=m,d=d||!xt(a);o++}return""!==l&&(r+=$i(d,l)),r}function fs(t){return N(()=>{const r=To(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fe.Emulated,styles:t.styles||rt,_:null,schemas:t.schemas||null,tView:null,id:""};es(o);const a=t.dependencies;return o.directiveDefs=Gn(a,!1),o.pipeDefs=Gn(a,!0),o.id=function bi(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of o)r=Math.imul(31,r)+l.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function Uo(t){return Fn(t)||Zr(t)}function ps(t){return null!==t}function Yi(t){return N(()=>({type:t.type,bootstrap:t.bootstrap||rt,declarations:t.declarations||rt,imports:t.imports||rt,exports:t.exports||rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mo(t,r){if(null==t)return Ue;const o={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),o[l]=a,r&&(r[l]=d)}return o}function Vs(t){return N(()=>{const r=To(t);return es(r),r})}function bo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fn(t){return t[Mt]||null}function Zr(t){return t[un]||null}function jr(t){return t[dn]||null}function yi(t){const r=Fn(t)||Zr(t)||jr(t);return null!==r&&r.standalone}function Gr(t,r){const o=t[_r]||null;if(!o&&!0===r)throw new Error(`Type ${Ce(t)} does not have '\u0275mod' property.`);return o}function To(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ue,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mo(t.inputs,r),outputs:mo(t.outputs)}}function es(t){t.features?.forEach(r=>r(t))}function Gn(t,r){if(!t)return null;const o=r?jr:Uo;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(ps)}const Dr=0,bt=1,yn=2,Ln=3,Ri=4,io=5,Kr=6,Fi=7,rr=8,Hi=9,oo=10,pn=11,oi=12,_i=13,so=14,Or=15,Mi=16,ao=17,Ti=18,Ao=19,So=20,Qi=21,si=22,Bo=23,Ji=24,Mn=25,ts=1,Po=2,Sr=7,uo=9,Mr=11;function Vn(t){return Array.isArray(t)&&"object"==typeof t[ts]}function wr(t){return Array.isArray(t)&&!0===t[ts]}function Ro(t){return 0!=(4&t.flags)}function Xi(t){return t.componentOffset>-1}function ns(t){return 1==(1&t.flags)}function eo(t){return!!t.template}function rs(t){return 0!=(512&t[yn])}function xi(t,r){return t.hasOwnProperty(dr)?t[dr]:null}let vi=null,Ho=!1;function Li(t){const r=vi;return vi=t,r}const zo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ni(t){if(!wi(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Us(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Gi(t){t.dirty=!0,function Wo(t){if(void 0===t.liveConsumerNode)return;const r=Ho;Ho=!0;try{for(const o of t.liveConsumerNode)o.dirty||Gi(o)}finally{Ho=r}}(t),t.consumerMarkedDirty?.(t)}function Rs(t){return t&&(t.nextProducerIndex=0),Li(t)}function lo(t,r){if(Li(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(wi(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ms(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Us(t){qo(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Ni(o),a!==o.version))return!0}return!1}function br(t){if(qo(t),wi(t))for(let r=0;r<t.producerNode.length;r++)Ms(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ms(t,r){if(function xs(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),qo(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ms(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],l=t.liveConsumerNode[r];qo(l),l.producerIndexOfThis[a]=r}}function wi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Zo=null;function Ze(t){const r=Li(null);try{return t()}finally{Li(r)}}const Qt=()=>{},fr=(()=>({...zo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Qt}))();class cr{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function rn(){return Tr}function Tr(t){return t.type.prototype.ngOnChanges&&(t.setInput=pr),ar}function ar(){const t=ut(this),r=t?.current;if(r){const o=t.previous;if(o===Ue)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function pr(t,r,o,a){const l=this.declaredInputs[o],d=ut(t)||function Nr(t,r){return t[vo]=r}(t,{previous:Ue,current:null}),m=d.current||(d.current={}),w=d.previous,T=w[l];m[l]=new cr(T&&T.currentValue,r,w===Ue),t[a]=r}rn.ngInherit=!0;const vo="__ngSimpleChanges__";function ut(t){return t[vo]||null}const Dt=function(t,r,o){},$t="svg";function ht(t){for(;Array.isArray(t);)t=t[Dr];return t}function lt(t,r){return ht(r[t])}function Er(t,r){return ht(r[t.index])}function Il(t,r){return t.data[r]}function _a(t,r){return t[r]}function qr(t,r){const o=r[t];return Vn(o)?o:o[Dr]}function co(t,r){return null==r?null:t[r]}function Oo(t){t[ao]=0}function va(t){1024&t[yn]||(t[yn]|=1024,Sn(t,1))}function ai(t){1024&t[yn]&&(t[yn]&=-1025,Sn(t,-1))}function Sn(t,r){let o=t[Ln];if(null===o)return;o[io]+=r;let a=o;for(o=o[Ln];null!==o&&(1===r&&1===a[io]||-1===r&&0===a[io]);)o[io]+=r,a=o,o=o[Ln]}const jt={lFrame:X(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function At(){return jt.bindingsEnabled}function Me(){return jt.lFrame.lView}function Lt(){return jt.lFrame.tView}function On(t){return jt.lFrame.contextLView=t,t[rr]}function gr(t){return jt.lFrame.contextLView=null,t}function Un(){let t=lc();for(;null!==t&&64===t.type;)t=t.parent;return t}function lc(){return jt.lFrame.currentTNode}function ho(t,r){const o=jt.lFrame;o.currentTNode=t,o.isParent=r}function ra(){return jt.lFrame.isParent}function Le(){jt.lFrame.isParent=!1}function Ei(){const t=jt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function wo(){return jt.lFrame.bindingIndex++}function hc(t,r){const o=jt.lFrame;o.bindingIndex=o.bindingRootIndex=t,ia(r)}function ia(t){jt.lFrame.currentDirectiveIndex=t}function fc(){return jt.lFrame.currentQueryIndex}function v(t){jt.lFrame.currentQueryIndex=t}function b(t){const r=t[bt];return 2===r.type?r.declTNode:1===r.type?t[Kr]:null}function y(t,r,o){if(o&zt.SkipSelf){let l=r,d=t;for(;!(l=l.parent,null!==l||o&zt.Host||(l=b(d),null===l||(d=d[so],10&l.type))););if(null===l)return!1;r=l,t=d}const a=jt.lFrame=k();return a.currentTNode=r,a.lView=t,!0}function A(t){const r=k(),o=t[bt];jt.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function k(){const t=jt.lFrame,r=null===t?null:t.child;return null===r?X(t):r}function X(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function de(){const t=jt.lFrame;return jt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const qe=de;function $e(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yn(){return jt.lFrame.selectedIndex}function Wn(t){jt.lFrame.selectedIndex=t}function xr(){const t=jt.lFrame;return Il(t.tView,t.selectedIndex)}function Na(){jt.lFrame.currentNamespace=$t}function Mu(){!function Ia(){jt.lFrame.currentNamespace=null}()}let ch=!0;function gc(){return ch}function oa(t){ch=t}function xu(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const d=t.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:V,ngOnDestroy:Q}=d;m&&(t.contentHooks??=[]).push(-o,m),w&&((t.contentHooks??=[]).push(o,w),(t.contentCheckHooks??=[]).push(o,w)),T&&(t.viewHooks??=[]).push(-o,T),V&&((t.viewHooks??=[]).push(o,V),(t.viewCheckHooks??=[]).push(o,V)),null!=Q&&(t.destroyHooks??=[]).push(o,Q)}}function Dl(t,r,o){Ou(t,r,3,o)}function lu(t,r,o,a){(3&t[yn])===o&&Ou(t,r,o,a)}function nd(t,r){let o=t[yn];(3&o)===r&&(o&=8191,o+=1,t[yn]=o)}function Ou(t,r,o,a){const d=a??-1,m=r.length-1;let w=0;for(let T=void 0!==a?65535&t[ao]:0;T<m;T++)if("number"==typeof r[T+1]){if(w=r[T],null!=a&&w>=a)break}else r[T]<0&&(t[ao]+=65536),(w<d||-1==d)&&(mc(t,o,r,T),t[ao]=(4294901760&t[ao])+T+2),T++}function ki(t,r){Dt(4,t,r);const o=Li(null);try{r.call(t)}finally{Li(o),Dt(5,t,r)}}function mc(t,r,o,a){const l=o[a]<0,d=o[a+1],w=t[l?-o[a]:o[a]];l?t[yn]>>13<t[ao]>>16&&(3&t[yn])===r&&(t[yn]+=8192,ki(w,d)):ki(w,d)}const ws=-1;class ka{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function rd(t){return t!==ws}function Ai(t){return 32767&t}function Ns(t,r){let o=function id(t){return t>>16}(t),a=r;for(;o>0;)a=a[so],o--;return a}let li=!0;function ks(t){const r=li;return li=t,r}const cu=255,ku=5;let Tl=0;const Eo={};function Da(t,r){const o=Es(t,r);if(-1!==o)return o;const a=r[bt];a.firstCreatePass&&(t.injectorIndex=r.length,Fs(a.data,t),Fs(r,null),Fs(a.blueprint,null));const l=La(t,r),d=t.injectorIndex;if(rd(l)){const m=Ai(l),w=Ns(l,r),T=w[bt].data;for(let V=0;V<8;V++)r[d+V]=w[m+V]|T[m+V]}return r[d+8]=l,d}function Fs(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Es(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function La(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,l=r;for(;null!==l;){if(a=ei(l),null===a)return ws;if(o++,l=l[so],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return ws}function Gs(t,r,o){!function Fa(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(ni)&&(a=o[ni]),null==a&&(a=o[ni]=Tl++);const l=a&cu;r.data[t+(l>>ku)]|=1<<l}(t,r,o)}function Va(t,r,o){if(o&zt.Optional||void 0!==t)return t;Ut()}function yc(t,r,o,a){if(o&zt.Optional&&void 0===a&&(a=null),!(o&(zt.Self|zt.Host))){const l=t[Hi],d=cn(void 0);try{return l?l.get(r,a,o&zt.Optional):hn(r,a,o&zt.Optional)}finally{cn(d)}}return Va(a,0,o)}function Al(t,r,o,a=zt.Default,l){if(null!==t){if(2048&r[yn]&&!(a&zt.Self)){const m=function gh(t,r,o,a,l){let d=t,m=r;for(;null!==d&&null!==m&&2048&m[yn]&&!(512&m[yn]);){const w=sa(d,m,o,a|zt.Self,Eo);if(w!==Eo)return w;let T=d.parent;if(!T){const V=m[So];if(V){const Q=V.get(o,Eo,a);if(Q!==Eo)return Q}T=ei(m),m=m[so]}d=T}return l}(t,r,o,a,Eo);if(m!==Eo)return m}const d=sa(t,r,o,a,Eo);if(d!==Eo)return d}return yc(r,o,a,l)}function sa(t,r,o,a,l){const d=function ph(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ni)?t[ni]:void 0;return"number"==typeof r?r>=0?r&cu:_c:r}(o);if("function"==typeof d){if(!y(r,t,a))return a&zt.Host?Va(l,0,a):yc(r,o,a,l);try{let m;if(m=d(a),null!=m||a&zt.Optional)return m;Ut()}finally{qe()}}else if("number"==typeof d){let m=null,w=Es(t,r),T=ws,V=a&zt.Host?r[Or][Kr]:null;for((-1===w||a&zt.SkipSelf)&&(T=-1===w?La(t,r):r[w+8],T!==ws&&Ba(a,!1)?(m=r[bt],w=Ai(T),r=Ns(T,r)):w=-1);-1!==w;){const Q=r[bt];if(Sl(d,w,Q.data)){const le=sd(w,r,o,m,a,V);if(le!==Eo)return le}T=r[w+8],T!==ws&&Ba(a,r[bt].data[w+8]===V)&&Sl(d,w,r)?(m=Q,w=Ai(T),r=Ns(T,r)):w=-1}}return l}function sd(t,r,o,a,l,d){const m=r[bt],w=m.data[t+8],Q=Ua(w,m,o,null==a?Xi(w)&&li:a!=m&&0!=(3&w.type),l&zt.Host&&d===w);return null!==Q?aa(r,m,Q,w):Eo}function Ua(t,r,o,a,l){const d=t.providerIndexes,m=r.data,w=1048575&d,T=t.directiveStart,Q=d>>20,Se=l?w+Q:t.directiveEnd;for(let ke=a?w:w+Q;ke<Se;ke++){const at=m[ke];if(ke<T&&o===at||ke>=T&&at.type===o)return ke}if(l){const ke=m[T];if(ke&&eo(ke)&&ke.type===o)return T}return null}function aa(t,r,o,a){let l=t[o];const d=r.data;if(function ui(t){return t instanceof ka}(l)){const m=l;m.resolving&&function it(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new we(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Oe(t)}(d[o]));const w=ks(m.canSeeViewProviders);m.resolving=!0;const V=m.injectImpl?cn(m.injectImpl):null;y(t,a,zt.Default);try{l=t[o]=m.factory(void 0,d,t,a),r.firstCreatePass&&o>=a.directiveStart&&function dh(t,r,o){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(a){const m=Tr(r);(o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m)}l&&(o.preOrderHooks??=[]).push(0-t,l),d&&((o.preOrderHooks??=[]).push(t,d),(o.preOrderCheckHooks??=[]).push(t,d))}(o,d[o],r)}finally{null!==V&&cn(V),ks(w),m.resolving=!1,qe()}}return l}function Sl(t,r,o){return!!(o[r+(t>>ku)]&1<<t)}function Ba(t,r){return!(t&zt.Self||t&zt.Host&&r)}class Io{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Al(this._tNode,this._lView,r,Kt(a),o)}}function _c(){return new Io(Un(),Me())}function vc(t){return N(()=>{const r=t.prototype.constructor,o=r[dr]||Bi(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const d=l[dr]||Bi(l);if(d&&d!==o)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Bi(t){return pt(t)?()=>{const r=Bi(et(t));return r&&r()}:xi(t)}function ei(t){const r=t[bt],o=r.type;return 2===o?r.declTNode:1===o?t[Kr]:null}function Ws(t){return function od(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let l=0;for(;l<a;){const d=o[l];if(Pi(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof o[l];)l++;else{if(d===r)return o[l+1];l+=2}}}return null}(Un(),t)}const du="__parameters__";function ir(t,r,o){return N(()=>{const a=function Ec(t){return function(...o){if(t){const a=t(...o);for(const l in a)this[l]=a[l]}}}(r);function l(...d){if(this instanceof l)return a.apply(this,d),this;const m=new l(...d);return w.annotation=m,w;function w(T,V,Q){const le=T.hasOwnProperty(du)?T[du]:Object.defineProperty(T,du,{value:[]})[du];for(;le.length<=Q;)le.push(null);return(le[Q]=le[Q]||[]).push(m),T}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function Lu(t,r){t.forEach(o=>Array.isArray(o)?Lu(o,r):r(o))}function Ih(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Vu(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ls(t,r,o){let a=fu(t,r);return a>=0?t[1|a]=o:(a=~a,function Dc(t,r,o,a){let l=t.length;if(l==r)t.push(o,a);else if(1===l)t.push(a,t[0]),t[0]=o;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function Ks(t,r){const o=fu(t,r);if(o>=0)return t[1|o]}function fu(t,r){return function Ml(t,r,o){let a=0,l=t.length>>o;for(;l!==a;){const d=a+(l-a>>1),m=t[d<<o];if(r===m)return d<<o;m>r?l=d:a=d+1}return~(l<<o)}(t,r,1)}const ba=Xt(ir("Optional"),8),Bu=Xt(ir("SkipSelf"),4);function gd(t){return 128==(128&t.flags)}var mu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(mu||{});const Zf=/^>|^->|<!--|-->|--!>|<!-$/g,Kf=/(<|>)/g,Yf="\u200b$1\u200b";const Qf=new Map;let b_=0;const Ph="__ngContext__";function No(t,r){Vn(r)?(t[Ph]=r[Ao],function Fr(t){Qf.set(t[Ao],t)}(r)):t[Ph]=r}let ip;function op(t,r){return ip(t,r)}function Vl(t){const r=t[Ln];return wr(r)?r[Ln]:r}function nm(t){return Mh(t[oi])}function qi(t){return Mh(t[Ri])}function Mh(t){for(;null!==t&&!wr(t);)t=t[Ri];return t}function Wu(t,r,o,a,l){if(null!=a){let d,m=!1;wr(a)?d=a:Vn(a)&&(m=!0,a=a[Dr]);const w=ht(a);0===t&&null!==o?null==l?cm(r,o,w):Zu(r,o,w,l||null,!0):1===t&&null!==o?Zu(r,o,w,l||null,!0):2===t?function Za(t,r,o){const a=_u(t,r);a&&function R_(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,w,m):3===t&&r.destroyNode(w),null!=d&&function gm(t,r,o,a,l){const d=o[Sr];d!==ht(o)&&Wu(r,t,a,d,l);for(let w=Mr;w<o.length;w++){const T=o[w];Bl(T[bt],T,t,r,a,d)}}(r,t,d,o,l)}}function la(t,r){return t.createComment(function Ah(t){return t.replace(Zf,r=>r.replace(Kf,Yf))}(r))}function _d(t,r,o){return t.createElement(r,o)}function am(t,r){const o=t[uo],a=o.indexOf(r);ai(r),o.splice(a,1)}function qu(t,r){if(t.length<=Mr)return;const o=Mr+r,a=t[o];if(a){const l=a[Mi];null!==l&&l!==t&&am(l,a),r>0&&(t[o-1][Ri]=a[Ri]);const d=Vu(t,Mr+r);!function rm(t,r){Bl(t,r,r[pn],2,null,null),r[Dr]=null,r[Kr]=null}(a[bt],a);const m=d[Ti];null!==m&&m.detachView(d[bt]),a[Ln]=null,a[Ri]=null,a[yn]&=-129}return a}function vd(t,r){if(!(256&r[yn])){const o=r[pn];r[Bo]&&br(r[Bo]),r[Ji]&&br(r[Ji]),o.destroyNode&&Bl(t,r,o,3,null,null),function om(t){let r=t[oi];if(!r)return ap(t[bt],t);for(;r;){let o=null;if(Vn(r))o=r[oi];else{const a=r[Mr];a&&(o=a)}if(!o){for(;r&&!r[Ri]&&r!==t;)Vn(r)&&ap(r[bt],r),r=r[Ln];null===r&&(r=t),Vn(r)&&ap(r[bt],r),o=r&&r[Ri]}r=o}}(r)}}function ap(t,r){if(!(256&r[yn])){r[yn]&=-129,r[yn]|=256,function up(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const l=r[o[a]];if(!(l instanceof ka)){const d=o[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const w=l[d[m]],T=d[m+1];Dt(4,w,T);try{T.call(w)}finally{Dt(5,w,T)}}else{Dt(4,l,d);try{d.call(l)}finally{Dt(5,l,d)}}}}}(t,r),function um(t,r){const o=t.cleanup,a=r[Fi];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+3];m>=0?a[m]():a[-m].unsubscribe(),d+=2}else o[d].call(a[o[d+1]]);null!==a&&(r[Fi]=null);const l=r[Qi];if(null!==l){r[Qi]=null;for(let d=0;d<l.length;d++)(0,l[d])()}}(t,r),1===r[bt].type&&r[pn].destroy();const o=r[Mi];if(null!==o&&wr(r[Ln])){o!==r[Ln]&&am(o,r);const a=r[Ti];null!==a&&a.detachView(t)}!function Jg(t){Qf.delete(t[Ao])}(r)}}function xh(t,r,o){return function lm(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Dr];{const{componentOffset:l}=a;if(l>-1){const{encapsulation:d}=t.data[a.directiveStart+l];if(d===fe.None||d===fe.Emulated)return null}return Er(a,o)}}(t,r.parent,o)}function Zu(t,r,o,a,l){t.insertBefore(r,o,a,l)}function cm(t,r,o){t.appendChild(r,o)}function dm(t,r,o,a,l){null!==a?Zu(t,r,o,a,l):cm(t,r,o)}function _u(t,r){return t.parentNode(r)}let Oh,jl,Id,qa=function lp(t,r,o){return 40&t.type?Er(t,o):null};function wd(t,r,o,a){const l=xh(t,a,r),d=r[pn],w=function fm(t,r,o){return qa(t,r,o)}(a.parent||r[Kr],a,r);if(null!=l)if(Array.isArray(o))for(let T=0;T<o.length;T++)dm(d,l,o[T],w,!1);else dm(d,l,o,w,!1);void 0!==Oh&&Oh(d,a,r,o,l)}function Ku(t,r){if(null!==r){const o=r.type;if(3&o)return Er(r,t);if(4&o)return vu(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return Ku(t,a);{const l=t[r.index];return wr(l)?vu(-1,l):ht(l)}}if(32&o)return op(r,t)()||ht(t[r.index]);{const a=Yu(t,r);return null!==a?Array.isArray(a)?a[0]:Ku(Vl(t[Or]),a):Ku(t,r.next)}}return null}function Yu(t,r){return null!==r?t[Or][Kr].projection[r.projection]:null}function vu(t,r){const o=Mr+t+1;if(o<r.length){const a=r[o],l=a[bt].firstChild;if(null!==l)return Ku(a,l)}return r[Sr]}function Nh(t,r,o,a,l,d,m){for(;null!=o;){const w=a[o.index],T=o.type;if(m&&0===r&&(w&&No(ht(w),a),o.flags|=2),32!=(32&o.flags))if(8&T)Nh(t,r,o.child,a,l,d,!1),Wu(r,t,l,w,d);else if(32&T){const V=op(o,a);let Q;for(;Q=V();)Wu(r,t,l,Q,d);Wu(r,t,l,w,d)}else 16&T?dp(t,r,a,o,l,d):Wu(r,t,l,w,d);o=m?o.projectionNext:o.next}}function Bl(t,r,o,a,l,d){Nh(o,a,t.firstChild,r,l,d,!1)}function dp(t,r,o,a,l,d){const m=o[Or],T=m[Kr].projection[a.projection];if(Array.isArray(T))for(let V=0;V<T.length;V++)Wu(r,t,l,T[V],d);else{let V=T;const Q=m[Ln];gd(a)&&(V.flags|=128),Nh(t,r,V,Q,l,d,!0)}}function hp(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function Ed(t,r,o){const{mergedAttrs:a,classes:l,styles:d}=o;null!==a&&ri(t,r,a),null!==l&&hp(t,r,l),null!==d&&function mm(t,r,o){t.setAttribute(r,"style",o)}(t,r,d)}function $l(t){jl=t}function Fh(t){return function kh(){if(void 0===Id&&(Id=null,sn.trustedTypes))try{Id=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Id}()?.createScriptURL(t)||t}class Lh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}function Ju(t){return t instanceof Lh?t.changingThisBreaksApplicationSecurity:t}function Hl(t,r){const o=function Uh(t){return t instanceof Lh&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${mt})`)}return o===r}const jh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Qa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qa||{});function Pm(t){const r=Ad();return r?r.sanitize(Qa.URL,t)||"":Hl(t,"URL")?Ju(t):function Oc(t){return(t=String(t)).match(jh)?t:"unsafe:"+t}(Oe(t))}function _p(t){const r=Ad();if(r)return Fh(r.sanitize(Qa.RESOURCE_URL,t)||"");if(Hl(t,"ResourceURL"))return Fh(Ju(t));throw new we(904,!1)}function Rm(t,r,o){return function ko(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?_p:Pm}(r,o)(t)}function Ad(){const t=Me();return t&&t[oo].sanitizer}const Wl=new vt("ENVIRONMENT_INITIALIZER"),Mm=new vt("INJECTOR",-1),Sd=new vt("INJECTOR_DEF_TYPES");class Nc{get(r,o=Kn){if(o===Kn){const a=new Error(`NullInjectorError: No provider for ${Ce(r)}!`);throw a.name="NullInjectorError",a}return o}}function Om(...t){return{\u0275providers:Gh(0,t),\u0275fromNgModule:!0}}function Gh(t,...r){const o=[],a=new Set;let l;const d=m=>{o.push(m)};return Lu(r,m=>{const w=m;el(w,d,[],a)&&(l||=[],l.push(w))}),void 0!==l&&Wh(l,d),o}function Wh(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:l}=t[o];Pd(l,d=>{r(d,a)})}}function el(t,r,o,a){if(!(t=et(t)))return!1;let l=null,d=lr(t);const m=!d&&Fn(t);if(d||m){if(m&&!m.standalone)return!1;l=t}else{const T=t.ngModule;if(d=lr(T),!d)return!1;l=T}const w=a.has(l);if(m){if(w)return!1;if(a.add(l),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const V of T)el(V,r,o,a)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let V;a.add(l);try{Lu(d.imports,Q=>{el(Q,r,o,a)&&(V||=[],V.push(Q))})}finally{}void 0!==V&&Wh(V,r)}if(!w){const V=xi(l)||(()=>new l);r({provide:l,useFactory:V,deps:rt},l),r({provide:Sd,useValue:l,multi:!0},l),r({provide:Wl,useValue:()=>ct(l),multi:!0},l)}const T=d.providers;if(null!=T&&!w){const V=t;Pd(T,Q=>{r(Q,V)})}}}return l!==t&&void 0!==t.providers}function Pd(t,r){for(let o of t)Ke(o)&&(o=o.\u0275providers),Array.isArray(o)?Pd(o,r):r(o)}const Ep=re({provide:String,useValue:re});function Ip(t){return null!==t&&"object"==typeof t&&Ep in t}function tl(t){return"function"==typeof t}const Rd=new vt("Set Injector scope."),qh={},Fm={};let Dp;function Md(){return void 0===Dp&&(Dp=new Nc),Dp}class Ja{}class Aa extends Ja{get destroyed(){return this._destroyed}constructor(r,o,a,l){super(),this.parent=o,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sp(r,m=>this.processProvider(m)),this.records.set(Mm,ql(void 0,this)),l.has("environment")&&this.records.set(Ja,ql(void 0,this));const d=this.records.get(Rd);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Sd.multi,rt,zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Ee(this),a=cn(void 0);try{return r()}finally{Ee(o),cn(a)}}get(r,o=Kn,a=zt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(hr))return r[hr](this);a=Kt(a);const d=Ee(this),m=cn(void 0);try{if(!(a&zt.SkipSelf)){let T=this.records.get(r);if(void 0===T){const V=function Ap(t){return"function"==typeof t||"object"==typeof t&&t instanceof vt}(r)&&Nn(r);T=V&&this.injectableDefInScope(V)?ql(nl(r),qh):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(a&zt.Self?Md():this.parent).get(r,o=a&zt.Optional&&o===Kn?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[vn]=w[vn]||[]).unshift(Ce(r)),d)throw w;return function Si(t,r,o,a){const l=t[vn];throw r[M]&&l.unshift(r[M]),t.message=function ce(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=Ce(r);if(Array.isArray(r))l=r.map(Ce).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let w=r[m];d.push(m+":"+("string"==typeof w?JSON.stringify(w):Ce(w)))}l=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${l}]: ${t.replace(K,"\n  ")}`}("\n"+t.message,l,o,a),t.ngTokenPath=l,t[vn]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{cn(m),Ee(d)}}resolveInjectorInitializers(){const r=Ee(this),o=cn(void 0);try{const l=this.get(Wl.multi,rt,zt.Self);for(const d of l)d()}finally{Ee(r),cn(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Ce(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(r){let o=tl(r=et(r))?r:et(r&&r.provide);const a=function Zh(t){return Ip(t)?ql(void 0,t.useValue):ql(Tp(t),qh)}(r);if(tl(r)||!0!==r.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=ql(void 0,qh,!0),l.factory=()=>Dn(l.multi),this.records.set(o,l)),o=r,l.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===qh&&(o.value=Fm,o.value=o.factory()),"object"==typeof o.value&&o.value&&function j_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=et(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function nl(t){const r=Nn(t),o=null!==r?r.factory:xi(t);if(null!==o)return o;if(t instanceof vt)throw new we(204,!1);if(t instanceof Function)return function bp(t){const r=t.length;if(r>0)throw function Zs(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}(r,"?"),new we(204,!1);const o=function er(t){return t&&(t[Ht]||t[Cr])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new we(204,!1)}function Tp(t,r,o){let a;if(tl(t)){const l=et(t);return xi(l)||nl(l)}if(Ip(t))a=()=>et(t.useValue);else if(function Nm(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Dn(t.deps||[]));else if(function Cp(t){return!(!t||!t.useExisting)}(t))a=()=>ct(et(t.useExisting));else{const l=et(t&&(t.useClass||t.provide));if(!function Lm(t){return!!t.deps}(t))return xi(l)||nl(l);a=()=>new l(...Dn(t.deps))}return a}function ql(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Sp(t,r){for(const o of t)Array.isArray(o)?Sp(o,r):o&&Ke(o)?Sp(o.\u0275providers,r):r(o)}const Kh=new vt("AppId",{providedIn:"root",factory:()=>Vm}),Vm="ng",Pp=new vt("Platform Initializer"),xd=new vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qh=new vt("CSP nonce",{providedIn:"root",factory:()=>function Ys(){if(void 0!==jl)return jl;if(typeof document<"u")return document;throw new we(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jm=(t,r,o)=>null;function Fp(t,r,o=!1){return jm(t,r,o)}class zm{}class Gm{}class W_{resolveComponentFactory(r){throw function Vp(t){const r=Error(`No component factory found for ${Ce(t)}.`);return r.ngComponent=t,r}(r)}}let Bc=(()=>{class t{static#e=this.NULL=new W_}return t})();function nf(){return ol(Un(),Me())}function ol(t,r){return new jc(Er(t,r))}let jc=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=nf}return t})();function $c(t){return t instanceof jc?t.nativeElement:t}class rf{}let q_=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Z_(){const t=Me(),o=qr(Un().index,t);return(Vn(o)?o:t)[pn]}()}return t})(),Zm=(()=>{class t{static#e=this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>null})}return t})();class Up{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Km=new Up("16.2.12"),Ld={};function Eu(t,r=null,o=null,a){const l=uf(t,r,o,a);return l.resolveInjectorInitializers(),l}function uf(t,r=null,o=null,a,l=new Set){const d=[o||rt,Om(t)];return a=a||("object"==typeof t?void 0:Ce(t)),new Aa(d,r||Md(),a||null,l)}let ds=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Kn;static#t=this.NULL=new Nc;static create(o,a){if(Array.isArray(o))return Eu({name:""},a,o,"");{const l=o.name??"";return Eu({name:l},o.parent,o.providers,l)}}static#n=this.\u0275prov=nn({token:t,providedIn:"any",factory:()=>ct(Mm)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function sl(t){return t.ngOriginalError}class al{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&sl(r);for(;o&&sl(o);)o=sl(o);return o||null}}function Bd(t){return r=>{setTimeout(t,void 0,r)}}const Xa=class Gp extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let l=r,d=o||(()=>null),m=a;if(r&&"object"==typeof r){const T=r;l=T.next?.bind(T),d=T.error?.bind(T),m=T.complete?.bind(T)}this.__isAsync&&(d=Bd(d),l&&(l=Bd(l)),m&&(m=Bd(m)));const w=super.subscribe({next:l,error:d,complete:m});return r instanceof W.w0&&r.add(w),w}};function Xm(...t){}class Fo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xa(!1),this.onMicrotaskEmpty=new Xa(!1),this.onStable=new Xa(!1),this.onError=new Xa(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&o,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Wp(){const t="function"==typeof sn.requestAnimationFrame;let r=sn[t?"requestAnimationFrame":"setTimeout"],o=sn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ry(t){const r=()=>{!function ny(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,lf(t),t.isCheckStableRunning=!0,qp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),lf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,l,d,m,w)=>{if(function Kp(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(w))return o.invokeTask(l,d,m,w);try{return Zp(t),o.invokeTask(l,d,m,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),iy(t)}},onInvoke:(o,a,l,d,m,w,T)=>{try{return Zp(t),o.invoke(l,d,m,w,T)}finally{t.shouldCoalesceRunChangeDetection&&r(),iy(t)}},onHasTask:(o,a,l,d)=>{o.hasTask(l,d),a===l&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,lf(t),qp(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,l,d)=>(o.handleError(l,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fo.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Fo.isInAngularZone())throw new we(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,l){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+l,r,ty,Xm,Xm);try{return d.runTask(m,o,a)}finally{d.cancelTask(m)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const ty={};function qp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Zp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iy(t){t._nesting--,qp(t)}class Q_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xa,this.onMicrotaskEmpty=new Xa,this.onStable=new Xa,this.onError=new Xa}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,l){return r.apply(o,a)}}const oy=new vt("",{providedIn:"root",factory:sy});function sy(){const t=_t(Fo);let r=!0;const o=new te.y(l=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(r),l.complete()})}),a=new te.y(l=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Fo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,l.next(!0))})})});const m=t.onUnstable.subscribe(()=>{Fo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{d.unsubscribe(),m.unsubscribe()}});return(0,ye.T)(o,a.pipe((0,ve.B)()))}function Iu(t){return t instanceof Function?t():t}let jd=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>new t})}return t})();function $d(t){for(;t;){t[yn]|=64;const r=Vl(t);if(rs(t)&&!r)return t;t=r}return null}const cf=new vt("",{providedIn:"root",factory:()=>!1});let zc=null;function hy(t,r){return t[r]??hf()}function fy(t,r){const o=hf();o.producerNode?.length&&(t[r]=zc,o.lView=t,zc=py())}const ig={...zo,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$d(t.lView)},lView:null};function py(){return Object.create(ig)}function hf(){return zc??=py(),zc}const Qn={};function ff(t){gy(Lt(),Me(),Yn()+t,!1)}function gy(t,r,o,a){if(!a)if(3==(3&r[yn])){const d=t.preOrderCheckHooks;null!==d&&Dl(r,d,o)}else{const d=t.preOrderHooks;null!==d&&lu(r,d,0,o)}Wn(o)}function cl(t,r=zt.Default){const o=Me();return null===o?ct(t,r):Al(Un(),o,et(t),r)}function og(){throw new Error("invalid")}function Hd(t,r,o,a,l,d,m,w,T,V,Q){const le=r.blueprint.slice();return le[Dr]=l,le[yn]=140|a,(null!==V||t&&2048&t[yn])&&(le[yn]|=2048),Oo(le),le[Ln]=le[so]=t,le[rr]=o,le[oo]=m||t&&t[oo],le[pn]=w||t&&t[pn],le[Hi]=T||t&&t[Hi]||null,le[Kr]=d,le[Ao]=function fo(){return b_++}(),le[si]=Q,le[So]=V,le[Or]=2==r.type?t[Or]:le,le}function Gc(t,r,o,a,l){let d=t.data[r];if(null===d)d=function ag(t,r,o,a,l){const d=lc(),m=ra(),T=t.data[r]=function nv(t,r,o,a,l,d){let m=r?r.injectorIndex:-1,w=0;return function j(){return null!==jt.skipHydrationRootTNode}()&&(w|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,r,a,l);return null===t.firstChild&&(t.firstChild=T),null!==d&&(m?null==d.child&&null!==T.parent&&(d.child=T):null===d.next&&(d.next=T,T.prev=d)),T}(t,r,o,a,l),function au(){return jt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=a,d.attrs=l;const m=function na(){const t=jt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return ho(d,!0),d}function Jl(t,r,o,a){if(0===o)return-1;const l=r.length;for(let d=0;d<o;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function my(t,r,o,a,l){const d=hy(r,Bo),m=Yn(),w=2&a;try{Wn(-1),w&&r.length>Mn&&gy(t,r,Mn,!1),Dt(w?2:0,l);const V=w?d:null,Q=Rs(V);try{null!==V&&(V.dirty=!1),o(a,l)}finally{lo(V,Q)}}finally{w&&null===r[Bo]&&fy(r,Bo),Wn(m),Dt(w?3:1,l)}}function zd(t,r,o){if(Ro(r)){const a=Li(null);try{const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const w=t.data[m];w.contentQueries&&w.contentQueries(1,o[m],m)}}finally{Li(a)}}}function Gd(t,r,o){At()&&(function Wc(t,r,o,a){const l=o.directiveStart,d=o.directiveEnd;Xi(o)&&function Ty(t,r,o){const a=Er(r,t),l=yy(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const w=yf(t,Hd(t,l,null,m,a,r,null,t[oo].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=w}(r,o,t.data[l+o.componentOffset]),t.firstCreatePass||Da(o,r),No(a,r);const m=o.initialInputs;for(let w=l;w<d;w++){const T=t.data[w],V=aa(r,t,w,o);No(V,r),null!==m&&sv(0,w-l,V,T,0,m),eo(T)&&(qr(o.index,r)[rr]=aa(r,t,w,o))}}(t,r,o,Er(o,r)),64==(64&o.flags)&&hg(t,r,o))}function Wd(t,r,o=Er){const a=r.localNames;if(null!==a){let l=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],w=-1===m?o(r,t):t[m];t[l++]=w}}}function yy(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Xl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Xl(t,r,o,a,l,d,m,w,T,V,Q){const le=Mn+a,Se=le+l,ke=function ev(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Qn);return o}(le,Se),at="function"==typeof V?V():V;return ke[bt]={type:t,blueprint:ke,template:o,queries:null,viewQuery:w,declTNode:r,data:ke.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:at,incompleteFirstPass:!1,ssrId:Q}}let ec=t=>null;function wy(t,r,o,a){for(let l in t)if(t.hasOwnProperty(l)){o=null===o?{}:o;const d=t[l];null===a?Ey(o,r,l,d):a.hasOwnProperty(l)&&Ey(o,r,a[l],d)}return o}function Ey(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function Ds(t,r,o,a,l,d,m,w){const T=Er(r,o);let Q,V=r.inputs;!w&&null!=V&&(Q=V[a])?(qc(t,o,Q,a,l),Xi(r)&&function cg(t,r){const o=qr(r,t);16&o[yn]||(o[yn]|=64)}(o,r.index)):3&r.type&&(a=function lg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=m?m(l,r.value||"",a):l,d.setProperty(T,a,l))}function qd(t,r,o,a){if(At()){const l=null===a?null:{"":-1},d=function by(t,r){const o=t.directiveRegistry;let a=null,l=null;if(o)for(let d=0;d<o.length;d++){const m=o[d];if(vr(r,m.selectors,!1))if(a||(a=[]),eo(m))if(null!==m.findHostDirectiveDefs){const w=[];l=l||new Map,m.findHostDirectiveDefs(m,w,l),a.unshift(...w,m),dl(t,r,w.length)}else a.unshift(m),dl(t,r,0);else l=l||new Map,m.findHostDirectiveDefs?.(m,a,l),a.push(m)}return null===a?null:[a,l]}(t,o);let m,w;null===d?m=w=null:[m,w]=d,null!==m&&Zd(t,r,o,m,l,w),l&&function pg(t,r,o){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const d=o[r[l+1]];if(null==d)throw new we(-301,!1);a.push(r[l],d)}}}(o,a,l)}o.mergedAttrs=di(o.mergedAttrs,o.attrs)}function Zd(t,r,o,a,l,d){for(let V=0;V<a.length;V++)Gs(Da(o,r),t,a[V].type);!function iv(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let V=0;V<a.length;V++){const Q=a[V];Q.providersResolver&&Q.providersResolver(Q)}let m=!1,w=!1,T=Jl(t,r,a.length,null);for(let V=0;V<a.length;V++){const Q=a[V];o.mergedAttrs=di(o.mergedAttrs,Q.hostAttrs),ov(t,o,r,T,Q),rv(T,Q,l),null!==Q.contentQueries&&(o.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=64);const le=Q.type.prototype;!m&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),m=!0),!w&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),w=!0),T++}!function gf(t,r,o){const l=r.directiveEnd,d=t.data,m=r.attrs,w=[];let T=null,V=null;for(let Q=r.directiveStart;Q<l;Q++){const le=d[Q],Se=o?o.get(le):null,at=Se?Se.outputs:null;T=wy(le.inputs,Q,T,Se?Se.inputs:null),V=wy(le.outputs,Q,V,at);const wt=null===T||null===m||zr(r)?null:av(T,Q,m);w.push(wt)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=8),T.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=T,r.outputs=V}(t,o,d)}function hg(t,r,o){const a=o.directiveStart,l=o.directiveEnd,d=o.index,m=function as(){return jt.lFrame.currentDirectiveIndex}();try{Wn(d);for(let w=a;w<l;w++){const T=t.data[w],V=r[w];ia(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&fg(T,V)}}finally{Wn(-1),ia(m)}}function fg(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function dl(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function rv(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;eo(r)&&(o[""]=t)}}function ov(t,r,o,a,l){t.data[a]=l;const d=l.factory||(l.factory=xi(l.type)),m=new ka(d,eo(l),cl);t.blueprint[a]=m,o[a]=m,function dg(t,r,o,a,l){const d=l.hostBindings;if(d){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const w=~r.index;(function Dy(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(m)!=w&&m.push(w),m.push(o,a,d)}}(t,r,a,Jl(t,o,l.hostVars,Qn),l)}function tu(t,r,o,a,l,d){const m=Er(t,r);!function mf(t,r,o,a,l,d,m){if(null==d)t.removeAttribute(r,l,o);else{const w=null==m?Oe(d):m(d,a||"",l);t.setAttribute(r,l,w,o)}}(r[pn],m,d,t.value,o,a,l)}function sv(t,r,o,a,l,d){const m=d[r];if(null!==m)for(let w=0;w<m.length;)Ay(a,o,m[w++],m[w++],m[w++])}function Ay(t,r,o,a,l){const d=Li(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(a)&&(l=m[a].call(r,l)),null!==t.setInput?t.setInput(r,l,o,a):r[a]=l}finally{Li(d)}}function av(t,r,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const m=t[d];for(let w=0;w<m.length;w+=2)if(m[w]===r){a.push(d,m[w+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return a}function Sy(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function Py(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a+1];if(-1!==d){const m=t.data[d];v(o[a]),m.contentQueries(2,r[d],d)}}}function yf(t,r){return t[oi]?t[_i][Ri]=r:t[oi]=r,t[_i]=r,r}function _f(t,r,o){v(0);const a=Li(null);try{r(t,o)}finally{Li(a)}}function vf(t){return t[Fi]||(t[Fi]=[])}function gg(t){return t.cleanup||(t.cleanup=[])}function yg(t,r){const o=t[Hi],a=o?o.get(al,null):null;a&&a.handleError(r)}function qc(t,r,o,a,l){for(let d=0;d<o.length;){const m=o[d++],w=o[d++];Ay(t.data[m],r[m],a,w,l)}}function Ry(t,r){const o=qr(r,t),a=o[bt];!function My(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const l=o[Dr];null!==l&&null===o[si]&&(o[si]=Fp(l,o[Hi])),tc(a,o,o[rr])}function tc(t,r,o){A(r);try{const a=t.viewQuery;null!==a&&_f(1,a,o);const l=t.template;null!==l&&my(t,r,l,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Py(t,r),t.staticViewQueries&&_f(2,t.viewQuery,o);const d=t.components;null!==d&&function xy(t,r){for(let o=0;o<r.length;o++)Ry(t,r[o])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[yn]&=-5,$e()}}let Lo=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,l){const d=typeof Zone>"u"?null:Zone.current,m=function ot(t,r,o){const a=Object.create(fr);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const l=m=>{a.cleanupFn=m};return a.ref={notify:()=>Gi(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Us(a))return;a.hasRun=!0;const m=Rs(a);try{a.cleanupFn(),a.cleanupFn=Qt,a.fn(l)}finally{lo(a,m)}},cleanup:()=>a.cleanupFn()},a.ref}(o,V=>{this.all.has(V)&&this.queue.set(V,d)},l);let w;this.all.add(m),m.notify();const T=()=>{m.cleanup(),w?.(),this.all.delete(m),this.queue.delete(m)};return w=a?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Qs(t,r,o){let a=o?t.styles:null,l=o?t.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const w=r[m];"number"==typeof w?d=w:1==d?l=Qe(l,w):2==d&&(a=Qe(a,w+": "+r[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=l:t.classesWithoutHost=l}function Kd(t,r,o,a,l=!1){for(;null!==o;){const d=r[o.index];null!==d&&a.push(ht(d)),wr(d)&&Oy(d,a);const m=o.type;if(8&m)Kd(t,r,o.child,a);else if(32&m){const w=op(o,r);let T;for(;T=w();)a.push(T)}else if(16&m){const w=Yu(r,o);if(Array.isArray(w))a.push(...w);else{const T=Vl(r[Or]);Kd(T[bt],T,w,a,!0)}}o=l?o.projectionNext:o.next}return a}function Oy(t,r){for(let o=Mr;o<t.length;o++){const a=t[o],l=a[bt].firstChild;null!==l&&Kd(a[bt],a,l,r)}t[Sr]!==t[Dr]&&r.push(t[Sr])}function Yd(t,r,o,a=!0){const l=r[oo],d=l.rendererFactory,m=l.afterRenderEventManager;d.begin?.(),m?.begin();try{Ny(t,r,t.template,o)}catch(T){throw a&&yg(r,T),T}finally{d.end?.(),l.effectManager?.flush(),m?.end()}}function Ny(t,r,o,a){const l=r[yn];if(256!=(256&l)){r[oo].effectManager?.flush(),A(r);try{Oo(r),function Oa(t){return jt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&my(t,r,o,2,a);const m=3==(3&l);if(m){const V=t.preOrderCheckHooks;null!==V&&Dl(r,V,null)}else{const V=t.preOrderHooks;null!==V&&lu(r,V,0,null),nd(r,0)}if(function lv(t){for(let r=nm(t);null!==r;r=qi(r)){if(!r[Po])continue;const o=r[uo];for(let a=0;a<o.length;a++){va(o[a])}}}(r),wf(r,2),null!==t.contentQueries&&Py(t,r),m){const V=t.contentCheckHooks;null!==V&&Dl(r,V)}else{const V=t.contentHooks;null!==V&&lu(r,V,1),nd(r,1)}!function sg(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=hy(r,Ji);try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)Wn(~d);else{const m=d,w=o[++l],T=o[++l];hc(w,m),a.dirty=!1;const V=Rs(a);try{T(2,r[m])}finally{lo(a,V)}}}}finally{null===r[Ji]&&fy(r,Ji),Wn(-1)}}(t,r);const w=t.components;null!==w&&dv(r,w,0);const T=t.viewQuery;if(null!==T&&_f(2,T,a),m){const V=t.viewCheckHooks;null!==V&&Dl(r,V)}else{const V=t.viewHooks;null!==V&&lu(r,V,2),nd(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[yn]&=-73,ai(r)}finally{$e()}}}function wf(t,r){for(let o=nm(t);null!==o;o=qi(o))for(let a=Mr;a<o.length;a++)fi(o[a],r)}function cv(t,r,o){fi(qr(r,t),o)}function fi(t,r){if(!function Pu(t){return 128==(128&t[yn])}(t))return;const o=t[bt],a=t[yn];if(80&a&&0===r||1024&a||2===r)Ny(o,t,o.template,t[rr]);else if(t[io]>0){wf(t,1);const l=o.components;null!==l&&dv(t,l,1)}}function dv(t,r,o){for(let a=0;a<r.length;a++)cv(t,r[a],o)}class Qd{get rootNodes(){const r=this._lView,o=r[bt];return Kd(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rr]}set context(r){this._lView[rr]=r}get destroyed(){return 256==(256&this._lView[yn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Ln];if(wr(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(qu(r,a),Vu(o,a))}this._attachedToViewContainer=!1}vd(this._lView[bt],this._lView)}onDestroy(r){!function ta(t,r){if(256==(256&t[yn]))throw new we(911,!1);null===t[Qi]&&(t[Qi]=[]),t[Qi].push(r)}(this._lView,r)}markForCheck(){$d(this._cdRefInjectingView||this._lView)}detach(){this._lView[yn]&=-129}reattach(){this._lView[yn]|=128}detectChanges(){Yd(this._lView[bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function im(t,r){Bl(t,r,r[pn],2,null,null)}(this._lView[bt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=r}}class Ki extends Qd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Yd(r[bt],r,r[rr],!1)}checkNoChanges(){}get context(){return null}}class vg extends Bc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Fn(r);return new Jd(o,this.ngModule)}}function ky(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class Fy{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Kt(a);const l=this.injector.get(r,Ld,a);return l!==Ld||o===Ld?l:this.parentInjector.get(r,o,a)}}class Jd extends Gm{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=ky(r.inputs);if(null!==o)for(const l of a)o.hasOwnProperty(l.propName)&&(l.transform=o[l.propName]);return a}get outputs(){return ky(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function nr(t){return t.map(Do).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,l){let d=(l=l||this.ngModule)instanceof Ja?l:l?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new Fy(r,d):r,w=m.get(rf,null);if(null===w)throw new we(407,!1);const le={rendererFactory:w,sanitizer:m.get(Zm,null),effectManager:m.get(Lo,null),afterRenderEventManager:m.get(jd,null)},Se=w.createRenderer(null,this.componentDef),ke=this.componentDef.selectors[0][0]||"div",at=a?function ug(t,r,o,a){const d=a.get(cf,!1)||o===fe.ShadowDom,m=t.selectRootElement(r,d);return function _y(t){ec(t)}(m),m}(Se,a,this.componentDef.encapsulation,m):_d(Se,ke,function hv(t){const r=t.toLowerCase();return"svg"===r?$t:"math"===r?"math":null}(ke)),En=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let gt=null;null!==at&&(gt=Fp(at,m,!0));const Zn=Xl(0,null,null,1,0,null,null,null,null,null,null),Ir=Hd(null,Zn,null,En,null,null,le,Se,m,null,gt);let gi,ga;A(Ir);try{const uc=this.componentDef;let Bf,Aw=null;uc.findHostDirectiveDefs?(Bf=[],Aw=new Map,uc.findHostDirectiveDefs(uc,Bf,Aw),Bf.push(uc)):Bf=[uc];const WT=function pv(t,r){const o=t[bt],a=Mn;return t[a]=r,Gc(o,a,2,"#host",null)}(Ir,at),qT=function gv(t,r,o,a,l,d,m){const w=l[bt];!function Vw(t,r,o,a){for(const l of t)r.mergedAttrs=di(r.mergedAttrs,l.hostAttrs);null!==r.mergedAttrs&&(Qs(r,r.mergedAttrs,!0),null!==o&&Ed(a,o,r))}(a,t,r,m);let T=null;null!==r&&(T=Fp(r,l[Hi]));const V=d.rendererFactory.createRenderer(r,o);let Q=16;o.signals?Q=4096:o.onPush&&(Q=64);const le=Hd(l,yy(o),null,Q,l[t.index],t,d,V,null,null,T);return w.firstCreatePass&&dl(w,t,a.length-1),yf(l,le),l[t.index]=le}(WT,at,uc,Bf,Ir,le,Se);ga=Il(Zn,Mn),at&&function yv(t,r,o,a){if(a)ri(t,o,["ng-version",Km.full]);else{const{attrs:l,classes:d}=function Ma(t){const r=[],o=[];let a=1,l=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===l?""!==d&&r.push(d,t[++a]):8===l&&o.push(d);else{if(!xt(l))break;l=d}a++}return{attrs:r,classes:o}}(r.selectors[0]);l&&ri(t,o,l),d&&d.length>0&&hp(t,o,d.join(" "))}}(Se,uc,at,a),void 0!==o&&function Ly(t,r,o){const a=t.projection=[];for(let l=0;l<r.length;l++){const d=o[l];a.push(null!=d?Array.from(d):null)}}(ga,this.ngContentSelectors,o),gi=function mv(t,r,o,a,l,d){const m=Un(),w=l[bt],T=Er(m,l);Zd(w,l,m,o,null,a);for(let Q=0;Q<o.length;Q++)No(aa(l,w,m.directiveStart+Q,m),l);hg(w,l,m),T&&No(T,l);const V=aa(l,w,m.directiveStart+m.componentOffset,m);if(t[rr]=l[rr]=V,null!==d)for(const Q of d)Q(V,r);return zd(w,m,t),V}(qT,uc,Bf,Aw,Ir,[Xd]),tc(Zn,Ir,null)}finally{$e()}return new fv(this.componentType,gi,ol(ga,Ir),Ir,ga)}}class fv extends zm{constructor(r,o,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Ki(l),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;qc(d[bt],d,l,r,o),this.previousInputValues.set(r,o),$d(qr(this._tNode.index,d))}}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Xd(){const t=Un();xu(Me()[bt],t)}function nu(t){let r=function Vy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let l;if(eo(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new we(903,!1);l=r.\u0275dir}if(l){if(o){a.push(l);const m=t;m.inputs=wg(t.inputs),m.inputTransforms=wg(t.inputTransforms),m.declaredInputs=wg(t.declaredInputs),m.outputs=wg(t.outputs);const w=l.hostBindings;w&&_v(t,w);const T=l.viewQuery,V=l.contentQueries;if(T&&nc(t,T),V&&Ef(t,V),oe(t.inputs,l.inputs),oe(t.declaredInputs,l.declaredInputs),oe(t.outputs,l.outputs),null!==l.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),oe(m.inputTransforms,l.inputTransforms)),eo(l)&&l.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let m=0;m<d.length;m++){const w=d[m];w&&w.ngInherit&&w(t),w===nu&&(o=!1)}}r=Object.getPrototypeOf(r)}!function hl(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=di(l.hostAttrs,o=di(o,l.hostAttrs))}}(a)}function wg(t){return t===Ue?{}:t===rt?[]:t}function nc(t,r){const o=t.viewQuery;t.viewQuery=o?(a,l)=>{r(a,l),o(a,l)}:r}function Ef(t,r){const o=t.contentQueries;t.contentQueries=o?(a,l,d)=>{r(a,l,d),o(a,l,d)}:r}function _v(t,r){const o=t.hostBindings;t.hostBindings=o?(a,l)=>{r(a,l),o(a,l)}:r}function bf(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const l=r[a];Array.isArray(l)&&l[2]&&(o[a]=l[2])}t.inputTransforms=o}function Zc(t){return!!eh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function eh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function hs(t,r,o){return t[r]=o}function Xo(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function Cu(t,r,o,a){const l=Xo(t,r,o);return Xo(t,r+1,a)||l}function Yc(t,r,o,a){const l=Me();return Xo(l,wo(),r)&&(Lt(),tu(xr(),l,t,r,o,a)),Yc}function rc(t,r,o,a){return Xo(t,wo(),o)?r+Oe(o)+a:Qn}function Jy(t,r,o,a,l,d,m,w){const T=Me(),V=Lt(),Q=t+Mn,le=V.firstCreatePass?function Mv(t,r,o,a,l,d,m,w,T){const V=r.consts,Q=Gc(r,t,4,m||null,co(V,w));qd(r,o,Q,co(V,T)),xu(r,Q);const le=Q.tView=Xl(2,Q,a,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,V,null);return null!==r.queries&&(r.queries.template(r,Q),le.queries=r.queries.embeddedTView(Q)),Q}(Q,V,T,r,o,a,l,d,m):V.data[Q];ho(le,!1);const Se=Xy(V,T,le,t);gc()&&wd(V,T,Se,le),No(Se,T),yf(T,T[Q]=Sy(Se,T,Se,le)),ns(le)&&Gd(V,T,le),null!=m&&Wd(T,le,w)}let Xy=function e_(t,r,o,a){return oa(!0),r[pn].createComment("")};function t_(t){return _a(function Ru(){return jt.lFrame.contextLView}(),Mn+t)}function Rg(t,r,o){const a=Me();return Xo(a,wo(),r)&&Ds(Lt(),xr(),a,t,r,a[pn],o,!1),Rg}function Mg(t,r,o,a,l){const m=l?"class":"style";qc(t,o,r.inputs[m],m,a)}function Rf(t,r,o,a){const l=Me(),d=Lt(),m=Mn+t,w=l[pn],T=d.firstCreatePass?function xv(t,r,o,a,l,d){const m=r.consts,T=Gc(r,t,2,a,co(m,l));return qd(r,o,T,co(m,d)),null!==T.attrs&&Qs(T,T.attrs,!1),null!==T.mergedAttrs&&Qs(T,T.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,T),T}(m,d,l,r,o,a):d.data[m],V=Ov(d,l,T,w,r,t);l[m]=V;const Q=ns(T);return ho(T,!0),Ed(w,V,T),32!=(32&T.flags)&&gc()&&wd(d,l,V,T),0===function xn(){return jt.lFrame.elementDepthCount}()&&No(V,l),function wa(){jt.lFrame.elementDepthCount++}(),Q&&(Gd(d,l,T),zd(d,T,l)),null!==a&&Wd(l,T),Rf}function xg(){let t=Un();ra()?Le():(t=t.parent,ho(t,!1));const r=t;(function E(t){return jt.skipHydrationRootTNode===t})(r)&&function Xe(){jt.skipHydrationRootTNode=null}(),function $r(){jt.lFrame.elementDepthCount--}();const o=Lt();return o.firstCreatePass&&(xu(o,t),Ro(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function hh(t){return 0!=(8&t.flags)}(r)&&Mg(o,r,Me(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Nu(t){return 0!=(16&t.flags)}(r)&&Mg(o,r,Me(),r.stylesWithoutHost,!1),xg}function n_(t,r,o,a){return Rf(t,r,o,a),xg(),n_}let Ov=(t,r,o,a,l,d)=>(oa(!0),_d(a,l,function pc(){return jt.lFrame.currentNamespace}()));function Mf(t,r,o){const a=Me(),l=Lt(),d=t+Mn,m=l.firstCreatePass?function kv(t,r,o,a,l){const d=r.consts,m=co(d,a),w=Gc(r,t,8,"ng-container",m);return null!==m&&Qs(w,m,!0),qd(r,o,w,co(d,l)),null!==r.queries&&r.queries.elementStart(r,w),w}(d,l,a,r,o):l.data[d];ho(m,!0);const w=Ng(l,a,m,t);return a[d]=w,gc()&&wd(l,a,w,m),No(w,a),ns(m)&&(Gd(l,a,m),zd(l,m,a)),null!=o&&Wd(a,m),Mf}function Og(){let t=Un();const r=Lt();return ra()?Le():(t=t.parent,ho(t,!1)),r.firstCreatePass&&(xu(r,t),Ro(t)&&r.queries.elementEnd(t)),Og}let Ng=(t,r,o,a)=>(oa(!0),la(r[pn],""));function i_(){return Me()}function kg(t){return!!t&&"function"==typeof t.then}function o_(t){return!!t&&"function"==typeof t.subscribe}function Fg(t,r,o,a){const l=Me(),d=Lt(),m=Un();return function Vv(t,r,o,a,l,d,m){const w=ns(a),V=t.firstCreatePass&&gg(t),Q=r[rr],le=vf(r);let Se=!0;if(3&a.type||m){const wt=Er(a,r),Gt=m?m(wt):wt,En=le.length,gt=m?Ir=>m(ht(Ir[a.index])):a.index;let Zn=null;if(!m&&w&&(Zn=function Lv(t,r,o,a){const l=t.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const m=l[d];if(m===o&&l[d+1]===a){const w=r[Fi],T=l[d+2];return w.length>T?w[T]:null}"string"==typeof m&&(d+=2)}return null}(t,r,l,a.index)),null!==Zn)(Zn.__ngLastListenerFn__||Zn).__ngNextListenerFn__=d,Zn.__ngLastListenerFn__=d,Se=!1;else{d=Lg(a,r,Q,d,!1);const Ir=o.listen(Gt,l,d);le.push(d,Ir),V&&V.push(l,gt,En,En+1)}}else d=Lg(a,r,Q,d,!1);const ke=a.outputs;let at;if(Se&&null!==ke&&(at=ke[l])){const wt=at.length;if(wt)for(let Gt=0;Gt<wt;Gt+=2){const gi=r[at[Gt]][at[Gt+1]].subscribe(d),ga=le.length;le.push(d,gi),V&&V.push(l,a.index,ga,-(ga+1))}}}(d,l,l[pn],m,t,r,a),Fg}function Uv(t,r,o,a){try{return Dt(6,r,o),!1!==o(a)}catch(l){return yg(t,l),!1}finally{Dt(7,r,o)}}function Lg(t,r,o,a,l){return function d(m){if(m===Function)return a;$d(t.componentOffset>-1?qr(t.index,r):r);let T=Uv(r,o,a,m),V=d.__ngNextListenerFn__;for(;V;)T=Uv(r,o,V,m)&&T,V=V.__ngNextListenerFn__;return l&&!1===T&&m.preventDefault(),T}}function a_(t=1){return function Vt(t){return(jt.lFrame.contextLView=function Bn(t,r){for(;t>0;)r=r[so],t--;return r}(t,jt.lFrame.contextLView))[rr]}(t)}function oh(t,r,o,a,l){const d=Me(),m=rc(d,r,o,a);return m!==Qn&&Ds(Lt(),xr(),d,t,m,d[pn],l,!1),oh}function u(t,r){return t<<17|r<<2}function c(t){return t>>17&32767}function P(t){return 2|t}function U(t){return(131068&t)>>2}function Y(t,r){return-131069&t|r<<2}function be(t){return 1|t}function wn(t,r,o,a,l){const d=t[o+1],m=null===r;let w=a?c(d):U(d),T=!1;for(;0!==w&&(!1===T||m);){const Q=t[w+1];Jn(t[w],r)&&(T=!0,t[w+1]=a?be(Q):P(Q)),w=a?c(Q):U(Q)}T&&(t[o+1]=a?P(d):be(d))}function Jn(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&fu(t,r)>=0}function $v(t,r){return function Tu(t,r,o,a){const l=Me(),d=Lt(),m=function vs(t){const r=jt.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}(2);d.firstUpdatePass&&function Xw(t,r,o,a){const l=t.data;if(null===l[o+1]){const d=l[Yn()],m=function Jw(t,r){return r>=t.expandoStartIndex}(t,o);(function rE(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!m&&(r=!1),r=function HI(t,r,o,a){const l=function Ea(t){const r=jt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(o=Bg(o=Hv(null,t,r,o,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==l)if(o=Hv(l,t,r,o,a),null===d){let T=function zI(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==U(a))return t[c(a)]}(t,r,a);void 0!==T&&Array.isArray(T)&&(T=Hv(null,t,r,T[1],a),T=Bg(T,r.attrs,a),function GI(t,r,o,a){t[c(o?r.classBindings:r.styleBindings)]=a}(t,r,a,T))}else d=function WI(t,r,o){let a;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)a=Bg(a,t[d].hostAttrs,o);return Bg(a,r.attrs,o)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),o}(l,d,r,a),function Ft(t,r,o,a,l,d){let m=d?r.classBindings:r.styleBindings,w=c(m),T=U(m);t[a]=o;let Q,V=!1;if(Array.isArray(o)?(Q=o[1],(null===Q||fu(o,Q)>0)&&(V=!0)):Q=o,l)if(0!==T){const Se=c(t[w+1]);t[a+1]=u(Se,w),0!==Se&&(t[Se+1]=Y(t[Se+1],a)),t[w+1]=function D(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=u(w,0),0!==w&&(t[w+1]=Y(t[w+1],a)),w=a;else t[a+1]=u(T,0),0===w?w=a:t[T+1]=Y(t[T+1],a),T=a;V&&(t[a+1]=P(t[a+1])),wn(t,Q,a,!0),wn(t,Q,a,!1),function Pt(t,r,o,a,l){const d=l?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&fu(d,r)>=0&&(o[a+1]=be(o[a+1]))}(r,Q,t,a,d),m=u(w,T),d?r.classBindings=m:r.styleBindings=m}(l,d,r,o,m,a)}}(d,t,m,a),r!==Qn&&Xo(l,m,r)&&function tE(t,r,o,a,l,d,m,w){if(!(3&r.type))return;const T=t.data,V=T[w+1],Q=function ae(t){return 1==(1&t)}(V)?nE(T,r,o,l,U(V),m):void 0;l_(Q)||(l_(d)||function f(t){return 2==(2&t)}(V)&&(d=nE(T,null,o,l,w,m)),function M_(t,r,o,a,l){if(r)l?t.addClass(o,a):t.removeClass(o,a);else{let d=-1===a.indexOf("-")?void 0:mu.DashCase;null==l?t.removeStyle(o,a,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=mu.Important),t.setStyle(o,a,l,d))}}(a,m,lt(Yn(),o),l,d))}(d,d.data[Yn()],l,l[pn],t,l[m+1]=function YI(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ce(Ju(t)))),t}(r,o),a,m)}(t,r,null,!0),$v}function Hv(t,r,o,a,l){let d=null;const m=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<m&&(d=r[w],a=Bg(a,d.hostAttrs,l),d!==t);)w++;return null!==t&&(o.directiveStylingLast=w),a}function Bg(t,r,o){const a=o?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?l=m:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ls(t,m,!!o||r[++d]))}return void 0===t?null:t}function nE(t,r,o,a,l,d){const m=null===r;let w;for(;l>0;){const T=t[l],V=Array.isArray(T),Q=V?T[1]:T,le=null===Q;let Se=o[l+1];Se===Qn&&(Se=le?rt:void 0);let ke=le?Ks(Se,a):Q===a?Se:void 0;if(V&&!l_(ke)&&(ke=Ks(T,a)),l_(ke)&&(w=ke,m))return w;const at=t[l+1];l=m?c(at):U(at)}if(null!==r){let T=d?r.residualClasses:r.residualStyles;null!=T&&(w=Ks(T,a))}return w}function l_(t){return void 0!==t}function iE(t,r=""){const o=Me(),a=Lt(),l=t+Mn,d=a.firstCreatePass?Gc(a,l,1,r,null):a.data[l],m=oE(a,o,d,r,t);o[l]=m,gc()&&wd(a,o,m,d),ho(d,!1)}let oE=(t,r,o,a,l)=>(oa(!0),function yd(t,r){return t.createText(r)}(r[pn],a));function zv(t){return c_("",t,""),zv}function c_(t,r,o){const a=Me(),l=rc(a,t,r,o);return l!==Qn&&function qn(t,r,o){const a=lt(r,t);!function Rc(t,r,o){t.setValue(r,o)}(t[pn],a,o)}(a,Yn(),l),c_}const ah=void 0;var _C=["en",[["a","p"],["AM","PM"],ah],[["AM","PM"],ah,ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ah,"{1} 'at' {0}",ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yC(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Nf={};function Gv(t){const r=function vC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=TE(r);if(o)return o;const a=r.split("-")[0];if(o=TE(a),o)return o;if("en"===a)return _C;throw new we(701,!1)}function bE(t){return Gv(t)[kf.PluralCase]}function TE(t){return t in Nf||(Nf[t]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[t]),Nf[t]}var kf=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(kf||{});const Ff="en-US";let AE=Ff;function Zv(t,r,o,a,l){if(t=et(t),Array.isArray(t))for(let d=0;d<t.length;d++)Zv(t[d],r,o,a,l);else{const d=Lt(),m=Me(),w=Un();let T=tl(t)?t:et(t.provide);const V=Tp(t),Q=1048575&w.providerIndexes,le=w.directiveStart,Se=w.providerIndexes>>20;if(tl(t)||!t.multi){const ke=new ka(V,l,cl),at=Yv(T,r,l?Q:Q+Se,le);-1===at?(Gs(Da(w,m),d,T),Kv(d,t,r.length),r.push(T),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),o.push(ke),m.push(ke)):(o[at]=ke,m[at]=ke)}else{const ke=Yv(T,r,Q+Se,le),at=Yv(T,r,Q,Q+Se),Gt=at>=0&&o[at];if(l&&!Gt||!l&&!(ke>=0&&o[ke])){Gs(Da(w,m),d,T);const En=function yD(t,r,o,a,l){const d=new ka(t,o,cl);return d.multi=[],d.index=r,d.componentProviders=0,JE(d,l,a&&!o),d}(l?mD:gD,o.length,l,a,V);!l&&Gt&&(o[at].providerFactory=En),Kv(d,t,r.length,0),r.push(T),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),o.push(En),m.push(En)}else Kv(d,t,ke>-1?ke:at,JE(o[l?at:ke],V,!l&&a));!l&&a&&Gt&&o[at].componentProviders++}}}function Kv(t,r,o,a){const l=tl(r),d=function km(t){return!!t.useClass}(r);if(l||d){const T=(d?et(r.useClass):r).prototype.ngOnDestroy;if(T){const V=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const Q=V.indexOf(o);-1===Q?V.push(o,[a,T]):V[Q+1].push(a,T)}else V.push(o,T)}}}function JE(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function Yv(t,r,o,a){for(let l=o;l<a;l++)if(r[l]===t)return l;return-1}function gD(t,r,o,a){return Qv(this.multi,[])}function mD(t,r,o,a){const l=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,w=aa(o,o[bt],this.providerFactory.index,a);d=w.slice(0,m),Qv(l,d);for(let T=m;T<w.length;T++)d.push(w[T])}else d=[],Qv(l,d);return d}function Qv(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function XE(t,r=[]){return o=>{o.providersResolver=(a,l)=>function pD(t,r,o){const a=Lt();if(a.firstCreatePass){const l=eo(t);Zv(o,a.data,a.blueprint,l,!0),Zv(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class uh{}class e0{}function _D(t,r){return new Jv(t,r??null,[])}class Jv extends uh{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vg(this);const l=Gr(r);this._bootstrapComponents=Iu(l.bootstrap),this._r3Injector=uf(r,o,[{provide:uh,useValue:this},{provide:Bc,useValue:this.componentFactoryResolver},...a],Ce(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Xv extends e0{constructor(r){super(),this.moduleType=r}create(r){return new Jv(this.moduleType,r,[])}}class t0 extends uh{constructor(r){super(),this.componentFactoryResolver=new vg(this),this.instance=null;const o=new Aa([...r.providers,{provide:uh,useValue:this},{provide:Bc,useValue:this.componentFactoryResolver}],r.parent||Md(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function n0(t,r,o=null){return new t0({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let wD=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Gh(0,o.type),l=a.length>0?n0([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,l)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=nn({token:t,providedIn:"environment",factory:()=>new t(ct(Ja))})}return t})();function r0(t){t.getStandaloneInjector=r=>r.get(wD).getOrCreateStandaloneInjector(t)}function d0(t,r,o,a,l){return p0(Me(),Ei(),t,r,o,a,l)}function h0(t,r,o,a,l,d){return function g0(t,r,o,a,l,d,m,w){const T=r+o;return function pl(t,r,o,a,l){const d=Cu(t,r,o,a);return Xo(t,r+2,l)||d}(t,T,l,d,m)?hs(t,T+3,w?a.call(w,l,d,m):a(l,d,m)):Wg(t,T+3)}(Me(),Ei(),t,r,o,a,l,d)}function Wg(t,r){const o=t[r];return o===Qn?void 0:o}function p0(t,r,o,a,l,d,m){const w=r+o;return Cu(t,w,l,d)?hs(t,w+2,m?a.call(m,l,d):a(l,d)):Wg(t,w+2)}function _0(t,r){const o=Lt();let a;const l=t+Mn;o.firstCreatePass?(a=function LD(t,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(t===a.name)return a}}(r,o.pipeRegistry),o.data[l]=a,a.onDestroy&&(o.destroyHooks??=[]).push(l,a.onDestroy)):a=o.data[l];const d=a.factory||(a.factory=xi(a.type)),w=cn(cl);try{const T=ks(!1),V=d();return ks(T),function zw(t,r,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=a}(o,Me(),l,V),V}finally{cn(w)}}function v0(t,r,o,a){const l=t+Mn,d=Me(),m=_a(d,l);return function qg(t,r){return t[bt].data[r].pure}(d,l)?p0(d,Ei(),r,m.transform,o,a,m):m.transform(o,a)}function $D(){return this._results[Symbol.iterator]()}class tw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Xa)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=tw.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$D)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const l=function us(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Eh(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],d=r[a];if(o&&(l=o(l),d=o(d)),d!==l)return!1}return!0}(a._results,l,o))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function zD(t,r,o,a=!0){const l=r[bt];if(function sm(t,r,o,a){const l=Mr+a,d=o.length;a>0&&(o[l-1][Ri]=r),a<d-Mr?(r[Ri]=o[l],Ih(o,Mr+a,r)):(o.push(r),r[Ri]=null),r[Ln]=o;const m=r[Mi];null!==m&&o!==m&&function P_(t,r){const o=t[uo];r[Or]!==r[Ln][Ln][Or]&&(t[Po]=!0),null===o?t[uo]=[r]:o.push(r)}(m,r);const w=r[Ti];null!==w&&w.insertView(t),r[yn]|=128}(l,r,t,o),a){const d=vu(o,t),m=r[pn],w=_u(m,t[Sr]);null!==w&&function sp(t,r,o,a,l,d){a[Dr]=l,a[Kr]=r,Bl(t,a,o,1,l,d)}(l,t[Kr],m,r,w,d)}}let Zg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qD}return t})();const GD=Zg,WD=class extends GD{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const l=function HD(t,r,o,a){const l=r.tView,w=Hd(t,l,o,4096&t[yn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);w[Mi]=t[r.index];const V=t[Ti];return null!==V&&(w[Ti]=V.createEmbeddedView(l)),tc(l,w,o),w}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new Qd(l)}};function qD(){return g_(Un(),Me())}function g_(t,r){return 4&t.type?new WD(r,t,ol(t,r)):null}let y_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XD}return t})();function XD(){return T0(Un(),Me())}const eb=y_,D0=class extends eb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return ol(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const r=La(this._hostTNode,this._hostLView);if(rd(r)){const o=Ns(r,this._hostLView),a=Ai(r);return new Io(o[bt].data[a+8],o)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=b0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(r,o,a){let l,d;"number"==typeof a?l=a:null!=a&&(l=a.index,d=a.injector);const w=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(w,l,false),w}createComponent(r,o,a,l,d){const m=r&&!function Pl(t){return"function"==typeof t}(r);let w;if(m)w=o;else{const wt=o||{};w=wt.index,a=wt.injector,l=wt.projectableNodes,d=wt.environmentInjector||wt.ngModuleRef}const T=m?r:new Jd(Fn(r)),V=a||this.parentInjector;if(!d&&null==T.ngModule){const Gt=(m?V:this.parentInjector).get(Ja,null);Gt&&(d=Gt)}Fn(T.componentType??{});const ke=T.create(V,l,null,d);return this.insertImpl(ke.hostView,w,false),ke}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const l=r._lView;if(function Hs(t){return wr(t[Ln])}(l)){const T=this.indexOf(r);if(-1!==T)this.detach(T);else{const V=l[Ln],Q=new D0(V,V[Kr],V[Ln]);Q.detach(Q.indexOf(r))}}const m=this._adjustIndex(o),w=this._lContainer;return zD(w,l,m,!a),r.attachToViewContainerRef(),Ih(nw(w),m,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=b0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=qu(this._lContainer,o);a&&(Vu(nw(this._lContainer),o),vd(a[bt],a))}detach(r){const o=this._adjustIndex(r,-1),a=qu(this._lContainer,o);return a&&null!=Vu(nw(this._lContainer),o)?new Qd(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function b0(t){return t[8]}function nw(t){return t[8]||(t[8]=[])}function T0(t,r){let o;const a=r[t.index];return wr(a)?o=a:(o=Sy(a,r,null,t),r[t.index]=o,yf(r,o)),A0(o,r,t,a),new D0(o,t,r)}let A0=function S0(t,r,o,a){if(t[Sr])return;let l;l=8&o.type?ht(a):function tb(t,r){const o=t[pn],a=o.createComment(""),l=Er(r,t);return Zu(o,_u(o,l),a,function hm(t,r){return t.nextSibling(r)}(o,l),!1),a}(r,o),t[Sr]=l};class rw{constructor(r){this.queryList=r,this.matches=null}clone(){return new rw(this.queryList)}setDirty(){this.queryList.setDirty()}}class iw{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,l=[];for(let d=0;d<a;d++){const m=o.getByIndex(d);l.push(this.queries[m.indexInDeclarationView].clone())}return new iw(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==F0(r,o).matches&&this.queries[o].setDirty()}}class P0{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class ow{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const l=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(r,l);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new ow(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class sw{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new sw(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const d=a[l];this.matchTNodeWithReadOption(r,o,ib(o,d)),this.matchTNodeWithReadOption(r,o,Ua(o,r,d,!1,!1))}else a===Zg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Ua(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===jc||l===y_||l===Zg&&4&o.type)this.addMatch(o.index,-2);else{const d=Ua(o,r,l,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function ib(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function sb(t,r,o,a){return-1===o?function ob(t,r){return 11&t.type?ol(t,r):4&t.type?g_(t,r):null}(r,t):-2===o?function ab(t,r,o){return o===jc?ol(r,t):o===Zg?g_(r,t):o===y_?T0(r,t):void 0}(t,r,a):aa(t,t[bt],o,r)}function R0(t,r,o,a){const l=r[Ti].queries[a];if(null===l.matches){const d=t.data,m=o.matches,w=[];for(let T=0;T<m.length;T+=2){const V=m[T];w.push(V<0?null:sb(r,d[V],m[T+1],o.metadata.read))}l.matches=w}return l.matches}function aw(t,r,o,a){const l=t.queries.getByIndex(o),d=l.matches;if(null!==d){const m=R0(t,r,l,o);for(let w=0;w<d.length;w+=2){const T=d[w];if(T>0)a.push(m[w/2]);else{const V=d[w+1],Q=r[-T];for(let le=Mr;le<Q.length;le++){const Se=Q[le];Se[Mi]===Se[Ln]&&aw(Se[bt],Se,V,a)}if(null!==Q[uo]){const le=Q[uo];for(let Se=0;Se<le.length;Se++){const ke=le[Se];aw(ke[bt],ke,V,a)}}}}}return a}function M0(t){const r=Me(),o=Lt(),a=fc();v(a+1);const l=F0(o,a);if(t.dirty&&function Cl(t){return 4==(4&t[yn])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const d=l.crossesNgTemplate?aw(o,r,a,[]):R0(o,r,l,a);t.reset(d,$c),t.notifyOnChanges()}return!0}return!1}function x0(t,r,o,a){const l=Lt();if(l.firstCreatePass){const d=Un();(function k0(t,r,o){null===t.queries&&(t.queries=new ow),t.queries.track(new sw(r,o))})(l,new P0(r,o,a),d.index),function cb(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(l,t),2==(2&o)&&(l.staticContentQueries=!0)}!function N0(t,r,o){const a=new tw(4==(4&o));(function tv(t,r,o,a){const l=vf(r);l.push(o),t.firstCreatePass&&gg(t).push(a,l.length-1)})(t,r,a,a.destroy),null===r[Ti]&&(r[Ti]=new iw),r[Ti].queries.push(new rw(a))}(l,Me(),o)}function O0(){return function lb(t,r){return t[Ti].queries[r].queryList}(Me(),fc())}function F0(t,r){return t.queries.getByIndex(r)}function L0(t,r){return g_(t,r)}function uw(t){return!!Gr(t)}const eI=new vt("Application Initializer");let fw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=_t(eI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const l of this.appInits){const d=l();if(kg(d))o.push(d);else if(o_(d)){const m=new Promise((w,T)=>{d.subscribe({complete:w,error:T})});o.push(m)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(l=>{this.reject(l)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tI=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const v_=new vt("LocaleId",{providedIn:"root",factory:()=>_t(v_,zt.Optional|zt.SkipSelf)||function Mb(){return typeof $localize<"u"&&$localize.locale||Ff}()}),xb=new vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let nI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Nb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let kb=(()=>{class t{compileModuleSync(o){return new Xv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),d=Iu(Gr(o).declarations).reduce((m,w)=>{const T=Fn(w);return T&&m.push(new Jd(T)),m},[]);return new Nb(a,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sI=new vt(""),aI=new vt("");let mw,rT=(()=>{class t{constructor(o,a,l){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mw||(function iT(t){mw=t}(l),l.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:l})}whenStable(o,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,l){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(ct(Fo),ct(uI),ct(aI))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),uI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return mw?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),td=null;const lI=new vt("AllowMultipleToken"),yw=new vt("PlatformDestroyListeners"),_w=new vt("appBootstrapListener");class aT{constructor(r,o){this.name=r,this.token=o}}function hI(t,r,o=[]){const a=`Platform: ${r}`,l=new vt(a);return(d=[])=>{let m=vw();if(!m||m.injector.get(lI,!1)){const w=[...o,...d,{provide:l,useValue:!0}];t?t(w):function uT(t){if(td&&!td.get(lI,!1))throw new we(400,!1);(function cI(){!function ea(t){Zo=t}(()=>{throw new we(600,!1)})})(),td=t;const r=t.get(pI);(function dI(t){t.get(Pp,null)?.forEach(o=>o())})(t)}(function fI(t=[],r){return ds.create({name:r,providers:[{provide:Rd,useValue:"platform"},{provide:yw,useValue:new Set([()=>td=null])},...t]})}(w,a))}return function cT(t){const r=vw();if(!r)throw new we(401,!1);return r}()}}function vw(){return td?.get(pI)??null}let pI=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const l=function dT(t="zone.js",r){return"noop"===t?new Q_:"zone.js"===t?new Fo(r):t}(a?.ngZone,function gI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return l.run(()=>{const d=function vD(t,r,o){return new Jv(t,r,o)}(o.moduleType,this.injector,function wI(t){return[{provide:Fo,useFactory:t},{provide:Wl,multi:!0,useFactory:()=>{const r=_t(fT,{optional:!0});return()=>r.initialize()}},{provide:vI,useFactory:hT},{provide:oy,useFactory:sy}]}(()=>l)),m=d.injector.get(al,null);return l.runOutsideAngular(()=>{const w=l.onError.subscribe({next:T=>{m.handleError(T)}});d.onDestroy(()=>{E_(this._modules,d),w.unsubscribe()})}),function mI(t,r,o){try{const a=o();return kg(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(m,l,()=>{const w=d.injector.get(fw);return w.runInitializers(),w.donePromise.then(()=>(function SE(t){Je(t,"Expected localeId to be defined"),"string"==typeof t&&(AE=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(v_,Ff)||Ff),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,a=[]){const l=yI({},a);return function oT(t,r,o){const a=new Xv(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(o){const a=o.injector.get(Uf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new we(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(yw,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(ct(ds))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function yI(t,r){return Array.isArray(r)?r.reduce(yI,t):{...t,...r}}let Uf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_t(vI),this.zoneIsStable=_t(oy),this.componentTypes=[],this.components=[],this.isStable=_t(nI).hasPendingTasks.pipe((0,pe.w)(o=>o?(0,q.of)(!1):this.zoneIsStable),(0,Pe.x)(),(0,ve.B)()),this._injector=_t(Ja)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const l=o instanceof Gm;if(!this._injector.get(fw).done)throw!l&&yi(o),new we(405,!1);let m;m=l?o:this._injector.get(Bc).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const w=function sT(t){return t.isBoundToModule}(m)?void 0:this._injector.get(uh),V=m.create(ds.NULL,[],a||m.selector,w),Q=V.location.nativeElement,le=V.injector.get(sI,null);return le?.registerApplication(Q),V.onDestroy(()=>{this.detachView(V.hostView),E_(this.components,V),le?.unregisterApplication(Q)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;E_(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(_w,[]);a.push(...this._bootstrapListeners),a.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>E_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new we(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function E_(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const vI=new vt("",{providedIn:"root",factory:()=>_t(al).handleError.bind(void 0)});function hT(){const t=_t(Fo),r=_t(al);return o=>t.runOutsideAngular(()=>r.handleError(o))}let fT=(()=>{class t{constructor(){this.zone=_t(Fo),this.applicationRef=_t(Uf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gT(){return!1}let mT=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yT}return t})();function yT(t){return function _T(t,r,o){if(Xi(t)&&!o){const a=qr(t.index,r);return new Qd(a,a)}return 47&t.type?new Qd(r[Or],r):null}(Un(),Me(),16==(16&t))}class DI{constructor(){}supports(r){return Zc(r)}create(r){return new DT(r)}}const CT=(t,r)=>r;class DT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CT}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,l=0,d=null;for(;o||a;){const m=!a||o&&o.currentIndex<TI(a,l,d)?o:a,w=TI(m,l,d),T=m.currentIndex;if(m===a)l--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)l++;else{d||(d=[]);const V=w-l,Q=T-l;if(V!=Q){for(let Se=0;Se<V;Se++){const ke=Se<d.length?d[Se]:d[Se]=0,at=ke+Se;Q<=at&&at<V&&(d[Se]=ke+1)}d[m.previousIndex]=Q-V}}w!==T&&r(m,w,T)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Zc(r))throw new we(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,m,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)d=r[w],m=this._trackByFn(w,d),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,d,m,w)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,w),a=!0),o=o._next}else l=0,function Cg(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,w=>{m=this._trackByFn(l,w),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,w,m,l)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,m,l),a=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,l)):r=this._addAfter(new bT(o,a),d,l),r}_verifyReinsertion(r,o,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const l=null===o?this._itHead:o._next;return r._next=l,r._prev=o,null===l?this._itTail=r:l._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new bI),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bT{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class bI{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new TT,this.map.set(o,a)),a.add(r)}get(r,o){const l=this.map.get(r);return l?l.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TI(t,r,o){const a=t.previousIndex;if(null===a)return a;let l=0;return o&&a<o.length&&(l=o[a]),a+r+l}class AI{constructor(){}supports(r){return r instanceof Map||eh(r)}create(){return new AT}}class AT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||eh(r)))throw new we(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(l,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,o);const d=l._prev,m=l._next;return d&&(d._next=m),m&&(m._prev=d),l._next=null,l._prev=null,l}const a=new ST(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class ST{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SI(){return new Dw([new DI])}let Dw=(()=>{class t{static#e=this.\u0275prov=nn({token:t,providedIn:"root",factory:SI});constructor(o){this.factories=o}static create(o,a){if(null!=a){const l=a.factories.slice();o=o.concat(l)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||SI()),deps:[[t,new Bu,new ba]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(null!=a)return a;throw new we(901,!1)}}return t})();function PI(){return new bw([new AI])}let bw=(()=>{class t{static#e=this.\u0275prov=nn({token:t,providedIn:"root",factory:PI});constructor(o){this.factories=o}static create(o,a){if(a){const l=a.factories.slice();o=o.concat(l)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||PI()),deps:[[t,new Bu,new ba]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(a)return a;throw new we(901,!1)}}return t})();const MT=hI(null,"core",[]);let xT=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(ct(Uf))};static#t=this.\u0275mod=Yi({type:t});static#n=this.\u0275inj=Pn({})}return t})();function HT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function GT(t){const r=Fn(t);if(!r)return null;const o=new Jd(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Ot:()=>ye,ZF:()=>pt,hX:()=>Qe,z6:()=>ue});var p=F(3182),W=F(5879),te=F(1920);class ye{constructor(ze){return ze}}class ue{constructor(){return(0,p.C6)()}}const pe=new W.OlP("angularfire2._apps"),Pe={provide:ye,useFactory:function ve(we){return we&&1===we.length?we[0]:new ye((0,p.Mq)())},deps:[[new W.FiY,pe]]},re={provide:ue,deps:[[new W.FiY,pe]]};function oe(we){return(ze,Oe)=>{const Fe=ze.runOutsideAngular(()=>we(Oe));return new ye(Fe)}}let Ce=(()=>{class we{constructor(Oe){(0,p.KN)("angularfire",te.q4.full,"core"),(0,p.KN)("angularfire",te.q4.full,"app"),(0,p.KN)("angular",W.q4F.full,Oe.toString())}static \u0275fac=function(Fe){return new(Fe||we)(W.LFG(W.Lbi))};static \u0275mod=W.oAB({type:we});static \u0275inj=W.cJS({providers:[Pe,re]})}return we})();function Qe(we,...ze){return{ngModule:Ce,providers:[{provide:pe,useFactory:oe(we),multi:!0,deps:[W.R0b,W.zs3,te.HU,...ze]}]}}const pt=(0,te.u3)(p.ZF,!0)},9535:(Tt,Ne,F)=>{"use strict";F.d(Ne,{gx:()=>He,dh:()=>et,Xb:()=>st,h8:()=>Zt,v0:()=>xe,AR:()=>Fe,LS:()=>zt,e5:()=>sn,w7:()=>Wt,EA:()=>De});var p=F(1920),W=F(5879),te=F(721),ye=F(3182),ue=F(4939),re=(F(9058),F(534),F(7879),F(4537),F(5592));function Ce(_n){return new re.y(function(vn){return{unsubscribe:(0,ue.w)(_n,vn.next.bind(vn),vn.error.bind(vn),vn.complete.bind(vn))}})}class He{constructor(vn){return vn}}class et{constructor(){return(0,p.vb)("auth")}}const Ke=new W.OlP("angularfire2.auth-instances");function mt(_n){return(vn,ge)=>{const K=vn.runOutsideAngular(()=>_n(ge));return new He(K)}}const we={provide:et,deps:[[new W.FiY,Ke]]},ze={provide:He,useFactory:function St(_n,vn){const ge=(0,p.JM)("auth",_n,vn);return ge&&new He(ge)},deps:[[new W.FiY,Ke],te.Ot]};let Oe=(()=>{class _n{constructor(){(0,ye.KN)("angularfire",p.q4.full,"auth")}static \u0275fac=function(K){return new(K||_n)};static \u0275mod=W.oAB({type:_n});static \u0275inj=W.cJS({providers:[ze,we]})}return _n})();function Fe(_n,...vn){return{ngModule:Oe,providers:[{provide:Ke,useFactory:mt(_n),multi:!0,deps:[W.R0b,W.zs3,p.HU,te.z6,[new W.FiY,p.Rf],...vn]}]}}const De=(0,p.u3)(Ce,!0),st=(0,p.u3)(ue.aa,!0),Zt=(0,p.u3)(ue.E,!0),xe=(0,p.u3)(ue.o,!0),zt=(0,p.u3)(ue.a5,!0),sn=(0,p.u3)(ue.ab,!0),Wt=(0,p.u3)(ue.C,!0)},7217:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Dh:()=>pe,GT:()=>q,cc:()=>We,hO:()=>Qe,on:()=>re,pX:()=>ue,xv:()=>Pe});var p=F(5879),W=F(1920),te=F(7142);const ye=["ngOnDestroy"],ue=(Ke,St,mt,we={})=>new Proxy(Ke,{get:(ze,Oe)=>mt.runOutsideAngular(()=>{if(Ke[Oe])return we?.spy?.get&&we.spy.get(Oe,Ke[Oe]),Ke[Oe];if(ye.indexOf(Oe)>-1)return()=>{};const Fe=St.toPromise().then(it=>{const De=it?.[Oe];return"function"==typeof De?De.bind(it):De?.then?De.then(Rt=>mt.run(()=>Rt)):mt.run(()=>De)});return new Proxy(()=>{},{get:(it,De)=>Fe[De],apply:(it,De,Rt)=>Fe.then(Ut=>{const Jt=Ut?.(...Rt);return we?.spy?.apply&&we.spy.apply(Oe,Rt,Jt),Jt})})})}),q=(Ke,St)=>{St.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(we=>{Object.defineProperty(Ke.prototype,we,Object.getOwnPropertyDescriptor(mt.prototype||mt,we))})})};class ve{constructor(St){return St}}const pe=new p.OlP("angularfire2.app.options"),Pe=new p.OlP("angularfire2.app.name");function re(Ke,St,mt){const ze="object"==typeof mt&&mt||{};ze.name=ze.name||"string"==typeof mt&&mt||"[DEFAULT]";const Fe=te.Z.apps.filter(it=>it&&it.name===ze.name)[0]||St.runOutsideAngular(()=>te.Z.initializeApp(Ke,ze));try{if(JSON.stringify(Ke)!==JSON.stringify(Fe.options)){const it=!!module.hot;oe("error",`${Fe.name} Firebase App already initialized with different options${it?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ve(Fe)}const oe=(Ke,...St)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Ke](...St)},Ce={provide:ve,useFactory:re,deps:[pe,p.R0b,[new p.FiY,Pe]]};let Qe=(()=>{class Ke{static initializeApp(mt,we){return{ngModule:Ke,providers:[{provide:pe,useValue:mt},{provide:Pe,useValue:we}]}}constructor(mt){te.Z.registerVersion("angularfire",W.q4.full,"core"),te.Z.registerVersion("angularfire",W.q4.full,"app-compat"),te.Z.registerVersion("angular",p.q4F.full,mt.toString())}static \u0275fac=function(we){return new(we||Ke)(p.LFG(p.Lbi))};static \u0275mod=p.oAB({type:Ke});static \u0275inj=p.cJS({providers:[Ce]})}return Ke})();function We(Ke,St,mt,we,ze){const[,Oe,Fe]=globalThis.\u0275AngularfireInstanceCache.find(it=>it[0]===Ke)||[];if(Oe)return function He(Ke,St){try{return Ke.toString()===St.toString()}catch{return Ke===St}}(ze,Fe)||(pt("error",`${St} was already initialized on the ${mt} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),pt("warn",{is:ze,was:Fe})),Oe;{const it=we();return globalThis.\u0275AngularfireInstanceCache.push([Ke,it,ze]),it}}const et=typeof module<"u"&&!!module.hot,pt=(Ke,...St)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Ke](...St)};globalThis.\u0275AngularfireInstanceCache||=[]},3960:(Tt,Ne,F)=>{"use strict";F.d(Ne,{gg:()=>ln,ET:()=>er,hJ:()=>Ot,BS:()=>bn,oe:()=>zn,JU:()=>Wt,_1:()=>Nn,ad:()=>M,Cm:()=>tt,IO:()=>rt,r7:()=>mi,ar:()=>Ar});var p=F(1920),W=F(5879),te=F(721),ye=F(9535),ue=F(3182),q=F(5776),ve=F(5592),pe=F(7398),Pe=function(){return Pe=Object.assign||function(yt){for(var xt,Yt=1,vr=arguments.length;Yt<vr;Yt++)for(var Vr in xt=arguments[Yt])Object.prototype.hasOwnProperty.call(xt,Vr)&&(yt[Vr]=xt[Vr]);return yt},Pe.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var oe={includeMetadataChanges:!1};function Ce(dt,yt){return void 0===yt&&(yt=oe),new ve.y(function(xt){return{unsubscribe:(0,q.cf)(dt,yt,{next:xt.next.bind(xt),error:xt.error.bind(xt),complete:xt.complete.bind(xt)})}})}function We(dt,yt){return void 0===yt&&(yt={}),function Qe(dt){return Ce(dt,{includeMetadataChanges:!0})}(dt).pipe((0,pe.U)(function(xt){return He(xt,yt)}))}function He(dt,yt){var xt;void 0===yt&&(yt={});var Yt=dt.data(yt);return dt.exists()&&"object"==typeof Yt&&null!==Yt&&yt.idField?Pe(Pe({},Yt),((xt={})[yt.idField]=dt.id,xt)):Yt}function Ut(dt,yt){return void 0===yt&&(yt={}),function it(dt){return Ce(dt,{includeMetadataChanges:!0}).pipe((0,pe.U)(function(yt){return yt.docs}))}(dt).pipe((0,pe.U)(function(xt){return xt.map(function(Yt){return He(Yt,yt)})}))}class ln{constructor(yt){return yt}}const Xn="firestore",Bt=new W.OlP("angularfire2.firestore-instances");function xe(dt){return(yt,xt)=>{const Yt=yt.runOutsideAngular(()=>dt(xt));return new ln(Yt)}}const se={provide:class st{constructor(){return(0,p.vb)(Xn)}},deps:[[new W.FiY,Bt]]},Re={provide:ln,useFactory:function Te(dt,yt){const xt=(0,p.JM)(Xn,dt,yt);return xt&&new ln(xt)},deps:[[new W.FiY,Bt],te.Ot]};let Ie=(()=>{class dt{constructor(){(0,ue.KN)("angularfire",p.q4.full,"fst")}static \u0275fac=function(Yt){return new(Yt||dt)};static \u0275mod=W.oAB({type:dt});static \u0275inj=W.cJS({providers:[Re,se]})}return dt})();function tt(dt,...yt){return{ngModule:Ie,providers:[{provide:Bt,useFactory:xe(dt),multi:!0,deps:[W.R0b,W.zs3,p.HU,te.z6,[new W.FiY,ye.dh],[new W.FiY,p.Rf],...yt]}]}}const bn=(0,p.u3)(Ut,!0),Nn=(0,p.u3)(We,!0),er=(0,p.u3)(q.ET,!0),Ot=(0,p.u3)(q.hJ,!0),zn=(0,p.u3)(q.oe,!0),Wt=(0,p.u3)(q.JU,!0),M=(0,p.u3)(q.ad,!0),rt=(0,p.u3)(q.IO,!0),mi=(0,p.u3)(q.r7,!0),Ar=(0,p.u3)(q.ar,!0)},1920:(Tt,Ne,F)=>{"use strict";F.d(Ne,{q4:()=>We,iC:()=>Jt,HU:()=>Oe,Rf:()=>Ke,vb:()=>pt,JM:()=>et,u3:()=>Xn});var p=F(5879),W=F(3182),te=F(1954),ue=F(2631);const ve=new class q extends ue.v{}(class ye extends te.o{constructor(Zt,Bt){super(Zt,Bt),this.scheduler=Zt,this.work=Bt}schedule(Zt,Bt=0){return Bt>0?super.schedule(Zt,Bt):(this.delay=Bt,this.state=Zt,this.scheduler.flush(this),this)}execute(Zt,Bt){return Bt>0||this.closed?super.execute(Zt,Bt):this._execute(Zt,Bt)}requestAsyncId(Zt,Bt,Te=0){return null!=Te&&Te>0||null==Te&&this.delay>0?super.requestAsyncId(Zt,Bt,Te):(Zt.flush(this),0)}});var Pe=F(6321),re=F(5592),oe=F(9397),Ce=F(5137),Qe=F(3093);const We=new p.GfV("ANGULARFIRE2_VERSION");function et(st,Zt,Bt){if(Zt){if(1===Zt.length)return Zt[0];const se=Zt.filter(Re=>Re.app===Bt);if(1===se.length)return se[0]}return Bt.container.getProvider(st).getImmediate({optional:!0})}const pt=(st,Zt)=>{const Bt=Zt?[Zt]:(0,W.C6)(),Te=[];return Bt.forEach(xe=>{xe.container.getProvider(st).instances.forEach(Re=>{Te.includes(Re)||Te.push(Re)})}),Te};class Ke{constructor(){return pt(St)}}const St="app-check";function mt(){}class we{zone;delegate;constructor(Zt,Bt=ve){this.zone=Zt,this.delegate=Bt}now(){return this.delegate.now()}schedule(Zt,Bt,Te){const xe=this.zone;return this.delegate.schedule(function(Re){xe.runGuarded(()=>{Zt.apply(this,[Re])})},Bt,Te)}}class ze{zone;task=null;constructor(Zt){this.zone=Zt}call(Zt,Bt){const Te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mt,{},mt,mt)),Bt.pipe((0,oe.b)({next:Te,complete:Te,error:Te})).subscribe(Zt).add(Te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oe=(()=>{class st{ngZone;outsideAngular;insideAngular;constructor(Bt){this.ngZone=Bt,this.outsideAngular=Bt.runOutsideAngular(()=>new we(Zone.current)),this.insideAngular=Bt.run(()=>new we(Zone.current,Pe.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Te){return new(Te||st)(p.LFG(p.R0b))};static \u0275prov=p.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})();function Fe(){const st=globalThis.\u0275AngularFireScheduler;if(!st)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return st}function De(st){return Fe().ngZone.run(()=>st())}function Jt(st){return function Cn(st){return function(Bt){return(Bt=Bt.lift(new ze(st.ngZone))).pipe((0,Ce.R)(st.outsideAngular),(0,Qe.Q)(st.insideAngular))}}(Fe())(st)}const ln=(st,Zt)=>function(){const Te=arguments;return Zt&&setTimeout(()=>{"scheduled"===Zt.state&&Zt.invoke()},10),De(()=>st.apply(void 0,Te))},Xn=(st,Zt)=>function(){let Bt;const Te=arguments;for(let se=0;se<arguments.length;se++)"function"==typeof Te[se]&&(Zt&&(Bt||=De(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mt,{},mt,mt))),Te[se]=ln(Te[se],Bt));const xe=function it(st){return Fe().ngZone.runOutsideAngular(()=>st())}(()=>st.apply(this,Te));if(!Zt){if(xe instanceof re.y){const se=Fe();return xe.pipe((0,Ce.R)(se.outsideAngular),(0,Qe.Q)(se.insideAngular))}return De(()=>xe)}return xe instanceof re.y?xe.pipe(Jt):xe instanceof Promise?De(()=>new Promise((se,Re)=>xe.then(Ie=>De(()=>se(Ie)),Ie=>De(()=>Re(Ie))))):"function"==typeof xe&&Bt?function(){return setTimeout(()=>{Bt&&"scheduled"===Bt.state&&Bt.invoke()},10),xe.apply(this,arguments)}:De(()=>xe)}},95:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Fj:()=>we,qu:()=>Ss,NI:()=>Br,u:()=>rr,cw:()=>ct,sg:()=>bt,u5:()=>ms,JJ:()=>on,JL:()=>Ot,F:()=>Yt,On:()=>gs,YN:()=>_i,UX:()=>ya,Q7:()=>Sr,EJ:()=>oi,kI:()=>Rt,_Y:()=>mo,Kr:()=>Ao});var p=F(5879),W=F(6814),te=F(2459),ye=F(5592),ue=F(7453),q=F(4829),ve=F(4564),pe=F(8251),Pe=F(7400),re=F(2714),Ce=F(7398);let Qe=(()=>{class B{constructor(R,ee){this._renderer=R,this._elementRef=ee,this.onChange=_e=>{},this.onTouched=()=>{}}setProperty(R,ee){this._renderer.setProperty(this._elementRef.nativeElement,R,ee)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}static#e=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:B})}return B})(),We=(()=>{class B extends Qe{static#e=this.\u0275fac=function(){let R;return function(_e){return(R||(R=p.n5z(B)))(_e||B)}}();static#t=this.\u0275dir=p.lG2({type:B,features:[p.qOj]})}return B})();const He=new p.OlP("NgValueAccessor"),Ke={provide:He,useExisting:(0,p.Gpc)(()=>we),multi:!0},mt=new p.OlP("CompositionEventMode");let we=(()=>{class B extends Qe{constructor(R,ee,_e){super(R,ee),this._compositionMode=_e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function St(){const B=(0,W.q)()?(0,W.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}static#e=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(mt,8))};static#t=this.\u0275dir=p.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ee,_e){1&ee&&p.NdJ("input",function(gn){return _e._handleInput(gn.target.value)})("blur",function(){return _e.onTouched()})("compositionstart",function(){return _e._compositionStart()})("compositionend",function(gn){return _e._compositionEnd(gn.target.value)})},features:[p._Bn([Ke]),p.qOj]})}return B})();function ze(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function Oe(B){return null!=B&&"number"==typeof B.length}const Fe=new p.OlP("NgValidators"),it=new p.OlP("NgAsyncValidators"),De=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rt{static min(G){return function Ut(B){return G=>{if(ze(G.value)||ze(B))return null;const R=parseFloat(G.value);return!isNaN(R)&&R<B?{min:{min:B,actual:G.value}}:null}}(G)}static max(G){return function Jt(B){return G=>{if(ze(G.value)||ze(B))return null;const R=parseFloat(G.value);return!isNaN(R)&&R>B?{max:{max:B,actual:G.value}}:null}}(G)}static required(G){return Cn(G)}static requiredTrue(G){return function ln(B){return!0===B.value?null:{required:!0}}(G)}static email(G){return function Xn(B){return ze(B.value)||De.test(B.value)?null:{email:!0}}(G)}static minLength(G){return function st(B){return G=>ze(G.value)||!Oe(G.value)?null:G.value.length<B?{minlength:{requiredLength:B,actualLength:G.value.length}}:null}(G)}static maxLength(G){return function Zt(B){return G=>Oe(G.value)&&G.value.length>B?{maxlength:{requiredLength:B,actualLength:G.value.length}}:null}(G)}static pattern(G){return function Bt(B){if(!B)return Te;let G,R;return"string"==typeof B?(R="","^"!==B.charAt(0)&&(R+="^"),R+=B,"$"!==B.charAt(B.length-1)&&(R+="$"),G=new RegExp(R)):(R=B.toString(),G=B),ee=>{if(ze(ee.value))return null;const _e=ee.value;return G.test(_e)?null:{pattern:{requiredPattern:R,actualValue:_e}}}}(G)}static nullValidator(G){return null}static compose(G){return Be(G)}static composeAsync(G){return kt(G)}}function Cn(B){return ze(B.value)?{required:!0}:null}function Te(B){return null}function xe(B){return null!=B}function se(B){return(0,p.QGY)(B)?(0,te.D)(B):B}function Re(B){let G={};return B.forEach(R=>{G=null!=R?{...G,...R}:G}),0===Object.keys(G).length?null:G}function Ie(B,G){return G.map(R=>R(B))}function Je(B){return B.map(G=>function tt(B){return!B.validate}(G)?G:R=>G.validate(R))}function Be(B){if(!B)return null;const G=B.filter(xe);return 0==G.length?null:function(R){return Re(Ie(R,G))}}function Ve(B){return null!=B?Be(Je(B)):null}function kt(B){if(!B)return null;const G=B.filter(xe);return 0==G.length?null:function(R){return function oe(...B){const G=(0,ve.jO)(B),{args:R,keys:ee}=(0,ue.D)(B),_e=new ye.y(Nt=>{const{length:gn}=R;if(!gn)return void Nt.complete();const Jr=new Array(gn);let zi=gn,hi=gn;for(let $o=0;$o<gn;$o++){let xi=!1;(0,q.Xf)(R[$o]).subscribe((0,pe.x)(Nt,Oi=>{xi||(xi=!0,hi--),Jr[$o]=Oi},()=>zi--,void 0,()=>{(!zi||!xi)&&(hi||Nt.next(ee?(0,re.n)(ee,Jr):Jr),Nt.complete())}))}});return G?_e.pipe((0,Pe.Z)(G)):_e}(Ie(R,G).map(se)).pipe((0,Ce.U)(Re))}}function bn(B){return null!=B?kt(Je(B)):null}function nn(B,G){return null===B?[G]:Array.isArray(B)?[...B,G]:[B,G]}function $n(B){return B._rawValidators}function Pn(B){return B._rawAsyncValidators}function Nn(B){return B?Array.isArray(B)?B:[B]:[]}function Tn(B,G){return Array.isArray(B)?B.includes(G):B===G}function Et(B,G){const R=Nn(G);return Nn(B).forEach(_e=>{Tn(R,_e)||R.push(_e)}),R}function er(B,G){return Nn(G).filter(R=>!Tn(B,R))}class lr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=Ve(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G=void 0){this.control&&this.control.reset(G)}hasError(G,R){return!!this.control&&this.control.hasError(G,R)}getError(G,R){return this.control?this.control.getError(G,R):null}}class Ht extends lr{get formDirective(){return null}get path(){return null}}class In extends lr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Cr{constructor(G){this._cd=G}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let on=(()=>{class B extends Cr{constructor(R){super(R)}static#e=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(In,2))};static#t=this.\u0275dir=p.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ee,_e){2&ee&&p.ekj("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)},features:[p.qOj]})}return B})(),Ot=(()=>{class B extends Cr{constructor(R){super(R)}static#e=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(Ht,10))};static#t=this.\u0275dir=p.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ee,_e){2&ee&&p.ekj("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)("ng-submitted",_e.isSubmitted)},features:[p.qOj]})}return B})();const ci="VALID",Kn="INVALID",_n="PENDING",vn="DISABLED";function ge(B){return(O(B)?B.validators:B)||null}function L(B,G){return(O(G)?G.asyncValidators:B)||null}function O(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}function ie(B,G,R){const ee=B.controls;if(!(G?Object.keys(ee):ee).length)throw new p.vHH(1e3,"");if(!ee[R])throw new p.vHH(1001,"")}function Ee(B,G,R){B._forEachChild((ee,_e)=>{if(void 0===R[_e])throw new p.vHH(1002,"")})}class nt{constructor(G,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(G),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===ci}get invalid(){return this.status===Kn}get pending(){return this.status==_n}get disabled(){return this.status===vn}get enabled(){return this.status!==vn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(Et(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(Et(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(er(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(er(G,this._rawAsyncValidators))}hasValidator(G){return Tn(this._rawValidators,G)}hasAsyncValidator(G){return Tn(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=_n,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const R=this._parentMarkedDirty(G.onlySelf);this.status=vn,this.errors=null,this._forEachChild(ee=>{ee.disable({...G,onlySelf:!0})}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:R}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(G={}){const R=this._parentMarkedDirty(G.onlySelf);this.status=ci,this._forEachChild(ee=>{ee.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:R}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ci||this.status===_n)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vn:ci}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=_n,this._hasOwnPendingAsyncValidator=!0;const R=se(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,R={}){this.errors=G,this._updateControlsErrors(!1!==R.emitEvent)}get(G){let R=G;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((ee,_e)=>ee&&ee._find(_e),this)}getError(G,R){const ee=R?this.get(R):this;return ee&&ee.errors?ee.errors[G]:null}hasError(G,R){return!!this.getError(G,R)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?vn:this.errors?Kn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_n)?_n:this._anyControlsHaveStatus(Kn)?Kn:ci}_anyControlsHaveStatus(G){return this._anyControls(R=>R.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){O(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function K(B){return Array.isArray(B)?Ve(B):B||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function M(B){return Array.isArray(B)?bn(B):B||null}(this._rawAsyncValidators)}}class ct extends nt{constructor(G,R,ee){super(ge(R),L(ee,R)),this.controls=G,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,R){return this.controls[G]?this.controls[G]:(this.controls[G]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(G,R,ee={}){this.registerControl(G,R),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(G,R={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(G,R,ee={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],R&&this.registerControl(G,R),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,R={}){Ee(this,0,G),Object.keys(G).forEach(ee=>{ie(this,!0,ee),this.controls[ee].setValue(G[ee],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(G,R={}){null!=G&&(Object.keys(G).forEach(ee=>{const _e=this.controls[ee];_e&&_e.patchValue(G[ee],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(G={},R={}){this._forEachChild((ee,_e)=>{ee.reset(G?G[_e]:null,{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(G,R,ee)=>(G[ee]=R.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(R,ee)=>!!ee._syncPendingControls()||R);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(R=>{const ee=this.controls[R];ee&&G(ee,R)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[R,ee]of Object.entries(this.controls))if(this.contains(R)&&G(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,ee,_e)=>((ee.enabled||this.disabled)&&(R[_e]=ee.value),R))}_reduceChildren(G,R){let ee=G;return this._forEachChild((_e,Nt)=>{ee=R(ee,_e,Nt)}),ee}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}class Kt extends ct{}const Xt=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Rr}),Rr="always";function Si(B,G){return[...G.path,B]}function ce(B,G,R=Rr){Ue(B,G),G.valueAccessor.writeValue(B.value),(B.disabled||"always"===R)&&G.valueAccessor.setDisabledState?.(B.disabled),function Mt(B,G){G.valueAccessor.registerOnChange(R=>{B._pendingValue=R,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&dn(B,G)})}(B,G),function _r(B,G){const R=(ee,_e)=>{G.valueAccessor.writeValue(ee),_e&&G.viewToModelUpdate(ee)};B.registerOnChange(R),G._registerOnDestroy(()=>{B._unregisterOnChange(R)})}(B,G),function un(B,G){G.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&dn(B,G),"submit"!==B.updateOn&&B.markAsTouched()})}(B,G),function fe(B,G){if(G.valueAccessor.setDisabledState){const R=ee=>{G.valueAccessor.setDisabledState(ee)};B.registerOnDisabledChange(R),G._registerOnDestroy(()=>{B._unregisterOnDisabledChange(R)})}}(B,G)}function N(B,G,R=!0){const ee=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(ee),G.valueAccessor.registerOnTouched(ee)),rt(B,G),B&&(G._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function J(B,G){B.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(G)})}function Ue(B,G){const R=$n(B);null!==G.validator?B.setValidators(nn(R,G.validator)):"function"==typeof R&&B.setValidators([R]);const ee=Pn(B);null!==G.asyncValidator?B.setAsyncValidators(nn(ee,G.asyncValidator)):"function"==typeof ee&&B.setAsyncValidators([ee]);const _e=()=>B.updateValueAndValidity();J(G._rawValidators,_e),J(G._rawAsyncValidators,_e)}function rt(B,G){let R=!1;if(null!==B){if(null!==G.validator){const _e=$n(B);if(Array.isArray(_e)&&_e.length>0){const Nt=_e.filter(gn=>gn!==G.validator);Nt.length!==_e.length&&(R=!0,B.setValidators(Nt))}}if(null!==G.asyncValidator){const _e=Pn(B);if(Array.isArray(_e)&&_e.length>0){const Nt=_e.filter(gn=>gn!==G.asyncValidator);Nt.length!==_e.length&&(R=!0,B.setAsyncValidators(Nt))}}}const ee=()=>{};return J(G._rawValidators,ee),J(G._rawAsyncValidators,ee),R}function dn(B,G){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function dr(B,G){Ue(B,G)}function di(B,G){if(!B.hasOwnProperty("model"))return!1;const R=B.model;return!!R.isFirstChange()||!Object.is(G,R.currentValue)}function or(B,G){B._syncPendingControls(),G.forEach(R=>{const ee=R.control;"submit"===ee.updateOn&&ee._pendingChange&&(R.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}function Ar(B,G){if(!G)return null;let R,ee,_e;return Array.isArray(G),G.forEach(Nt=>{Nt.constructor===we?R=Nt:function mi(B){return Object.getPrototypeOf(B.constructor)===We}(Nt)?ee=Nt:_e=Nt}),_e||ee||R||null}const yt={provide:Ht,useExisting:(0,p.Gpc)(()=>Yt)},xt=(()=>Promise.resolve())();let Yt=(()=>{class B extends Ht{constructor(R,ee,_e){super(),this.callSetDisabledState=_e,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new ct({},Ve(R),bn(ee))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){xt.then(()=>{const ee=this._findContainer(R.path);R.control=ee.registerControl(R.name,R.control),ce(R.control,R,this.callSetDisabledState),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){xt.then(()=>{const ee=this._findContainer(R.path);ee&&ee.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){xt.then(()=>{const ee=this._findContainer(R.path),_e=new ct({});dr(_e,R),ee.registerControl(R.name,_e),_e.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){xt.then(()=>{const ee=this._findContainer(R.path);ee&&ee.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,ee){xt.then(()=>{this.form.get(R.path).setValue(ee)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submitted=!0,or(this.form,this._directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R=void 0){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}static#e=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(Fe,10),p.Y36(it,10),p.Y36(Xt,8))};static#t=this.\u0275dir=p.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ee,_e){1&ee&&p.NdJ("submit",function(gn){return _e.onSubmit(gn)})("reset",function(){return _e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([yt]),p.qOj]})}return B})();function vr(B,G){const R=B.indexOf(G);R>-1&&B.splice(R,1)}function Vr(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const Br=class extends nt{constructor(G=null,R,ee){super(ge(R),L(ee,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=Vr(G)?G.value:G)}setValue(G,R={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(G,R={}){this.setValue(G,R)}reset(G=this.defaultValue,R={}){this._applyFormState(G),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){vr(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){vr(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){Vr(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}},ps={provide:In,useExisting:(0,p.Gpc)(()=>gs)},Yi=(()=>Promise.resolve())();let gs=(()=>{class B extends In{constructor(R,ee,_e,Nt,gn,Jr){super(),this._changeDetectorRef=gn,this.callSetDisabledState=Jr,this.control=new Br,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=R,this._setValidators(ee),this._setAsyncValidators(_e),this.valueAccessor=Ar(0,Nt)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const ee=R.name.previousValue;this.formDirective.removeControl({name:ee,path:this._getPath(ee)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),di(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ce(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){Yi.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(R){const ee=R.isDisabled.currentValue,_e=0!==ee&&(0,p.VuI)(ee);Yi.then(()=>{_e&&!this.control.disabled?this.control.disable():!_e&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(R){return this._parent?Si(R,this._parent):[R]}static#e=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(Ht,9),p.Y36(Fe,10),p.Y36(it,10),p.Y36(He,10),p.Y36(p.sBO,8),p.Y36(Xt,8))};static#t=this.\u0275dir=p.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([ps]),p.qOj,p.TTD]})}return B})(),mo=(()=>{class B{static#e=this.\u0275fac=function(ee){return new(ee||B)};static#t=this.\u0275dir=p.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return B})(),jr=(()=>{class B{static#e=this.\u0275fac=function(ee){return new(ee||B)};static#t=this.\u0275mod=p.oAB({type:B});static#n=this.\u0275inj=p.cJS({})}return B})();const Gn=new p.OlP("NgModelWithFormControlWarning"),Dr={provide:Ht,useExisting:(0,p.Gpc)(()=>bt)};let bt=(()=>{class B extends Ht{constructor(R,ee,_e){super(),this.callSetDisabledState=_e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(R),this._setAsyncValidators(ee)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const ee=this.form.get(R.path);return ce(ee,R,this.callSetDisabledState),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),ee}getControl(R){return this.form.get(R.path)}removeControl(R){N(R.control||null,R,!1),function zr(B,G){const R=B.indexOf(G);R>-1&&B.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,ee){this.form.get(R.path).setValue(ee)}onSubmit(R){return this.submitted=!0,or(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R=void 0){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const ee=R.control,_e=this.form.get(R.path);ee!==_e&&(N(ee||null,R),(B=>B instanceof Br)(_e)&&(ce(_e,R,this.callSetDisabledState),R.control=_e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const ee=this.form.get(R.path);dr(ee,R),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const ee=this.form.get(R.path);ee&&function ni(B,G){return rt(B,G)}(ee,R)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ue(this.form,this),this._oldForm&&rt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(Fe,10),p.Y36(it,10),p.Y36(Xt,8))};static#t=this.\u0275dir=p.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(ee,_e){1&ee&&p.NdJ("submit",function(gn){return _e.onSubmit(gn)})("reset",function(){return _e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Dr]),p.qOj,p.TTD]})}return B})();const Fi={provide:In,useExisting:(0,p.Gpc)(()=>rr)};let rr=(()=>{class B extends In{set isDisabled(R){}static#e=this._ngModelWarningSentOnce=!1;constructor(R,ee,_e,Nt,gn){super(),this._ngModelWarningConfig=gn,this._added=!1,this.name=null,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(ee),this._setAsyncValidators(_e),this.valueAccessor=Ar(0,Nt)}ngOnChanges(R){this._added||this._setUpControl(),di(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return Si(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(Ht,13),p.Y36(Fe,10),p.Y36(it,10),p.Y36(He,10),p.Y36(Gn,8))};static#n=this.\u0275dir=p.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Fi]),p.qOj,p.TTD]})}return B})();const Hi={provide:He,useExisting:(0,p.Gpc)(()=>oi),multi:!0};function oo(B,G){return null==B?`${G}`:(G&&"object"==typeof G&&(G="Object"),`${B}: ${G}`.slice(0,50))}let oi=(()=>{class B extends We{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){this.value=R;const _e=oo(this._getOptionId(R),R);this.setProperty("value",_e)}registerOnChange(R){this.onChange=ee=>{this.value=this._getOptionValue(ee),R(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(R){for(const ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ee),R))return ee;return null}_getOptionValue(R){const ee=function pn(B){return B.split(":")[0]}(R);return this._optionMap.has(ee)?this._optionMap.get(ee):R}static#e=this.\u0275fac=function(){let R;return function(_e){return(R||(R=p.n5z(B)))(_e||B)}}();static#t=this.\u0275dir=p.lG2({type:B,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(ee,_e){1&ee&&p.NdJ("change",function(gn){return _e.onChange(gn.target.value)})("blur",function(){return _e.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Hi]),p.qOj]})}return B})(),_i=(()=>{class B{constructor(R,ee,_e){this._element=R,this._renderer=ee,this._select=_e,this._select&&(this.id=this._select._registerOption())}set ngValue(R){null!=this._select&&(this._select._optionMap.set(this.id,R),this._setElementValue(oo(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._setElementValue(R),this._select&&this._select.writeValue(this._select.value)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(oi,9))};static#t=this.\u0275dir=p.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return B})();const so={provide:He,useExisting:(0,p.Gpc)(()=>Ti),multi:!0};function Or(B,G){return null==B?`${G}`:("string"==typeof G&&(G=`'${G}'`),G&&"object"==typeof G&&(G="Object"),`${B}: ${G}`.slice(0,50))}let Ti=(()=>{class B extends We{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(R){this._compareWith=R}writeValue(R){let ee;if(this.value=R,Array.isArray(R)){const _e=R.map(Nt=>this._getOptionId(Nt));ee=(Nt,gn)=>{Nt._setSelected(_e.indexOf(gn.toString())>-1)}}else ee=(_e,Nt)=>{_e._setSelected(!1)};this._optionMap.forEach(ee)}registerOnChange(R){this.onChange=ee=>{const _e=[],Nt=ee.selectedOptions;if(void 0!==Nt){const gn=Nt;for(let Jr=0;Jr<gn.length;Jr++){const hi=this._getOptionValue(gn[Jr].value);_e.push(hi)}}else{const gn=ee.options;for(let Jr=0;Jr<gn.length;Jr++){const zi=gn[Jr];if(zi.selected){const hi=this._getOptionValue(zi.value);_e.push(hi)}}}this.value=_e,R(_e)}}_registerOption(R){const ee=(this._idCounter++).toString();return this._optionMap.set(ee,R),ee}_getOptionId(R){for(const ee of this._optionMap.keys())if(this._compareWith(this._optionMap.get(ee)._value,R))return ee;return null}_getOptionValue(R){const ee=function Mi(B){return B.split(":")[0]}(R);return this._optionMap.has(ee)?this._optionMap.get(ee)._value:R}static#e=this.\u0275fac=function(){let R;return function(_e){return(R||(R=p.n5z(B)))(_e||B)}}();static#t=this.\u0275dir=p.lG2({type:B,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(ee,_e){1&ee&&p.NdJ("change",function(gn){return _e.onChange(gn.target)})("blur",function(){return _e.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([so]),p.qOj]})}return B})(),Ao=(()=>{class B{constructor(R,ee,_e){this._element=R,this._renderer=ee,this._select=_e,this._select&&(this.id=this._select._registerOption(this))}set ngValue(R){null!=this._select&&(this._value=R,this._setElementValue(Or(this.id,R)),this._select.writeValue(this._select.value))}set value(R){this._select?(this._value=R,this._setElementValue(Or(this.id,R)),this._select.writeValue(this._select.value)):this._setElementValue(R)}_setElementValue(R){this._renderer.setProperty(this._element.nativeElement,"value",R)}_setSelected(R){this._renderer.setProperty(this._element.nativeElement,"selected",R)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(ee){return new(ee||B)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Ti,9))};static#t=this.\u0275dir=p.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return B})(),si=(()=>{class B{constructor(){this._validator=Te}ngOnChanges(R){if(this.inputName in R){const ee=this.normalizeInput(R[this.inputName].currentValue);this._enabled=this.enabled(ee),this._validator=this._enabled?this.createValidator(ee):Te,this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}enabled(R){return null!=R}static#e=this.\u0275fac=function(ee){return new(ee||B)};static#t=this.\u0275dir=p.lG2({type:B,features:[p.TTD]})}return B})();const ts={provide:Fe,useExisting:(0,p.Gpc)(()=>Sr),multi:!0};let Sr=(()=>{class B extends si{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.VuI,this.createValidator=R=>Cn}enabled(R){return R}static#e=this.\u0275fac=function(){let R;return function(_e){return(R||(R=p.n5z(B)))(_e||B)}}();static#t=this.\u0275dir=p.lG2({type:B,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ee,_e){2&ee&&p.uIk("required",_e._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([ts]),p.qOj]})}return B})(),As=(()=>{class B{static#e=this.\u0275fac=function(ee){return new(ee||B)};static#t=this.\u0275mod=p.oAB({type:B});static#n=this.\u0275inj=p.cJS({imports:[jr]})}return B})();class Mo extends nt{constructor(G,R,ee){super(ge(R),L(ee,R)),this.controls=G,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(G){return this.controls[this._adjustIndex(G)]}push(G,R={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(G,R,ee={}){this.controls.splice(G,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(G,R={}){let ee=this._adjustIndex(G);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(G,R,ee={}){let _e=this._adjustIndex(G);_e<0&&(_e=0),this.controls[_e]&&this.controls[_e]._registerOnCollectionChange(()=>{}),this.controls.splice(_e,1),R&&(this.controls.splice(_e,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,R={}){Ee(this,0,G),G.forEach((ee,_e)=>{ie(this,!1,_e),this.at(_e).setValue(ee,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(G,R={}){null!=G&&(G.forEach((ee,_e)=>{this.at(_e)&&this.at(_e).patchValue(ee,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(G=[],R={}){this._forEachChild((ee,_e)=>{ee.reset(G[_e],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(G=>G.getRawValue())}clear(G={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_adjustIndex(G){return G<0?G+this.length:G}_syncPendingControls(){let G=this.controls.reduce((R,ee)=>!!ee._syncPendingControls()||R,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){this.controls.forEach((R,ee)=>{G(R,ee)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some(R=>R.enabled&&G(R))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}_find(G){return this.at(G)??null}}function yo(B){return!!B&&(void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn)}let Ss=(()=>{class B{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new B;return R.useNonNullable=!0,R}group(R,ee=null){const _e=this._reduceControls(R);let Nt={};return yo(ee)?Nt=ee:null!==ee&&(Nt.validators=ee.validator,Nt.asyncValidators=ee.asyncValidator),new ct(_e,Nt)}record(R,ee=null){const _e=this._reduceControls(R);return new Kt(_e,ee)}control(R,ee,_e){let Nt={};return this.useNonNullable?(yo(ee)?Nt=ee:(Nt.validators=ee,Nt.asyncValidators=_e),new Br(R,{...Nt,nonNullable:!0})):new Br(R,ee,_e)}array(R,ee,_e){const Nt=R.map(gn=>this._createControl(gn));return new Mo(Nt,ee,_e)}_reduceControls(R){const ee={};return Object.keys(R).forEach(_e=>{ee[_e]=this._createControl(R[_e])}),ee}_createControl(R){return R instanceof Br||R instanceof nt?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}static#e=this.\u0275fac=function(ee){return new(ee||B)};static#t=this.\u0275prov=p.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})(),ms=(()=>{class B{static withConfig(R){return{ngModule:B,providers:[{provide:Xt,useValue:R.callSetDisabledState??Rr}]}}static#e=this.\u0275fac=function(ee){return new(ee||B)};static#t=this.\u0275mod=p.oAB({type:B});static#n=this.\u0275inj=p.cJS({imports:[As]})}return B})(),ya=(()=>{class B{static withConfig(R){return{ngModule:B,providers:[{provide:Gn,useValue:R.warnOnNgModelWithFormControl??"always"},{provide:Xt,useValue:R.callSetDisabledState??Rr}]}}static#e=this.\u0275fac=function(ee){return new(ee||B)};static#t=this.\u0275mod=p.oAB({type:B});static#n=this.\u0275inj=p.cJS({imports:[As]})}return B})()},6593:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Dx:()=>In,b2:()=>Tn,q6:()=>nn});var p=F(5879),W=F(6814);class te extends W.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends te{static makeCurrent(){(0,W.HT)(new ye)}onAndCancel(L,M,O){return L.addEventListener(M,O),()=>{L.removeEventListener(M,O)}}dispatchEvent(L,M){L.dispatchEvent(M)}remove(L){L.parentNode&&L.parentNode.removeChild(L)}createElement(L,M){return(M=M||this.getDefaultDocument()).createElement(L)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(L){return L.nodeType===Node.ELEMENT_NODE}isShadowRoot(L){return L instanceof DocumentFragment}getGlobalEventTarget(L,M){return"window"===M?window:"document"===M?L:"body"===M?L.body:null}getBaseHref(L){const M=function q(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==M?null:function pe(K){ve=ve||document.createElement("a"),ve.setAttribute("href",K);const L=ve.pathname;return"/"===L.charAt(0)?L:`/${L}`}(M)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(L){return(0,W.Mx)(document.cookie,L)}}let ve,ue=null,re=(()=>{class K{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(O){return new(O||K)};static#t=this.\u0275prov=p.Yz7({token:K,factory:K.\u0275fac})}return K})();const oe=new p.OlP("EventManagerPlugins");let Ce=(()=>{class K{constructor(M,O){this._zone=O,this._eventNameToPlugin=new Map,M.forEach(ie=>{ie.manager=this}),this._plugins=M.slice().reverse()}addEventListener(M,O,ie){return this._findPluginFor(O).addEventListener(M,O,ie)}getZone(){return this._zone}_findPluginFor(M){let O=this._eventNameToPlugin.get(M);if(O)return O;if(O=this._plugins.find(Ee=>Ee.supports(M)),!O)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(M,O),O}static#e=this.\u0275fac=function(O){return new(O||K)(p.LFG(oe),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:K,factory:K.\u0275fac})}return K})();class Qe{constructor(L){this._doc=L}}const We="ng-app-id";let He=(()=>{class K{constructor(M,O,ie,Ee={}){this.doc=M,this.appId=O,this.nonce=ie,this.platformId=Ee,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,W.PM)(Ee),this.resetHostNodes()}addStyles(M){for(const O of M)1===this.changeUsageCount(O,1)&&this.onStyleAdded(O)}removeStyles(M){for(const O of M)this.changeUsageCount(O,-1)<=0&&this.onStyleRemoved(O)}ngOnDestroy(){const M=this.styleNodesInDOM;M&&(M.forEach(O=>O.remove()),M.clear());for(const O of this.getAllStyles())this.onStyleRemoved(O);this.resetHostNodes()}addHost(M){this.hostNodes.add(M);for(const O of this.getAllStyles())this.addStyleToHost(M,O)}removeHost(M){this.hostNodes.delete(M)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(M){for(const O of this.hostNodes)this.addStyleToHost(O,M)}onStyleRemoved(M){const O=this.styleRef;O.get(M)?.elements?.forEach(ie=>ie.remove()),O.delete(M)}collectServerRenderedStyles(){const M=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(M?.length){const O=new Map;return M.forEach(ie=>{null!=ie.textContent&&O.set(ie.textContent,ie)}),O}return null}changeUsageCount(M,O){const ie=this.styleRef;if(ie.has(M)){const Ee=ie.get(M);return Ee.usage+=O,Ee.usage}return ie.set(M,{usage:O,elements:[]}),O}getStyleElement(M,O){const ie=this.styleNodesInDOM,Ee=ie?.get(O);if(Ee?.parentNode===M)return ie.delete(O),Ee.removeAttribute(We),Ee;{const nt=this.doc.createElement("style");return this.nonce&&nt.setAttribute("nonce",this.nonce),nt.textContent=O,this.platformIsServer&&nt.setAttribute(We,this.appId),nt}}addStyleToHost(M,O){const ie=this.getStyleElement(M,O);M.appendChild(ie);const Ee=this.styleRef,nt=Ee.get(O)?.elements;nt?nt.push(ie):Ee.set(O,{elements:[ie],usage:1})}resetHostNodes(){const M=this.hostNodes;M.clear(),M.add(this.doc.head)}static#e=this.\u0275fac=function(O){return new(O||K)(p.LFG(W.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:K,factory:K.\u0275fac})}return K})();const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pt=/%COMP%/g,ze=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function it(K,L){return L.map(M=>M.replace(pt,K))}let De=(()=>{class K{constructor(M,O,ie,Ee,nt,ct,It,_t=null){this.eventManager=M,this.sharedStylesHost=O,this.appId=ie,this.removeStylesOnCompDestroy=Ee,this.doc=nt,this.platformId=ct,this.ngZone=It,this.nonce=_t,this.rendererByCompId=new Map,this.platformIsServer=(0,W.PM)(ct),this.defaultRenderer=new Rt(M,nt,It,this.platformIsServer)}createRenderer(M,O){if(!M||!O)return this.defaultRenderer;this.platformIsServer&&O.encapsulation===p.ifc.ShadowDom&&(O={...O,encapsulation:p.ifc.Emulated});const ie=this.getOrCreateRenderer(M,O);return ie instanceof st?ie.applyToHost(M):ie instanceof Xn&&ie.applyStyles(),ie}getOrCreateRenderer(M,O){const ie=this.rendererByCompId;let Ee=ie.get(O.id);if(!Ee){const nt=this.doc,ct=this.ngZone,It=this.eventManager,_t=this.sharedStylesHost,Kt=this.removeStylesOnCompDestroy,Dn=this.platformIsServer;switch(O.encapsulation){case p.ifc.Emulated:Ee=new st(It,_t,O,this.appId,Kt,nt,ct,Dn);break;case p.ifc.ShadowDom:return new ln(It,_t,M,O,nt,ct,this.nonce,Dn);default:Ee=new Xn(It,_t,O,Kt,nt,ct,Dn)}ie.set(O.id,Ee)}return Ee}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(O){return new(O||K)(p.LFG(Ce),p.LFG(He),p.LFG(p.AFp),p.LFG(ze),p.LFG(W.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:K,factory:K.\u0275fac})}return K})();class Rt{constructor(L,M,O,ie){this.eventManager=L,this.doc=M,this.ngZone=O,this.platformIsServer=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(L,M){return M?this.doc.createElementNS(et[M]||M,L):this.doc.createElement(L)}createComment(L){return this.doc.createComment(L)}createText(L){return this.doc.createTextNode(L)}appendChild(L,M){(Cn(L)?L.content:L).appendChild(M)}insertBefore(L,M,O){L&&(Cn(L)?L.content:L).insertBefore(M,O)}removeChild(L,M){L&&L.removeChild(M)}selectRootElement(L,M){let O="string"==typeof L?this.doc.querySelector(L):L;if(!O)throw new p.vHH(-5104,!1);return M||(O.textContent=""),O}parentNode(L){return L.parentNode}nextSibling(L){return L.nextSibling}setAttribute(L,M,O,ie){if(ie){M=ie+":"+M;const Ee=et[ie];Ee?L.setAttributeNS(Ee,M,O):L.setAttribute(M,O)}else L.setAttribute(M,O)}removeAttribute(L,M,O){if(O){const ie=et[O];ie?L.removeAttributeNS(ie,M):L.removeAttribute(`${O}:${M}`)}else L.removeAttribute(M)}addClass(L,M){L.classList.add(M)}removeClass(L,M){L.classList.remove(M)}setStyle(L,M,O,ie){ie&(p.JOm.DashCase|p.JOm.Important)?L.style.setProperty(M,O,ie&p.JOm.Important?"important":""):L.style[M]=O}removeStyle(L,M,O){O&p.JOm.DashCase?L.style.removeProperty(M):L.style[M]=""}setProperty(L,M,O){L[M]=O}setValue(L,M){L.nodeValue=M}listen(L,M,O){if("string"==typeof L&&!(L=(0,W.q)().getGlobalEventTarget(this.doc,L)))throw new Error(`Unsupported event target ${L} for event ${M}`);return this.eventManager.addEventListener(L,M,this.decoratePreventDefault(O))}decoratePreventDefault(L){return M=>{if("__ngUnwrap__"===M)return L;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>L(M)):L(M))&&M.preventDefault()}}}function Cn(K){return"TEMPLATE"===K.tagName&&void 0!==K.content}class ln extends Rt{constructor(L,M,O,ie,Ee,nt,ct,It){super(L,Ee,nt,It),this.sharedStylesHost=M,this.hostEl=O,this.shadowRoot=O.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _t=it(ie.id,ie.styles);for(const Kt of _t){const Dn=document.createElement("style");ct&&Dn.setAttribute("nonce",ct),Dn.textContent=Kt,this.shadowRoot.appendChild(Dn)}}nodeOrShadowRoot(L){return L===this.hostEl?this.shadowRoot:L}appendChild(L,M){return super.appendChild(this.nodeOrShadowRoot(L),M)}insertBefore(L,M,O){return super.insertBefore(this.nodeOrShadowRoot(L),M,O)}removeChild(L,M){return super.removeChild(this.nodeOrShadowRoot(L),M)}parentNode(L){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(L)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xn extends Rt{constructor(L,M,O,ie,Ee,nt,ct,It){super(L,Ee,nt,ct),this.sharedStylesHost=M,this.removeStylesOnCompDestroy=ie,this.styles=It?it(It,O.styles):O.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class st extends Xn{constructor(L,M,O,ie,Ee,nt,ct,It){const _t=ie+"-"+O.id;super(L,M,O,Ee,nt,ct,It,_t),this.contentAttr=function Oe(K){return"_ngcontent-%COMP%".replace(pt,K)}(_t),this.hostAttr=function Fe(K){return"_nghost-%COMP%".replace(pt,K)}(_t)}applyToHost(L){this.applyStyles(),this.setAttribute(L,this.hostAttr,"")}createElement(L,M){const O=super.createElement(L,M);return super.setAttribute(O,this.contentAttr,""),O}}let Zt=(()=>{class K extends Qe{constructor(M){super(M)}supports(M){return!0}addEventListener(M,O,ie){return M.addEventListener(O,ie,!1),()=>this.removeEventListener(M,O,ie)}removeEventListener(M,O,ie){return M.removeEventListener(O,ie)}static#e=this.\u0275fac=function(O){return new(O||K)(p.LFG(W.K0))};static#t=this.\u0275prov=p.Yz7({token:K,factory:K.\u0275fac})}return K})();const Bt=["alt","control","meta","shift"],Te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xe={alt:K=>K.altKey,control:K=>K.ctrlKey,meta:K=>K.metaKey,shift:K=>K.shiftKey};let se=(()=>{class K extends Qe{constructor(M){super(M)}supports(M){return null!=K.parseEventName(M)}addEventListener(M,O,ie){const Ee=K.parseEventName(O),nt=K.eventCallback(Ee.fullKey,ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,W.q)().onAndCancel(M,Ee.domEventName,nt))}static parseEventName(M){const O=M.toLowerCase().split("."),ie=O.shift();if(0===O.length||"keydown"!==ie&&"keyup"!==ie)return null;const Ee=K._normalizeKey(O.pop());let nt="",ct=O.indexOf("code");if(ct>-1&&(O.splice(ct,1),nt="code."),Bt.forEach(_t=>{const Kt=O.indexOf(_t);Kt>-1&&(O.splice(Kt,1),nt+=_t+".")}),nt+=Ee,0!=O.length||0===Ee.length)return null;const It={};return It.domEventName=ie,It.fullKey=nt,It}static matchEventFullKeyCode(M,O){let ie=Te[M.key]||M.key,Ee="";return O.indexOf("code.")>-1&&(ie=M.code,Ee="code."),!(null==ie||!ie)&&(ie=ie.toLowerCase()," "===ie?ie="space":"."===ie&&(ie="dot"),Bt.forEach(nt=>{nt!==ie&&(0,xe[nt])(M)&&(Ee+=nt+".")}),Ee+=ie,Ee===O)}static eventCallback(M,O,ie){return Ee=>{K.matchEventFullKeyCode(Ee,M)&&ie.runGuarded(()=>O(Ee))}}static _normalizeKey(M){return"esc"===M?"escape":M}static#e=this.\u0275fac=function(O){return new(O||K)(p.LFG(W.K0))};static#t=this.\u0275prov=p.Yz7({token:K,factory:K.\u0275fac})}return K})();const nn=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:W.bD},{provide:p.g9A,useValue:function Be(){ye.makeCurrent()},multi:!0},{provide:W.K0,useFactory:function kt(){return(0,p.RDi)(document),document},deps:[]}]),$n=new p.OlP(""),Pn=[{provide:p.rWj,useClass:class Pe{addToWindow(L){p.dqk.getAngularTestability=(O,ie=!0)=>{const Ee=L.findTestabilityInTree(O,ie);if(null==Ee)throw new p.vHH(5103,!1);return Ee},p.dqk.getAllAngularTestabilities=()=>L.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>L.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(O=>{const ie=p.dqk.getAllAngularTestabilities();let Ee=ie.length,nt=!1;const ct=function(It){nt=nt||It,Ee--,0==Ee&&O(nt)};ie.forEach(It=>{It.whenStable(ct)})})}findTestabilityInTree(L,M,O){return null==M?null:L.getTestability(M)??(O?(0,W.q)().isShadowRoot(M)?this.findTestabilityInTree(L,M.host,!0):this.findTestabilityInTree(L,M.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],Nn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Ve(){return new p.qLn},deps:[]},{provide:oe,useClass:Zt,multi:!0,deps:[W.K0,p.R0b,p.Lbi]},{provide:oe,useClass:se,multi:!0,deps:[W.K0]},De,He,Ce,{provide:p.FYo,useExisting:De},{provide:W.JF,useClass:re,deps:[]},[]];let Tn=(()=>{class K{constructor(M){}static withServerTransition(M){return{ngModule:K,providers:[{provide:p.AFp,useValue:M.appId}]}}static#e=this.\u0275fac=function(O){return new(O||K)(p.LFG($n,12))};static#t=this.\u0275mod=p.oAB({type:K});static#n=this.\u0275inj=p.cJS({providers:[...Nn,...Pn],imports:[W.ez,p.hGG]})}return K})(),In=(()=>{class K{constructor(M){this._doc=M}getTitle(){return this._doc.title}setTitle(M){this._doc.title=M||""}static#e=this.\u0275fac=function(O){return new(O||K)(p.LFG(W.K0))};static#t=this.\u0275prov=p.Yz7({token:K,factory:function(O){let ie=null;return ie=O?new O:function Ht(){return new In((0,p.LFG)(W.K0))}(),ie},providedIn:"root"})}return K})();typeof window<"u"&&window},9692:(Tt,Ne,F)=>{"use strict";F.d(Ne,{gz:()=>Ln,F0:()=>qr,rH:()=>Hs,Bz:()=>ss,lC:()=>oi});var p=F(5879),W=F(5592),te=F(4674),ue=F(2459),q=F(2096),ve=F(5619),pe=F(7453),Pe=F(2737),re=F(7400),oe=F(4564),Ce=F(2714),Qe=F(8251),We=F(7103);function He(...v){const b=(0,oe.yG)(v),y=(0,oe.jO)(v),{args:A,keys:k}=(0,pe.D)(v);if(0===A.length)return(0,ue.D)([],b);const X=new W.y(function et(v,b,y=Pe.y){return A=>{pt(b,()=>{const{length:k}=v,X=new Array(k);let de=k,qe=k;for(let $e=0;$e<k;$e++)pt(b,()=>{const Vt=(0,ue.D)(v[$e],b);let Bn=!1;Vt.subscribe((0,Qe.x)(A,Yn=>{X[$e]=Yn,Bn||(Bn=!0,qe--),qe||A.next(y(X.slice()))},()=>{--de||A.complete()}))},A)},A)}}(A,b,k?de=>(0,Ce.n)(k,de):Pe.y));return y?X.pipe((0,re.Z)(y)):X}function pt(v,b,y){v?(0,We.f)(y,v,b):b()}var Ke=F(6973),St=F(5211),mt=F(4829);function we(v){return new W.y(b=>{(0,mt.Xf)(v()).subscribe(b)})}var ze=F(8407);function Oe(v,b){const y=(0,te.m)(v)?v:()=>v,A=k=>k.error(y());return new W.y(b?k=>b.schedule(A,0,k):A)}var Fe=F(6232),it=F(7394),De=F(9360);function Rt(){return(0,De.e)((v,b)=>{let y=null;v._refCount++;const A=(0,Qe.x)(b,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(y=null);const k=v._connection,X=y;y=null,k&&(!X||k===X)&&k.unsubscribe(),b.unsubscribe()});v.subscribe(A),A.closed||(y=v.connect())})}class Ut extends W.y{constructor(b,y){super(),this.source=b,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,De.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new it.w0;const y=this.getSubject();b.add(this.source.subscribe((0,Qe.x)(y,void 0,()=>{this._teardown(),y.complete()},A=>{this._teardown(),y.error(A)},()=>this._teardown()))),b.closed&&(this._connection=null,b=it.w0.EMPTY)}return b}refCount(){return Rt()(this)}}var Jt=F(8645),Cn=F(6814),ln=F(7398),Xn=F(4664),st=F(8180),Zt=F(7921),Bt=F(2181),Te=F(1631),xe=F(1374);function se(v,b){return(0,te.m)(b)?(0,Te.z)(v,b,1):(0,Te.z)(v,1)}var Re=F(9397);function Ie(v){return(0,De.e)((b,y)=>{let X,A=null,k=!1;A=b.subscribe((0,Qe.x)(y,void 0,void 0,de=>{X=(0,mt.Xf)(v(de,Ie(v)(b))),A?(A.unsubscribe(),A=null,X.subscribe(y)):k=!0})),k&&(A.unsubscribe(),A=null,X.subscribe(y))})}var tt=F(6699),Je=F(3572);function Be(v){return v<=0?()=>Fe.E:(0,De.e)((b,y)=>{let A=[];b.subscribe((0,Qe.x)(y,k=>{A.push(k),v<A.length&&A.shift()},()=>{for(const k of A)y.next(k);y.complete()},void 0,()=>{A=null}))})}var Ve=F(3026);function nn(v){return(0,De.e)((b,y)=>{try{b.subscribe(y)}finally{y.add(v)}})}var $n=F(2420),Nn=F(7537),Tn=F(6593);const Et="primary",er=Symbol("RouteTitle");class lr{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Ht(v){return new lr(v)}function In(v,b,y){const A=y.path.split("/");if(A.length>v.length||"full"===y.pathMatch&&(b.hasChildren()||A.length<v.length))return null;const k={};for(let X=0;X<A.length;X++){const de=A[X],qe=v[X];if(de.startsWith(":"))k[de.substring(1)]=qe;else if(de!==qe.path)return null}return{consumed:v.slice(0,A.length),posParams:k}}function Hn(v,b){const y=v?Object.keys(v):void 0,A=b?Object.keys(b):void 0;if(!y||!A||y.length!=A.length)return!1;let k;for(let X=0;X<y.length;X++)if(k=y[X],!zt(v[k],b[k]))return!1;return!0}function zt(v,b){if(Array.isArray(v)&&Array.isArray(b)){if(v.length!==b.length)return!1;const y=[...v].sort(),A=[...b].sort();return y.every((k,X)=>A[X]===k)}return v===b}function on(v){return v.length>0?v[v.length-1]:null}function Ot(v){return function ye(v){return!!v&&(v instanceof W.y||(0,te.m)(v.lift)&&(0,te.m)(v.subscribe))}(v)?v:(0,p.QGY)(v)?(0,ue.D)(Promise.resolve(v)):(0,q.of)(v)}const cn={exact:function zn(v,b,y){if(!fn(v.segments,b.segments)||!Wt(v.segments,b.segments,y)||v.numberOfChildren!==b.numberOfChildren)return!1;for(const A in b.children)if(!v.children[A]||!zn(v.children[A],b.children[A],y))return!1;return!0},subset:vt},hn={exact:function sn(v,b){return Hn(v,b)},subset:function Hr(v,b){return Object.keys(b).length<=Object.keys(v).length&&Object.keys(b).every(y=>zt(v[y],b[y]))},ignored:()=>!0};function Pr(v,b,y){return cn[y.paths](v.root,b.root,y.matrixParams)&&hn[y.queryParams](v.queryParams,b.queryParams)&&!("exact"===y.fragment&&v.fragment!==b.fragment)}function vt(v,b,y){return Ci(v,b,b.segments,y)}function Ci(v,b,y,A){if(v.segments.length>y.length){const k=v.segments.slice(0,y.length);return!(!fn(k,y)||b.hasChildren()||!Wt(k,y,A))}if(v.segments.length===y.length){if(!fn(v.segments,y)||!Wt(v.segments,y,A))return!1;for(const k in b.children)if(!v.children[k]||!vt(v.children[k],b.children[k],A))return!1;return!0}{const k=y.slice(0,v.segments.length),X=y.slice(v.segments.length);return!!(fn(v.segments,k)&&Wt(v.segments,k,A)&&v.children[Et])&&Ci(v.children[Et],b,X,A)}}function Wt(v,b,y){return b.every((A,k)=>hn[y](v[k].parameters,A.parameters))}class Rn{constructor(b=new an([],{}),y={},A=null){this.root=b,this.queryParams=y,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ht(this.queryParams)),this._queryParamMap}toString(){return ci.serialize(this)}}class an{constructor(b,y){this.segments=b,this.children=y,this.parent=null,Object.values(y).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kn(this)}}class Lr{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Ht(this.parameters)),this._parameterMap}toString(){return ie(this)}}function fn(v,b){return v.length===b.length&&v.every((y,A)=>y.path===b[A].path)}let tr=(()=>{class v{static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:function(){return new mr},providedIn:"root"})}return v})();class mr{parse(b){const y=new ce(b);return new Rn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${_n(b.root,!0)}`,A=function nt(v){const b=Object.keys(v).map(y=>{const A=v[y];return Array.isArray(A)?A.map(k=>`${ge(y)}=${ge(k)}`).join("&"):`${ge(y)}=${ge(A)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${A}${"string"==typeof b.fragment?`#${function K(v){return encodeURI(v)}(b.fragment)}`:""}`}}const ci=new mr;function Kn(v){return v.segments.map(b=>ie(b)).join("/")}function _n(v,b){if(!v.hasChildren())return Kn(v);if(b){const y=v.children[Et]?_n(v.children[Et],!1):"",A=[];return Object.entries(v.children).forEach(([k,X])=>{k!==Et&&A.push(`${k}:${_n(X,!1)}`)}),A.length>0?`${y}(${A.join("//")})`:y}{const y=function Ur(v,b){let y=[];return Object.entries(v.children).forEach(([A,k])=>{A===Et&&(y=y.concat(b(k,A)))}),Object.entries(v.children).forEach(([A,k])=>{A!==Et&&(y=y.concat(b(k,A)))}),y}(v,(A,k)=>k===Et?[_n(v.children[Et],!1)]:[`${k}:${_n(A,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Et]?`${Kn(v)}/${y[0]}`:`${Kn(v)}/(${y.join("//")})`}}function vn(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ge(v){return vn(v).replace(/%3B/gi,";")}function L(v){return vn(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M(v){return decodeURIComponent(v)}function O(v){return M(v.replace(/\+/g,"%20"))}function ie(v){return`${L(v.path)}${function Ee(v){return Object.keys(v).map(b=>`;${L(b)}=${L(v[b])}`).join("")}(v.parameters)}`}const ct=/^[^\/()?;#]+/;function It(v){const b=v.match(ct);return b?b[0]:""}const _t=/^[^\/()?;=#]+/,Dn=/^[^=?&#]+/,Rr=/^[^&#]+/;class ce{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(A[Et]=new an(b,y)),A}parseSegment(){const b=It(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(b),new Lr(M(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=function Kt(v){const b=v.match(_t);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const k=It(this.remaining);k&&(A=k,this.capture(A))}b[M(y)]=M(A)}parseQueryParam(b){const y=function Xt(v){const b=v.match(Dn);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const de=function Si(v){const b=v.match(Rr);return b?b[0]:""}(this.remaining);de&&(A=de,this.capture(A))}const k=O(y),X=O(A);if(b.hasOwnProperty(k)){let de=b[k];Array.isArray(de)||(de=[de],b[k]=de),de.push(X)}else b[k]=X}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=It(this.remaining),k=this.remaining[A.length];if("/"!==k&&")"!==k&&";"!==k)throw new p.vHH(4010,!1);let X;A.indexOf(":")>-1?(X=A.slice(0,A.indexOf(":")),this.capture(X),this.capture(":")):b&&(X=Et);const de=this.parseChildren();y[X]=1===Object.keys(de).length?de[Et]:new an([],de),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new p.vHH(4011,!1)}}function N(v){return v.segments.length>0?new an([],{[Et]:v}):v}function J(v){const b={};for(const A of Object.keys(v.children)){const X=J(v.children[A]);if(A===Et&&0===X.segments.length&&X.hasChildren())for(const[de,qe]of Object.entries(X.children))b[de]=qe;else(X.segments.length>0||X.hasChildren())&&(b[A]=X)}return function fe(v){if(1===v.numberOfChildren&&v.children[Et]){const b=v.children[Et];return new an(v.segments.concat(b.segments),b.children)}return v}(new an(v.segments,b))}function Ue(v){return v instanceof Rn}function Mt(v){let b;const k=N(function y(X){const de={};for(const $e of X.children){const Vt=y($e);de[$e.outlet]=Vt}const qe=new an(X.url,de);return X===v&&(b=qe),qe}(v.root));return b??k}function un(v,b,y,A){let k=v;for(;k.parent;)k=k.parent;if(0===b.length)return dr(k,k,k,y,A);const X=function Vo(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new hr(!0,0,v);let b=0,y=!1;const A=v.reduce((k,X,de)=>{if("object"==typeof X&&null!=X){if(X.outlets){const qe={};return Object.entries(X.outlets).forEach(([$e,Vt])=>{qe[$e]="string"==typeof Vt?Vt.split("/"):Vt}),[...k,{outlets:qe}]}if(X.segmentPath)return[...k,X.segmentPath]}return"string"!=typeof X?[...k,X]:0===de?(X.split("/").forEach((qe,$e)=>{0==$e&&"."===qe||(0==$e&&""===qe?y=!0:".."===qe?b++:""!=qe&&k.push(qe))}),k):[...k,X]},[]);return new hr(y,b,A)}(b);if(X.toRoot())return dr(k,k,new an([],{}),y,A);const de=function Pi(v,b,y){if(v.isAbsolute)return new ri(b,!0,0);if(!y)return new ri(b,!1,NaN);if(null===y.parent)return new ri(y,!0,0);const A=dn(v.commands[0])?0:1;return function kn(v,b,y){let A=v,k=b,X=y;for(;X>k;){if(X-=k,A=A.parent,!A)throw new p.vHH(4005,!1);k=A.segments.length}return new ri(A,!1,k-X)}(y,y.segments.length-1+A,v.numberOfDoubleDots)}(X,k,v),qe=de.processChildren?or(de.segmentGroup,de.index,X.commands):mi(de.segmentGroup,de.index,X.commands);return dr(k,de.segmentGroup,qe,y,A)}function dn(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function _r(v){return"object"==typeof v&&null!=v&&v.outlets}function dr(v,b,y,A,k){let de,X={};A&&Object.entries(A).forEach(([$e,Vt])=>{X[$e]=Array.isArray(Vt)?Vt.map(Bn=>`${Bn}`):`${Vt}`}),de=v===b?y:ni(v,b,y);const qe=N(J(de));return new Rn(qe,X,k)}function ni(v,b,y){const A={};return Object.entries(v.children).forEach(([k,X])=>{A[k]=X===b?y:ni(X,b,y)}),new an(v.segments,A)}class hr{constructor(b,y,A){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=A,b&&A.length>0&&dn(A[0]))throw new p.vHH(4003,!1);const k=A.find(_r);if(k&&k!==on(A))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ri{constructor(b,y,A){this.segmentGroup=b,this.processChildren=y,this.index=A}}function mi(v,b,y){if(v||(v=new an([],{})),0===v.segments.length&&v.hasChildren())return or(v,b,y);const A=function Ar(v,b,y){let A=0,k=b;const X={match:!1,pathIndex:0,commandIndex:0};for(;k<v.segments.length;){if(A>=y.length)return X;const de=v.segments[k],qe=y[A];if(_r(qe))break;const $e=`${qe}`,Vt=A<y.length-1?y[A+1]:null;if(k>0&&void 0===$e)break;if($e&&Vt&&"object"==typeof Vt&&void 0===Vt.outlets){if(!xt($e,Vt,de))return X;A+=2}else{if(!xt($e,{},de))return X;A++}k++}return{match:!0,pathIndex:k,commandIndex:A}}(v,b,y),k=y.slice(A.commandIndex);if(A.match&&A.pathIndex<v.segments.length){const X=new an(v.segments.slice(0,A.pathIndex),{});return X.children[Et]=new an(v.segments.slice(A.pathIndex),v.children),or(X,0,k)}return A.match&&0===k.length?new an(v.segments,{}):A.match&&!v.hasChildren()?zr(v,b,y):A.match?or(v,0,k):zr(v,b,y)}function or(v,b,y){if(0===y.length)return new an(v.segments,{});{const A=function di(v){return _r(v[0])?v[0].outlets:{[Et]:v}}(y),k={};if(Object.keys(A).some(X=>X!==Et)&&v.children[Et]&&1===v.numberOfChildren&&0===v.children[Et].segments.length){const X=or(v.children[Et],b,y);return new an(v.segments,X.children)}return Object.entries(A).forEach(([X,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(k[X]=mi(v.children[X],b,de))}),Object.entries(v.children).forEach(([X,de])=>{void 0===A[X]&&(k[X]=de)}),new an(v.segments,k)}}function zr(v,b,y){const A=v.segments.slice(0,b);let k=0;for(;k<y.length;){const X=y[k];if(_r(X)){const $e=dt(X.outlets);return new an(A,$e)}if(0===k&&dn(y[0])){A.push(new Lr(v.segments[b].path,yt(y[0]))),k++;continue}const de=_r(X)?X.outlets[Et]:`${X}`,qe=k<y.length-1?y[k+1]:null;de&&qe&&dn(qe)?(A.push(new Lr(de,yt(qe))),k+=2):(A.push(new Lr(de,{})),k++)}return new an(A,{})}function dt(v){const b={};return Object.entries(v).forEach(([y,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(b[y]=zr(new an([],{}),0,A))}),b}function yt(v){const b={};return Object.entries(v).forEach(([y,A])=>b[y]=`${A}`),b}function xt(v,b,y){return v==y.path&&Hn(b,y.parameters)}const Yt="imperative";class vr{constructor(b,y){this.id=b,this.url=y}}class Vr extends vr{constructor(b,y,A="imperative",k=null){super(b,y),this.type=0,this.navigationTrigger=A,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Br extends vr{constructor(b,y,A){super(b,y),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ji extends vr{constructor(b,y,A,k){super(b,y),this.reason=A,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ii extends vr{constructor(b,y,A,k){super(b,y),this.reason=A,this.code=k,this.type=16}}class $i extends vr{constructor(b,y,A,k){super(b,y),this.error=A,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Do extends vr{constructor(b,y,A,k){super(b,y),this.urlAfterRedirects=A,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nr extends vr{constructor(b,y,A,k){super(b,y),this.urlAfterRedirects=A,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ma extends vr{constructor(b,y,A,k,X){super(b,y),this.urlAfterRedirects=A,this.state=k,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fs extends vr{constructor(b,y,A,k){super(b,y),this.urlAfterRedirects=A,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ls extends vr{constructor(b,y,A,k){super(b,y),this.urlAfterRedirects=A,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uo{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ps{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yi{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(b,y,A){this.routerEvent=b,this.position=y,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fn{}class Zr{constructor(b){this.url=b}}class yi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gr,this.attachRef=null}}let Gr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(y,A){const k=this.getOrCreateContext(y);k.outlet=A,this.contexts.set(y,k)}onChildOutletDestroyed(y){const A=this.getContext(y);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let A=this.getContext(y);return A||(A=new yi,this.contexts.set(y,A)),A}getContext(y){return this.contexts.get(y)||null}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class To{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=es(b,this._root);return y?y.children.map(A=>A.value):[]}firstChild(b){const y=es(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=Gn(b,this._root);return y.length<2?[]:y[y.length-2].children.map(k=>k.value).filter(k=>k!==b)}pathFromRoot(b){return Gn(b,this._root).map(y=>y.value)}}function es(v,b){if(v===b.value)return b;for(const y of b.children){const A=es(v,y);if(A)return A}return null}function Gn(v,b){if(v===b.value)return[b];for(const y of b.children){const A=Gn(v,y);if(A.length)return A.unshift(b),A}return[]}class Di{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function bi(v){const b={};return v&&v.children.forEach(y=>b[y.value.outlet]=y),b}class Dr extends To{constructor(b,y){super(b),this.snapshot=y,rr(this,b)}toString(){return this.snapshot.toString()}}function bt(v,b){const y=function yn(v,b){const de=new Kr([],{},{},"",{},Et,b,null,{});return new Fi("",new Di(de,[]))}(0,b),A=new ve.X([new Lr("",{})]),k=new ve.X({}),X=new ve.X({}),de=new ve.X({}),qe=new ve.X(""),$e=new Ln(A,k,de,qe,X,Et,b,y.root);return $e.snapshot=y.root,new Dr(new Di($e,[]),y)}class Ln{constructor(b,y,A,k,X,de,qe,$e){this.urlSubject=b,this.paramsSubject=y,this.queryParamsSubject=A,this.fragmentSubject=k,this.dataSubject=X,this.outlet=de,this.component=qe,this._futureSnapshot=$e,this.title=this.dataSubject?.pipe((0,ln.U)(Vt=>Vt[er]))??(0,q.of)(void 0),this.url=b,this.params=y,this.queryParams=A,this.fragment=k,this.data=X}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ln.U)(b=>Ht(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ln.U)(b=>Ht(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ri(v,b="emptyOnly"){const y=v.pathFromRoot;let A=0;if("always"!==b)for(A=y.length-1;A>=1;){const k=y[A],X=y[A-1];if(k.routeConfig&&""===k.routeConfig.path)A--;else{if(X.component)break;A--}}return function io(v){return v.reduce((b,y)=>({params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(A))}class Kr{get title(){return this.data?.[er]}constructor(b,y,A,k,X,de,qe,$e,Vt){this.url=b,this.params=y,this.queryParams=A,this.fragment=k,this.data=X,this.outlet=de,this.component=qe,this.routeConfig=$e,this._resolve=Vt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ht(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ht(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fi extends To{constructor(b,y){super(y),this.url=b,rr(this,y)}toString(){return Hi(this._root)}}function rr(v,b){b.value._routerState=v,b.children.forEach(y=>rr(v,y))}function Hi(v){const b=v.children.length>0?` { ${v.children.map(Hi).join(", ")} } `:"";return`${v.value}${b}`}function oo(v){if(v.snapshot){const b=v.snapshot,y=v._futureSnapshot;v.snapshot=y,Hn(b.queryParams,y.queryParams)||v.queryParamsSubject.next(y.queryParams),b.fragment!==y.fragment&&v.fragmentSubject.next(y.fragment),Hn(b.params,y.params)||v.paramsSubject.next(y.params),function Cr(v,b){if(v.length!==b.length)return!1;for(let y=0;y<v.length;++y)if(!Hn(v[y],b[y]))return!1;return!0}(b.url,y.url)||v.urlSubject.next(y.url),Hn(b.data,y.data)||v.dataSubject.next(y.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function pn(v,b){const y=Hn(v.params,b.params)&&function An(v,b){return fn(v,b)&&v.every((y,A)=>Hn(y.parameters,b[A].parameters))}(v.url,b.url);return y&&!(!v.parent!=!b.parent)&&(!v.parent||pn(v.parent,b.parent))}let oi=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Gr),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(so,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:A,previousValue:k}=y.name;if(A)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,A){this.activated=y,this._activatedRoute=A,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,A){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=y;const k=this.location,de=y.snapshot.component,qe=this.parentContexts.getOrCreateContext(this.name).children,$e=new _i(y,qe,k.injector);this.activated=k.createComponent(de,{index:k.length,injector:$e,environmentInjector:A??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275dir=p.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return v})();class _i{constructor(b,y,A){this.route=b,this.childContexts=y,this.parent=A}get(b,y){return b===Ln?this.route:b===Gr?this.childContexts:this.parent.get(b,y)}}const so=new p.OlP("");let Or=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:A}=y,k=He([A.queryParams,A.params,A.data]).pipe((0,Xn.w)(([X,de,qe],$e)=>(qe={...X,...de,...qe},0===$e?(0,q.of)(qe):Promise.resolve(qe)))).subscribe(X=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(y);const de=(0,p.qFp)(A.component);if(de)for(const{templateName:qe}of de.inputs)y.activatedComponentRef.setInput(qe,X[qe]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,k)}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac})}return v})();function ao(v,b,y){if(y&&v.shouldReuseRoute(b.value,y.value.snapshot)){const A=y.value;A._futureSnapshot=b.value;const k=function Ti(v,b,y){return b.children.map(A=>{for(const k of y.children)if(v.shouldReuseRoute(A.value,k.value.snapshot))return ao(v,A,k);return ao(v,A)})}(v,b,y);return new Di(A,k)}{if(v.shouldAttach(b.value)){const X=v.retrieve(b.value);if(null!==X){const de=X.route;return de.value._futureSnapshot=b.value,de.children=b.children.map(qe=>ao(v,qe)),de}}const A=function Ao(v){return new Ln(new ve.X(v.url),new ve.X(v.params),new ve.X(v.queryParams),new ve.X(v.fragment),new ve.X(v.data),v.outlet,v.component,v)}(b.value),k=b.children.map(X=>ao(v,X));return new Di(A,k)}}const So="ngNavigationCancelingError";function Qi(v,b){const{redirectTo:y,navigationBehaviorOptions:A}=Ue(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,k=si(!1,0,b);return k.url=y,k.navigationBehaviorOptions=A,k}function si(v,b,y){const A=new Error("NavigationCancelingError: "+(v||""));return A[So]=!0,A.cancellationCode=b,y&&(A.url=y),A}function Ji(v){return v&&v[So]}let Mn=(()=>{class v{static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275cmp=p.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(A,k){1&A&&p._UZ(0,"router-outlet")},dependencies:[oi],encapsulation:2})}return v})();function Vn(v){const b=v.children&&v.children.map(Vn),y=b?{...v,children:b}:{...v};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==Et&&(y.component=Mn),y}function wr(v){return v.outlet||Et}function Xi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let b=v.parent;b;b=b.parent){const y=b.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class rs{constructor(b,y,A,k,X){this.routeReuseStrategy=b,this.futureState=y,this.currState=A,this.forwardEvent=k,this.inputBindingEnabled=X}activate(b){const y=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,A,b),oo(this.futureState.root),this.activateChildRoutes(y,A,b)}deactivateChildRoutes(b,y,A){const k=bi(y);b.children.forEach(X=>{const de=X.value.outlet;this.deactivateRoutes(X,k[de],A),delete k[de]}),Object.values(k).forEach(X=>{this.deactivateRouteAndItsChildren(X,A)})}deactivateRoutes(b,y,A){const k=b.value,X=y?y.value:null;if(k===X)if(k.component){const de=A.getContext(k.outlet);de&&this.deactivateChildRoutes(b,y,de.children)}else this.deactivateChildRoutes(b,y,A);else X&&this.deactivateRouteAndItsChildren(y,A)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const A=y.getContext(b.value.outlet),k=A&&b.value.component?A.children:y,X=bi(b);for(const de of Object.keys(X))this.deactivateRouteAndItsChildren(X[de],k);if(A&&A.outlet){const de=A.outlet.detach(),qe=A.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:de,route:b,contexts:qe})}}deactivateRouteAndOutlet(b,y){const A=y.getContext(b.value.outlet),k=A&&b.value.component?A.children:y,X=bi(b);for(const de of Object.keys(X))this.deactivateRouteAndItsChildren(X[de],k);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(b,y,A){const k=bi(y);b.children.forEach(X=>{this.activateRoutes(X,k[X.value.outlet],A),this.forwardEvent(new Vs(X.value.snapshot))}),b.children.length&&this.forwardEvent(new gs(b.value.snapshot))}activateRoutes(b,y,A){const k=b.value,X=y?y.value:null;if(oo(k),k===X)if(k.component){const de=A.getOrCreateContext(k.outlet);this.activateChildRoutes(b,y,de.children)}else this.activateChildRoutes(b,y,A);else if(k.component){const de=A.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const qe=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),de.children.onOutletReAttached(qe.contexts),de.attachRef=qe.componentRef,de.route=qe.route.value,de.outlet&&de.outlet.attach(qe.componentRef,qe.route.value),oo(qe.route.value),this.activateChildRoutes(b,null,de.children)}else{const qe=Xi(k.snapshot);de.attachRef=null,de.route=k,de.injector=qe,de.outlet&&de.outlet.activateWith(k,de.injector),this.activateChildRoutes(b,null,de.children)}}else this.activateChildRoutes(b,null,A)}}class As{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Mo{constructor(b,y){this.component=b,this.route=y}}function ma(v,b,y){const A=v._root;return Ss(A,b?b._root:null,y,[A.value])}function yo(v,b){const y=Symbol(),A=b.get(v,y);return A===y?"function"!=typeof v||(0,p.Z0I)(v)?b.get(v):v:A}function Ss(v,b,y,A,k={canDeactivateChecks:[],canActivateChecks:[]}){const X=bi(b);return v.children.forEach(de=>{(function Xs(v,b,y,A,k={canDeactivateChecks:[],canActivateChecks:[]}){const X=v.value,de=b?b.value:null,qe=y?y.getContext(v.value.outlet):null;if(de&&X.routeConfig===de.routeConfig){const $e=function Ps(v,b,y){if("function"==typeof y)return y(v,b);switch(y){case"pathParamsChange":return!fn(v.url,b.url);case"pathParamsOrQueryParamsChange":return!fn(v.url,b.url)||!Hn(v.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pn(v,b)||!Hn(v.queryParams,b.queryParams);default:return!pn(v,b)}}(de,X,X.routeConfig.runGuardsAndResolvers);$e?k.canActivateChecks.push(new As(A)):(X.data=de.data,X._resolvedData=de._resolvedData),Ss(v,b,X.component?qe?qe.children:null:y,A,k),$e&&qe&&qe.outlet&&qe.outlet.isActivated&&k.canDeactivateChecks.push(new Mo(qe.outlet.component,de))}else de&&sr(b,qe,k),k.canActivateChecks.push(new As(A)),Ss(v,null,X.component?qe?qe.children:null:y,A,k)})(de,X[de.value.outlet],y,A.concat([de.value]),k),delete X[de.value.outlet]}),Object.entries(X).forEach(([de,qe])=>sr(qe,y.getContext(de),k)),k}function sr(v,b,y){const A=bi(v),k=v.value;Object.entries(A).forEach(([X,de])=>{sr(de,k.component?b?b.children.getContext(X):null:b,y)}),y.canDeactivateChecks.push(new Mo(k.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,k))}function ms(v){return"function"==typeof v}function Jr(v){return v instanceof Ke.K||"EmptyError"===v?.name}const zi=Symbol("INITIAL_VALUE");function hi(){return(0,Xn.w)(v=>He(v.map(b=>b.pipe((0,st.q)(1),(0,Zt.O)(zi)))).pipe((0,ln.U)(b=>{for(const y of b)if(!0!==y){if(y===zi)return zi;if(!1===y||y instanceof Rn)return y}return!0}),(0,Bt.h)(b=>b!==zi),(0,st.q)(1)))}function Go(v){return(0,ze.z)((0,Re.b)(b=>{if(Ue(b))throw Qi(0,b)}),(0,ln.U)(b=>!0===b))}class Wo{constructor(b){this.segmentGroup=b||null}}class os{constructor(b){this.urlTree=b}}function Gi(v){return Oe(new Wo(v))}function Rs(v){return Oe(new os(v))}class br{constructor(b,y){this.urlSerializer=b,this.urlTree=y}noMatchError(b){return new p.vHH(4002,!1)}lineralizeSegments(b,y){let A=[],k=y.root;for(;;){if(A=A.concat(k.segments),0===k.numberOfChildren)return(0,q.of)(A);if(k.numberOfChildren>1||!k.children[Et])return Oe(new p.vHH(4e3,!1));k=k.children[Et]}}applyRedirectCommands(b,y,A){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,A)}applyRedirectCreateUrlTree(b,y,A,k){const X=this.createSegmentGroup(b,y.root,A,k);return new Rn(X,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const A={};return Object.entries(b).forEach(([k,X])=>{if("string"==typeof X&&X.startsWith(":")){const qe=X.substring(1);A[k]=y[qe]}else A[k]=X}),A}createSegmentGroup(b,y,A,k){const X=this.createSegments(b,y.segments,A,k);let de={};return Object.entries(y.children).forEach(([qe,$e])=>{de[qe]=this.createSegmentGroup(b,$e,A,k)}),new an(X,de)}createSegments(b,y,A,k){return y.map(X=>X.path.startsWith(":")?this.findPosParam(b,X,k):this.findOrReturn(X,A))}findPosParam(b,y,A){const k=A[y.path.substring(1)];if(!k)throw new p.vHH(4001,!1);return k}findOrReturn(b,y){let A=0;for(const k of y){if(k.path===b.path)return y.splice(A),k;A++}return b}}const Bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ms(v,b,y,A,k){const X=wi(v,b,y);return X.matched?(A=function jo(v,b){return v.providers&&!v._injector&&(v._injector=(0,p.MMx)(v.providers,b,`Route: ${v.path}`)),v._injector??b}(b,A),function Ni(v,b,y,A){const k=b.canMatch;if(!k||0===k.length)return(0,q.of)(!0);const X=k.map(de=>{const qe=yo(de,v);return Ot(function _e(v){return v&&ms(v.canMatch)}(qe)?qe.canMatch(b,y):v.runInContext(()=>qe(b,y)))});return(0,q.of)(X).pipe(hi(),Go())}(A,b,y).pipe((0,ln.U)(de=>!0===de?X:{...Bs}))):(0,q.of)(X)}function wi(v,b,y){if(""===b.path)return"full"===b.pathMatch&&(v.hasChildren()||y.length>0)?{...Bs}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const k=(b.matcher||In)(y,v,b);if(!k)return{...Bs};const X={};Object.entries(k.posParams??{}).forEach(([qe,$e])=>{X[qe]=$e.path});const de=k.consumed.length>0?{...X,...k.consumed[k.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:k.consumed,remainingSegments:y.slice(k.consumed.length),parameters:de,positionalParamSegments:k.posParams??{}}}function qo(v,b,y,A){return y.length>0&&function js(v,b,y){return y.some(A=>to(v,b,A)&&wr(A)!==Et)}(v,y,A)?{segmentGroup:new an(b,Os(A,new an(y,v.children))),slicedSegments:[]}:0===y.length&&function Su(v,b,y){return y.some(A=>to(v,b,A))}(v,y,A)?{segmentGroup:new an(v.segments,xs(v,0,y,A,v.children)),slicedSegments:y}:{segmentGroup:new an(v.segments,v.children),slicedSegments:y}}function xs(v,b,y,A,k){const X={};for(const de of A)if(to(v,y,de)&&!k[wr(de)]){const qe=new an([],{});X[wr(de)]=qe}return{...k,...X}}function Os(v,b){const y={};y[Et]=b;for(const A of v)if(""===A.path&&wr(A)!==Et){const k=new an([],{});y[wr(A)]=k}return y}function to(v,b,y){return(!(v.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}class $s{constructor(b,y,A,k,X,de,qe){this.injector=b,this.configLoader=y,this.rootComponentType=A,this.config=k,this.urlTree=X,this.paramsInheritanceStrategy=de,this.urlSerializer=qe,this.allowRedirects=!0,this.applyRedirects=new br(this.urlSerializer,this.urlTree)}noMatchError(b){return new p.vHH(4002,!1)}recognize(){const b=qo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,Et).pipe(Ie(y=>{if(y instanceof os)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof Wo?this.noMatchError(y):y}),(0,ln.U)(y=>{const A=new Kr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,{}),k=new Di(A,y),X=new Fi("",k),de=function rt(v,b,y=null,A=null){return un(Mt(v),b,y,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return de.queryParams=this.urlTree.queryParams,X.url=this.urlSerializer.serialize(de),this.inheritParamsAndData(X._root),{state:X,tree:de}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,Et).pipe(Ie(A=>{throw A instanceof Wo?this.noMatchError(A):A}))}inheritParamsAndData(b){const y=b.value,A=Ri(y,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),b.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(b,y,A,k){return 0===A.segments.length&&A.hasChildren()?this.processChildren(b,y,A):this.processSegment(b,y,A,A.segments,k,!0)}processChildren(b,y,A){const k=[];for(const X of Object.keys(A.children))"primary"===X?k.unshift(X):k.push(X);return(0,ue.D)(k).pipe(se(X=>{const de=A.children[X],qe=function Ro(v,b){const y=v.filter(A=>wr(A)===b);return y.push(...v.filter(A=>wr(A)!==b)),y}(y,X);return this.processSegmentGroup(b,qe,de,X)}),(0,tt.R)((X,de)=>(X.push(...de),X)),(0,Je.d)(null),function kt(v,b){const y=arguments.length>=2;return A=>A.pipe(v?(0,Bt.h)((k,X)=>v(k,X,A)):Pe.y,Be(1),y?(0,Je.d)(b):(0,Ve.T)(()=>new Ke.K))}(),(0,Te.z)(X=>{if(null===X)return Gi(A);const de=ou(X);return function ea(v){v.sort((b,y)=>b.value.outlet===Et?-1:y.value.outlet===Et?1:b.value.outlet.localeCompare(y.value.outlet))}(de),(0,q.of)(de)}))}processSegment(b,y,A,k,X,de){return(0,ue.D)(y).pipe(se(qe=>this.processSegmentAgainstRoute(qe._injector??b,y,qe,A,k,X,de).pipe(Ie($e=>{if($e instanceof Wo)return(0,q.of)(null);throw $e}))),(0,xe.P)(qe=>!!qe),Ie(qe=>{if(Jr(qe))return function Vi(v,b,y){return 0===b.length&&!v.children[y]}(A,k,X)?(0,q.of)([]):Gi(A);throw qe}))}processSegmentAgainstRoute(b,y,A,k,X,de,qe){return function _o(v,b,y,A){return!!(wr(v)===A||A!==Et&&to(b,y,v))&&("**"===v.path||wi(b,v,y).matched)}(A,k,X,de)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(b,k,A,X,de,qe):qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,k,y,A,X,de):Gi(k):Gi(k)}expandSegmentAgainstRouteUsingRedirect(b,y,A,k,X,de){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,A,k,de):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,A,k,X,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,A,k){const X=this.applyRedirects.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Rs(X):this.applyRedirects.lineralizeSegments(A,X).pipe((0,Te.z)(de=>{const qe=new an(de,{});return this.processSegment(b,y,qe,de,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,A,k,X,de){const{matched:qe,consumedSegments:$e,remainingSegments:Vt,positionalParamSegments:Bn}=wi(y,k,X);if(!qe)return Gi(y);const Yn=this.applyRedirects.applyRedirectCommands($e,k.redirectTo,Bn);return k.redirectTo.startsWith("/")?Rs(Yn):this.applyRedirects.lineralizeSegments(k,Yn).pipe((0,Te.z)(Wn=>this.processSegment(b,A,y,Wn.concat(Vt),de,!1)))}matchSegmentAgainstRoute(b,y,A,k,X,de){let qe;if("**"===A.path){const $e=k.length>0?on(k).parameters:{},Vt=new Kr(k,$e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,su(A),wr(A),A.component??A._loadedComponent??null,A,C(A));qe=(0,q.of)({snapshot:Vt,consumedSegments:[],remainingSegments:[]}),y.children={}}else qe=Ms(y,A,k,b).pipe((0,ln.U)(({matched:$e,consumedSegments:Vt,remainingSegments:Bn,parameters:Yn})=>$e?{snapshot:new Kr(Vt,Yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,su(A),wr(A),A.component??A._loadedComponent??null,A,C(A)),consumedSegments:Vt,remainingSegments:Bn}:null));return qe.pipe((0,Xn.w)($e=>null===$e?Gi(y):this.getChildConfig(b=A._injector??b,A,k).pipe((0,Xn.w)(({routes:Vt})=>{const Bn=A._loadedInjector??b,{snapshot:Yn,consumedSegments:Wn,remainingSegments:xr}=$e,{segmentGroup:Na,slicedSegments:uu}=qo(y,Wn,xr,Vt);if(0===uu.length&&Na.hasChildren())return this.processChildren(Bn,Vt,Na).pipe((0,ln.U)(Ia=>null===Ia?null:[new Di(Yn,Ia)]));if(0===Vt.length&&0===uu.length)return(0,q.of)([new Di(Yn,[])]);const Mu=wr(A)===X;return this.processSegment(Bn,Vt,Na,uu,Mu?Et:X,!0).pipe((0,ln.U)(Ia=>[new Di(Yn,Ia)]))}))))}getChildConfig(b,y,A){return y.children?(0,q.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,q.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function zo(v,b,y,A){const k=b.canLoad;if(void 0===k||0===k.length)return(0,q.of)(!0);const X=k.map(de=>{const qe=yo(de,v);return Ot(function B(v){return v&&ms(v.canLoad)}(qe)?qe.canLoad(b,y):v.runInContext(()=>qe(b,y)))});return(0,q.of)(X).pipe(hi(),Go())}(b,y,A).pipe((0,Te.z)(k=>k?this.configLoader.loadChildren(b,y).pipe((0,Re.b)(X=>{y._loadedRoutes=X.routes,y._loadedInjector=X.injector})):function Us(v){return Oe(si(!1,3))}())):(0,q.of)({routes:[],injector:b})}}function _s(v){const b=v.value.routeConfig;return b&&""===b.path}function ou(v){const b=[],y=new Set;for(const A of v){if(!_s(A)){b.push(A);continue}const k=b.find(X=>A.value.routeConfig===X.value.routeConfig);void 0!==k?(k.children.push(...A.children),y.add(k)):b.push(A)}for(const A of y){const k=ou(A.children);b.push(new Di(A.value,k))}return b.filter(A=>!y.has(A))}function su(v){return v.data||{}}function C(v){return v.resolve||{}}function Qt(v){return"string"==typeof v.title||null===v.title}function fr(v){return(0,Xn.w)(b=>{const y=v(b);return y?(0,ue.D)(y).pipe((0,ln.U)(()=>b)):(0,q.of)(b)})}const jn=new p.OlP("ROUTES");let cr=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,q.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const A=Ot(y.loadComponent()).pipe((0,ln.U)(ar),(0,Re.b)(X=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=X}),nn(()=>{this.componentLoaders.delete(y)})),k=new Ut(A,()=>new Jt.x).pipe(Rt());return this.componentLoaders.set(y,k),k}loadChildren(y,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,q.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const X=function rn(v,b,y,A){return Ot(v.loadChildren()).pipe((0,ln.U)(ar),(0,Te.z)(k=>k instanceof p.YKP||Array.isArray(k)?(0,q.of)(k):(0,ue.D)(b.compileModuleAsync(k))),(0,ln.U)(k=>{A&&A(v);let X,de,qe=!1;return Array.isArray(k)?(de=k,!0):(X=k.create(y).injector,de=X.get(jn,[],{optional:!0,self:!0}).flat()),{routes:de.map(Vn),injector:X}}))}(A,this.compiler,y,this.onLoadEndListener).pipe(nn(()=>{this.childrenLoaders.delete(A)})),de=new Ut(X,()=>new Jt.x).pipe(Rt());return this.childrenLoaders.set(A,de),de}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function ar(v){return function Tr(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let pr=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Jt.x,this.transitionAbortSubject=new Jt.x,this.configLoader=(0,p.f3M)(cr),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(tr),this.rootContexts=(0,p.f3M)(Gr),this.inputBindingEnabled=null!==(0,p.f3M)(so,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new ps(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new Uo(k))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:A})}setupNavigations(y,A,k){return this.transitions=new ve.X({id:0,currentUrlTree:A,currentRawUrl:A,currentBrowserUrl:A,extractedUrl:y.urlHandlingStrategy.extract(A),urlAfterRedirects:y.urlHandlingStrategy.extract(A),rawUrl:A,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yt,restoredState:null,currentSnapshot:k.snapshot,targetSnapshot:null,currentRouterState:k,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Bt.h)(X=>0!==X.id),(0,ln.U)(X=>({...X,extractedUrl:y.urlHandlingStrategy.extract(X.rawUrl)})),(0,Xn.w)(X=>{this.currentTransition=X;let de=!1,qe=!1;return(0,q.of)(X).pipe((0,Re.b)($e=>{this.currentNavigation={id:$e.id,initialUrl:$e.rawUrl,extractedUrl:$e.extractedUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Xn.w)($e=>{const Vt=$e.currentBrowserUrl.toString(),Bn=!y.navigated||$e.extractedUrl.toString()!==Vt||Vt!==$e.currentUrlTree.toString();if(!Bn&&"reload"!==($e.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Wn="";return this.events.next(new ii($e.id,this.urlSerializer.serialize($e.rawUrl),Wn,0)),$e.resolve(null),Fe.E}if(y.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return(0,q.of)($e).pipe((0,Xn.w)(Wn=>{const xr=this.transitions?.getValue();return this.events.next(new Vr(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),Wn.source,Wn.restoredState)),xr!==this.transitions?.getValue()?Fe.E:Promise.resolve(Wn)}),function Z(v,b,y,A,k,X){return(0,Te.z)(de=>function Zo(v,b,y,A,k,X,de="emptyOnly"){return new $s(v,b,y,A,k,de,X).recognize()}(v,b,y,A,de.extractedUrl,k,X).pipe((0,ln.U)(({state:qe,tree:$e})=>({...de,targetSnapshot:qe,urlAfterRedirects:$e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,Re.b)(Wn=>{X.targetSnapshot=Wn.targetSnapshot,X.urlAfterRedirects=Wn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Wn.urlAfterRedirects};const xr=new Do(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(xr)}));if(Bn&&y.urlHandlingStrategy.shouldProcessUrl($e.currentRawUrl)){const{id:Wn,extractedUrl:xr,source:Na,restoredState:uu,extras:Mu}=$e,Ia=new Vr(Wn,this.urlSerializer.serialize(xr),Na,uu);this.events.next(Ia);const pc=bt(0,this.rootComponentType).snapshot;return this.currentTransition=X={...$e,targetSnapshot:pc,urlAfterRedirects:xr,extras:{...Mu,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(X)}{const Wn="";return this.events.next(new ii($e.id,this.urlSerializer.serialize($e.extractedUrl),Wn,1)),$e.resolve(null),Fe.E}}),(0,Re.b)($e=>{const Vt=new nr($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(Vt)}),(0,ln.U)($e=>(this.currentTransition=X={...$e,guards:ma($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)},X)),function $o(v,b){return(0,Te.z)(y=>{const{targetSnapshot:A,currentSnapshot:k,guards:{canActivateChecks:X,canDeactivateChecks:de}}=y;return 0===de.length&&0===X.length?(0,q.of)({...y,guardsResult:!0}):function xi(v,b,y,A){return(0,ue.D)(v).pipe((0,Te.z)(k=>function Li(v,b,y,A,k){const X=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,q.of)(!0);const de=X.map(qe=>{const $e=Xi(b)??k,Vt=yo(qe,$e);return Ot(function ee(v){return v&&ms(v.canDeactivate)}(Vt)?Vt.canDeactivate(v,b,y,A):$e.runInContext(()=>Vt(v,b,y,A))).pipe((0,xe.P)())});return(0,q.of)(de).pipe(hi())}(k.component,k.route,y,b,A)),(0,xe.P)(k=>!0!==k,!0))}(de,A,k,v).pipe((0,Te.z)(qe=>qe&&function ya(v){return"boolean"==typeof v}(qe)?function Oi(v,b,y,A){return(0,ue.D)(b).pipe(se(k=>(0,St.z)(function is(v,b){return null!==v&&b&&b(new Yi(v)),(0,q.of)(!0)}(k.route.parent,A),function ys(v,b){return null!==v&&b&&b(new mo(v)),(0,q.of)(!0)}(k.route,A),function Ho(v,b,y){const A=b[b.length-1],X=b.slice(0,b.length-1).reverse().map(de=>function Yr(v){const b=v.routeConfig?v.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:v,guards:b}:null}(de)).filter(de=>null!==de).map(de=>we(()=>{const qe=de.guards.map($e=>{const Vt=Xi(de.node)??y,Bn=yo($e,Vt);return Ot(function R(v){return v&&ms(v.canActivateChild)}(Bn)?Bn.canActivateChild(A,v):Vt.runInContext(()=>Bn(A,v))).pipe((0,xe.P)())});return(0,q.of)(qe).pipe(hi())}));return(0,q.of)(X).pipe(hi())}(v,k.path,y),function vi(v,b,y){const A=b.routeConfig?b.routeConfig.canActivate:null;if(!A||0===A.length)return(0,q.of)(!0);const k=A.map(X=>we(()=>{const de=Xi(b)??y,qe=yo(X,de);return Ot(function G(v){return v&&ms(v.canActivate)}(qe)?qe.canActivate(b,v):de.runInContext(()=>qe(b,v))).pipe((0,xe.P)())}));return(0,q.of)(k).pipe(hi())}(v,k.route,y))),(0,xe.P)(k=>!0!==k,!0))}(A,X,v,b):(0,q.of)(qe)),(0,ln.U)(qe=>({...y,guardsResult:qe})))})}(this.environmentInjector,$e=>this.events.next($e)),(0,Re.b)($e=>{if(X.guardsResult=$e.guardsResult,Ue($e.guardsResult))throw Qi(0,$e.guardsResult);const Vt=new Ma($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.events.next(Vt)}),(0,Bt.h)($e=>!!$e.guardsResult||(this.cancelNavigationTransition($e,"",3),!1)),fr($e=>{if($e.guards.canActivateChecks.length)return(0,q.of)($e).pipe((0,Re.b)(Vt=>{const Bn=new fs(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(Bn)}),(0,Xn.w)(Vt=>{let Bn=!1;return(0,q.of)(Vt).pipe(function x(v,b){return(0,Te.z)(y=>{const{targetSnapshot:A,guards:{canActivateChecks:k}}=y;if(!k.length)return(0,q.of)(y);let X=0;return(0,ue.D)(k).pipe(se(de=>function z(v,b,y,A){const k=v.routeConfig,X=v._resolve;return void 0!==k?.title&&!Qt(k)&&(X[er]=k.title),function he(v,b,y,A){const k=function Ze(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===k.length)return(0,q.of)({});const X={};return(0,ue.D)(k).pipe((0,Te.z)(de=>function ot(v,b,y,A){const k=Xi(b)??A,X=yo(v,k);return Ot(X.resolve?X.resolve(b,y):k.runInContext(()=>X(b,y)))}(v[de],b,y,A).pipe((0,xe.P)(),(0,Re.b)(qe=>{X[de]=qe}))),Be(1),function bn(v){return(0,ln.U)(()=>v)}(X),Ie(de=>Jr(de)?Fe.E:Oe(de)))}(X,v,b,A).pipe((0,ln.U)(de=>(v._resolvedData=de,v.data=Ri(v,y).resolve,k&&Qt(k)&&(v.data[er]=k.title),null)))}(de.route,A,v,b)),(0,Re.b)(()=>X++),Be(1),(0,Te.z)(de=>X===k.length?(0,q.of)(y):Fe.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,Re.b)({next:()=>Bn=!0,complete:()=>{Bn||this.cancelNavigationTransition(Vt,"",2)}}))}),(0,Re.b)(Vt=>{const Bn=new Ls(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),this.urlSerializer.serialize(Vt.urlAfterRedirects),Vt.targetSnapshot);this.events.next(Bn)}))}),fr($e=>{const Vt=Bn=>{const Yn=[];Bn.routeConfig?.loadComponent&&!Bn.routeConfig._loadedComponent&&Yn.push(this.configLoader.loadComponent(Bn.routeConfig).pipe((0,Re.b)(Wn=>{Bn.component=Wn}),(0,ln.U)(()=>{})));for(const Wn of Bn.children)Yn.push(...Vt(Wn));return Yn};return He(Vt($e.targetSnapshot.root)).pipe((0,Je.d)(),(0,st.q)(1))}),fr(()=>this.afterPreactivation()),(0,ln.U)($e=>{const Vt=function Mi(v,b,y){const A=ao(v,b._root,y?y._root:void 0);return new Dr(A,b)}(y.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return this.currentTransition=X={...$e,targetRouterState:Vt},X}),(0,Re.b)(()=>{this.events.next(new Fn)}),((v,b,y,A)=>(0,ln.U)(k=>(new rs(b,k.targetRouterState,k.currentRouterState,y,A).activate(v),k)))(this.rootContexts,y.routeReuseStrategy,$e=>this.events.next($e),this.inputBindingEnabled),(0,st.q)(1),(0,Re.b)({next:$e=>{de=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Br($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects))),y.titleStrategy?.updateTitle($e.targetRouterState.snapshot),$e.resolve(!0)},complete:()=>{de=!0}}),function Pn(v){return(0,De.e)((b,y)=>{(0,mt.Xf)(v).subscribe((0,Qe.x)(y,()=>y.complete(),$n.Z)),!y.closed&&b.subscribe(y)})}(this.transitionAbortSubject.pipe((0,Re.b)($e=>{throw $e}))),nn(()=>{de||qe||this.cancelNavigationTransition(X,"",1),this.currentNavigation?.id===X.id&&(this.currentNavigation=null)}),Ie($e=>{if(qe=!0,Ji($e))this.events.next(new ji(X.id,this.urlSerializer.serialize(X.extractedUrl),$e.message,$e.cancellationCode)),function Bo(v){return Ji(v)&&Ue(v.url)}($e)?this.events.next(new Zr($e.url)):X.resolve(!1);else{this.events.next(new $i(X.id,this.urlSerializer.serialize(X.extractedUrl),$e,X.targetSnapshot??void 0));try{X.resolve(y.errorHandler($e))}catch(Vt){X.reject(Vt)}}return Fe.E}))}))}cancelNavigationTransition(y,A,k){const X=new ji(y.id,this.urlSerializer.serialize(y.extractedUrl),A,k);this.events.next(X),y.resolve(!1)}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function vo(v){return v!==Yt}let ut=(()=>{class v{buildTitle(y){let A,k=y.root;for(;void 0!==k;)A=this.getResolvedTitleForRoute(k)??A,k=k.children.find(X=>X.outlet===Et);return A}getResolvedTitleForRoute(y){return y.data[er]}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(Nr)},providedIn:"root"})}return v})(),Nr=(()=>{class v extends ut{constructor(y){super(),this.title=y}updateTitle(y){const A=this.buildTitle(y);void 0!==A&&this.title.setTitle(A)}static#e=this.\u0275fac=function(A){return new(A||v)(p.LFG(Tn.Dx))};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),kr=(()=>{class v{static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(Dt)},providedIn:"root"})}return v})();class Ko{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}let Dt=(()=>{class v extends Ko{static#e=this.\u0275fac=function(){let y;return function(k){return(y||(y=p.n5z(v)))(k||v)}}();static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const $t=new p.OlP("",{providedIn:"root",factory:()=>({})});let wl=(()=>{class v{static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(ht)},providedIn:"root"})}return v})(),ht=(()=>{class v{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,A){return y}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var je=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(je||{});function lt(v,b){v.events.pipe((0,Bt.h)(y=>y instanceof Br||y instanceof ji||y instanceof $i||y instanceof ii),(0,ln.U)(y=>y instanceof Br||y instanceof ii?je.COMPLETE:y instanceof ji&&(0===y.code||1===y.code)?je.REDIRECTING:je.FAILED),(0,Bt.h)(y=>y!==je.REDIRECTING),(0,st.q)(1)).subscribe(()=>{b()})}function Er(v){throw v}function El(v,b,y){return b.parse("/")}const Il={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_a={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Jt.x,this.options=(0,p.f3M)($t,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||Er,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||El,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(wl),this.routeReuseStrategy=(0,p.f3M)(kr),this.titleStrategy=(0,p.f3M)(ut),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(jn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(pr),this.urlSerializer=(0,p.f3M)(tr),this.location=(0,p.f3M)(Cn.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(so,{optional:!0}),this.eventsSubscription=new it.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(A=>{try{const{currentTransition:k}=this.navigationTransitions;if(null===k)return void(Pu(A)&&this._events.next(A));if(A instanceof Vr)vo(k.source)&&(this.browserUrlTree=k.extractedUrl);else if(A instanceof ii)this.rawUrlTree=k.rawUrl;else if(A instanceof Do){if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(X,k)}this.browserUrlTree=k.urlAfterRedirects}}else if(A instanceof Fn)this.currentUrlTree=k.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl),this.routerState=k.targetRouterState,"deferred"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,k),this.browserUrlTree=k.urlAfterRedirects);else if(A instanceof ji)0!==A.code&&1!==A.code&&(this.navigated=!0),(3===A.code||2===A.code)&&this.restoreHistory(k);else if(A instanceof Zr){const X=this.urlHandlingStrategy.merge(A.url,k.currentRawUrl),de={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vo(k.source)};this.scheduleNavigation(X,Yt,null,de,{resolve:k.resolve,reject:k.reject,promise:k.promise})}A instanceof $i&&this.restoreHistory(k,!0),A instanceof Br&&(this.navigated=!0),Pu(A)&&this._events.next(A)}catch(k){this.navigationTransitions.transitionAbortSubject.next(k)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yt,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const A="popstate"===y.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,A,y.state)},0)}))}navigateToSyncWithBrowser(y,A,k){const X={replaceUrl:!0},de=k?.navigationId?k:null;if(k){const $e={...k};delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&(X.state=$e)}const qe=this.parseUrl(y);this.scheduleNavigation(qe,A,de,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(Vn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,A={}){const{relativeTo:k,queryParams:X,fragment:de,queryParamsHandling:qe,preserveFragment:$e}=A,Vt=$e?this.currentUrlTree.fragment:de;let Yn,Bn=null;switch(qe){case"merge":Bn={...this.currentUrlTree.queryParams,...X};break;case"preserve":Bn=this.currentUrlTree.queryParams;break;default:Bn=X||null}null!==Bn&&(Bn=this.removeEmptyProps(Bn));try{Yn=Mt(k?k.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),Yn=this.currentUrlTree.root}return un(Yn,y,Bn,Vt??null)}navigateByUrl(y,A={skipLocationChange:!1}){const k=Ue(y)?y:this.parseUrl(y),X=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(X,Yt,null,A)}navigate(y,A={skipLocationChange:!1}){return function Cl(v){for(let b=0;b<v.length;b++)if(null==v[b])throw new p.vHH(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,A),A)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let A;try{A=this.urlSerializer.parse(y)}catch(k){A=this.malformedUriErrorHandler(k,this.urlSerializer,y)}return A}isActive(y,A){let k;if(k=!0===A?{...Il}:!1===A?{..._a}:A,Ue(y))return Pr(this.currentUrlTree,y,k);const X=this.parseUrl(y);return Pr(this.currentUrlTree,X,k)}removeEmptyProps(y){return Object.keys(y).reduce((A,k)=>{const X=y[k];return null!=X&&(A[k]=X),A},{})}scheduleNavigation(y,A,k,X,de){if(this.disposed)return Promise.resolve(!1);let qe,$e,Vt;de?(qe=de.resolve,$e=de.reject,Vt=de.promise):Vt=new Promise((Yn,Wn)=>{qe=Yn,$e=Wn});const Bn=this.pendingTasks.add();return lt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Bn))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:y,extras:X,resolve:qe,reject:$e,promise:Vt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Vt.catch(Yn=>Promise.reject(Yn))}setBrowserUrl(y,A){const k=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(k)||A.extras.replaceUrl){const de={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(k,"",de)}else{const X={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId+1)};this.location.go(k,"",X)}}restoreHistory(y,A=!1){if("computed"===this.canceledNavigationResolution){const X=this.currentPageId-this.browserPageId;0!==X?this.location.historyGo(X):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===X&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,A){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:A}:{navigationId:y}}static#e=this.\u0275fac=function(A){return new(A||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Pu(v){return!(v instanceof Fn||v instanceof Zr)}let Hs=(()=>{class v{constructor(y,A,k,X,de,qe){this.router=y,this.route=A,this.tabIndexAttribute=k,this.renderer=X,this.el=de,this.locationStrategy=qe,this.href=null,this.commands=null,this.onChanges=new Jt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const $e=de.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===$e||"area"===$e,this.isAnchorElement?this.subscription=y.events.subscribe(Vt=>{Vt instanceof Br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,A,k,X,de){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||A||k||X||de||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,A){const k=this.renderer,X=this.el.nativeElement;null!==A?k.setAttribute(X,y,A):k.removeAttribute(X,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(A){return new(A||v)(p.Y36(qr),p.Y36(Ln),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Cn.S$))};static#t=this.\u0275dir=p.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(A,k){1&A&&p.NdJ("click",function(de){return k.onClick(de.button,de.ctrlKey,de.shiftKey,de.altKey,de.metaKey)}),2&A&&p.uIk("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",p.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",p.VuI],replaceUrl:["replaceUrl","replaceUrl",p.VuI],routerLink:"routerLink"},standalone:!0,features:[p.Xq5,p.TTD]})}return v})();class va{}let ta=(()=>{class v{constructor(y,A,k,X,de){this.router=y,this.injector=k,this.preloadingStrategy=X,this.loader=de}setUpPreloading(){this.subscription=this.router.events.pipe((0,Bt.h)(y=>y instanceof Br),se(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,A){const k=[];for(const X of A){X.providers&&!X._injector&&(X._injector=(0,p.MMx)(X.providers,y,`Route: ${X.path}`));const de=X._injector??y,qe=X._loadedInjector??de;(X.loadChildren&&!X._loadedRoutes&&void 0===X.canLoad||X.loadComponent&&!X._loadedComponent)&&k.push(this.preloadConfig(de,X)),(X.children||X._loadedRoutes)&&k.push(this.processRoutes(qe,X.children??X._loadedRoutes))}return(0,ue.D)(k).pipe((0,Nn.J)())}preloadConfig(y,A){return this.preloadingStrategy.preload(A,()=>{let k;k=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(y,A):(0,q.of)(null);const X=k.pipe((0,Te.z)(de=>null===de?(0,q.of)(void 0):(A._loadedRoutes=de.routes,A._loadedInjector=de.injector,this.processRoutes(de.injector??y,de.routes))));if(A.loadComponent&&!A._loadedComponent){const de=this.loader.loadComponent(A);return(0,ue.D)([X,de]).pipe((0,Nn.J)())}return X})}static#e=this.\u0275fac=function(A){return new(A||v)(p.LFG(qr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(va),p.LFG(cr))};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const xa=new p.OlP("");let jt=(()=>{class v{constructor(y,A,k,X,de={}){this.urlSerializer=y,this.transitions=A,this.viewportScroller=k,this.zone=X,this.options=de,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},de.scrollPositionRestoration=de.scrollPositionRestoration||"disabled",de.anchorScrolling=de.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Br?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof ii&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof bo&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bo(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(A){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac})}return v})();function xn(v,b){return{\u0275kind:v,\u0275providers:b}}function E(){const v=(0,p.f3M)(p.zs3);return b=>{const y=v.get(p.z2F);if(b!==y.components[0])return;const A=v.get(qr),k=v.get(S);1===v.get($)&&A.initialNavigation(),v.get(Lt,null,p.XFs.Optional)?.setUpPreloading(),v.get(xa,null,p.XFs.Optional)?.init(),A.resetRootComponentType(y.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const S=new p.OlP("",{factory:()=>new Jt.x}),$=new p.OlP("",{providedIn:"root",factory:()=>1}),Lt=new p.OlP("");function On(v){return xn(0,[{provide:Lt,useExisting:ta},{provide:va,useExisting:v}])}const ra=new p.OlP("ROUTER_FORROOT_GUARD"),Le=[Cn.Ye,{provide:tr,useClass:mr},qr,Gr,{provide:Ln,useFactory:function zs(v){return v.routerState.root},deps:[qr]},cr,[]];function Ru(){return new p.PXZ("Router",qr)}let ss=(()=>{class v{constructor(y){}static forRoot(y,A){return{ngModule:v,providers:[Le,[],{provide:jn,multi:!0,useValue:y},{provide:ra,useFactory:Oa,deps:[[qr,new p.FiY,new p.tp0]]},{provide:$t,useValue:A||{}},A?.useHash?{provide:Cn.S$,useClass:Cn.Do}:{provide:Cn.S$,useClass:Cn.b0},{provide:xa,useFactory:()=>{const v=(0,p.f3M)(Cn.EM),b=(0,p.f3M)(p.R0b),y=(0,p.f3M)($t),A=(0,p.f3M)(pr),k=(0,p.f3M)(tr);return y.scrollOffset&&v.setOffset(y.scrollOffset),new jt(k,A,v,b,y)}},A?.preloadingStrategy?On(A.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Ru},A?.initialNavigation?wo(A):[],A?.bindToComponentInputs?xn(8,[Or,{provide:so,useExisting:Or}]).\u0275providers:[],[{provide:vs,useFactory:E},{provide:p.tb,multi:!0,useExisting:vs}]]}}static forChild(y){return{ngModule:v,providers:[{provide:jn,multi:!0,useValue:y}]}}static#e=this.\u0275fac=function(A){return new(A||v)(p.LFG(ra,8))};static#t=this.\u0275mod=p.oAB({type:v});static#n=this.\u0275inj=p.cJS({})}return v})();function Oa(v){return"guarded"}function wo(v){return["disabled"===v.initialNavigation?xn(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const b=(0,p.f3M)(qr);return()=>{b.setUpLocationChangeListener()}}},{provide:$,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?xn(2,[{provide:$,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:b=>{const y=b.get(Cn.V_,Promise.resolve());return()=>y.then(()=>new Promise(A=>{const k=b.get(qr),X=b.get(S);lt(k,()=>{A(!0)}),b.get(pr).afterPreactivation=()=>(A(!0),X.closed?(0,q.of)(void 0):X),k.initialNavigation()}))}}]).\u0275providers:[]]}const vs=new p.OlP("")},3106:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Z:()=>He});var p=F(9058),W=F(4537),te=F(534),ye=F(7879);class ue{constructor(pt,Ke){this._delegate=pt,this.firebase=Ke,(0,te._addComponent)(pt,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=pt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this._delegate.automaticDataCollectionEnabled=pt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pt=>{this._delegate.checkDestroyed(),pt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(pt,Ke=te._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(pt);return!mt.isInitialized()&&"EXPLICIT"===(null===(St=mt.getComponent())||void 0===St?void 0:St.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Ke})}_removeServiceInstance(pt,Ke=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pt).clearInstance(Ke)}_addComponent(pt){(0,te._addComponent)(this._delegate,pt)}_addOrOverwriteComponent(pt){(0,te._addOrOverwriteComponent)(this._delegate,pt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Pe(){const et=function pe(et){const pt={},Ke={__esModule:!0,initializeApp:function we(it,De={}){const Rt=te.initializeApp(it,De);if((0,p.r3)(pt,Rt.name))return pt[Rt.name];const Ut=new et(Rt,Ke);return pt[Rt.name]=Ut,Ut},app:mt,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function Oe(it){const De=it.name,Rt=De.replace("-compat","");if(te._registerComponent(it)&&"PUBLIC"===it.type){const Ut=(Jt=mt())=>{if("function"!=typeof Jt[Rt])throw ve.create("invalid-app-argument",{appName:De});return Jt[Rt]()};void 0!==it.serviceProps&&(0,p.ZB)(Ut,it.serviceProps),Ke[Rt]=Ut,et.prototype[Rt]=function(...Jt){return this._getService.bind(this,De).apply(this,it.multipleInstances?Jt:[])}}return"PUBLIC"===it.type?Ke[Rt]:null},removeApp:function St(it){delete pt[it]},useAsService:function Fe(it,De){return"serverAuth"===De?null:De},modularAPIs:te}};function mt(it){if(!(0,p.r3)(pt,it=it||te._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:it});return pt[it]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function ze(){return Object.keys(pt).map(it=>pt[it])}}),mt.App=et,Ke}(ue);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function pt(Ke){(0,p.ZB)(et,Ke)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),et}(),oe=new ye.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=re;!function We(et){(0,te.registerVersion)("@firebase/app-compat","0.2.27",et)}()},534:(Tt,Ne,F)=>{"use strict";F.r(Ne),F.d(Ne,{FirebaseError:()=>ye.ZR,SDK_VERSION:()=>an,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Pr,_apps:()=>Ot,_clearComponents:()=>vt,_components:()=>cn,_getProvider:()=>zn,_registerComponent:()=>sn,_removeServiceInstance:()=>Hr,deleteApp:()=>Ur,getApp:()=>An,getApps:()=>fn,initializeApp:()=>Lr,onLog:()=>ci,registerVersion:()=>mr,setLogLevel:()=>Kn});var p=F(5861),W=F(4537),te=F(7879),ye=F(9058);const ue=(ce,N)=>N.some(J=>ce instanceof J);let q,ve;const re=new WeakMap,oe=new WeakMap,Ce=new WeakMap,Qe=new WeakMap,We=new WeakMap;let pt={get(ce,N,J){if(ce instanceof IDBTransaction){if("done"===N)return oe.get(ce);if("objectStoreNames"===N)return ce.objectStoreNames||Ce.get(ce);if("store"===N)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return we(ce[N])},set:(ce,N,J)=>(ce[N]=J,!0),has:(ce,N)=>ce instanceof IDBTransaction&&("done"===N||"store"===N)||N in ce};function mt(ce){return"function"==typeof ce?function St(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...N){return ce.apply(ze(this),N),we(re.get(this))}:function(...N){return we(ce.apply(ze(this),N))}:function(N,...J){const fe=ce.call(ze(this),N,...J);return Ce.set(fe,N.sort?N.sort():[N]),we(fe)}}(ce):(ce instanceof IDBTransaction&&function et(ce){if(oe.has(ce))return;const N=new Promise((J,fe)=>{const Ue=()=>{ce.removeEventListener("complete",rt),ce.removeEventListener("error",Mt),ce.removeEventListener("abort",Mt)},rt=()=>{J(),Ue()},Mt=()=>{fe(ce.error||new DOMException("AbortError","AbortError")),Ue()};ce.addEventListener("complete",rt),ce.addEventListener("error",Mt),ce.addEventListener("abort",Mt)});oe.set(ce,N)}(ce),ue(ce,function pe(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,pt):ce)}function we(ce){if(ce instanceof IDBRequest)return function He(ce){const N=new Promise((J,fe)=>{const Ue=()=>{ce.removeEventListener("success",rt),ce.removeEventListener("error",Mt)},rt=()=>{J(we(ce.result)),Ue()},Mt=()=>{fe(ce.error),Ue()};ce.addEventListener("success",rt),ce.addEventListener("error",Mt)});return N.then(J=>{J instanceof IDBCursor&&re.set(J,ce)}).catch(()=>{}),We.set(N,ce),N}(ce);if(Qe.has(ce))return Qe.get(ce);const N=mt(ce);return N!==ce&&(Qe.set(ce,N),We.set(N,ce)),N}const ze=ce=>We.get(ce),it=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Rt=new Map;function Ut(ce,N){if(!(ce instanceof IDBDatabase)||N in ce||"string"!=typeof N)return;if(Rt.get(N))return Rt.get(N);const J=N.replace(/FromIndex$/,""),fe=N!==J,Ue=De.includes(J);if(!(J in(fe?IDBIndex:IDBObjectStore).prototype)||!Ue&&!it.includes(J))return;const rt=function(){var Mt=(0,p.Z)(function*(un,...dn){const _r=this.transaction(un,Ue?"readwrite":"readonly");let dr=_r.store;return fe&&(dr=dr.index(dn.shift())),(yield Promise.all([dr[J](...dn),Ue&&_r.done]))[0]});return function(dn){return Mt.apply(this,arguments)}}();return Rt.set(N,rt),rt}!function Ke(ce){pt=ce(pt)}(ce=>({...ce,get:(N,J,fe)=>Ut(N,J)||ce.get(N,J,fe),has:(N,J)=>!!Ut(N,J)||ce.has(N,J)}));class Jt{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(J=>{if(function Cn(ce){const N=ce.getComponent();return"VERSION"===N?.type}(J)){const fe=J.getImmediate();return`${fe.library}/${fe.version}`}return null}).filter(J=>J).join(" ")}}const ln="@firebase/app",st=new te.Yd("@firebase/app"),zt="[DEFAULT]",on={[ln]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,cn=new Map;function hn(ce,N){try{ce.container.addComponent(N)}catch(J){st.debug(`Component ${N.name} failed to register with FirebaseApp ${ce.name}`,J)}}function Pr(ce,N){ce.container.addOrOverwriteComponent(N)}function sn(ce){const N=ce.name;if(cn.has(N))return st.debug(`There were multiple attempts to register component ${N}.`),!1;cn.set(N,ce);for(const J of Ot.values())hn(J,ce);return!0}function zn(ce,N){const J=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return J&&J.triggerHeartbeat(),ce.container.getProvider(N)}function Hr(ce,N,J=zt){zn(ce,N).clearInstance(J)}function vt(){cn.clear()}const Wt=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(N,J,fe){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=fe,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}const an="10.8.0";function Lr(ce,N={}){let J=ce;"object"!=typeof N&&(N={name:N});const fe=Object.assign({name:zt,automaticDataCollectionEnabled:!1},N),Ue=fe.name;if("string"!=typeof Ue||!Ue)throw Wt.create("bad-app-name",{appName:String(Ue)});if(J||(J=(0,ye.aH)()),!J)throw Wt.create("no-options");const rt=Ot.get(Ue);if(rt){if((0,ye.vZ)(J,rt.options)&&(0,ye.vZ)(fe,rt.config))return rt;throw Wt.create("duplicate-app",{appName:Ue})}const Mt=new W.H0(Ue);for(const dn of cn.values())Mt.addComponent(dn);const un=new Rn(J,fe,Mt);return Ot.set(Ue,un),un}function An(ce=zt){const N=Ot.get(ce);if(!N&&ce===zt&&(0,ye.aH)())return Lr();if(!N)throw Wt.create("no-app",{appName:ce});return N}function fn(){return Array.from(Ot.values())}function Ur(ce){return tr.apply(this,arguments)}function tr(){return(tr=(0,p.Z)(function*(ce){const N=ce.name;Ot.has(N)&&(Ot.delete(N),yield Promise.all(ce.container.getProviders().map(J=>J.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function mr(ce,N,J){var fe;let Ue=null!==(fe=on[ce])&&void 0!==fe?fe:ce;J&&(Ue+=`-${J}`);const rt=Ue.match(/\s|\//),Mt=N.match(/\s|\//);if(rt||Mt){const un=[`Unable to register library "${Ue}" with version "${N}":`];return rt&&un.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),rt&&Mt&&un.push("and"),Mt&&un.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void st.warn(un.join(" "))}sn(new W.wA(`${Ue}-version`,()=>({library:Ue,version:N}),"VERSION"))}function ci(ce,N){if(null!==ce&&"function"!=typeof ce)throw Wt.create("invalid-log-argument");(0,te.Am)(ce,N)}function Kn(ce){(0,te.Ub)(ce)}const _n="firebase-heartbeat-database",vn=1,ge="firebase-heartbeat-store";let K=null;function L(){return K||(K=function Oe(ce,N,{blocked:J,upgrade:fe,blocking:Ue,terminated:rt}={}){const Mt=indexedDB.open(ce,N),un=we(Mt);return fe&&Mt.addEventListener("upgradeneeded",dn=>{fe(we(Mt.result),dn.oldVersion,dn.newVersion,we(Mt.transaction),dn)}),J&&Mt.addEventListener("blocked",dn=>J(dn.oldVersion,dn.newVersion,dn)),un.then(dn=>{rt&&dn.addEventListener("close",()=>rt()),Ue&&dn.addEventListener("versionchange",_r=>Ue(_r.oldVersion,_r.newVersion,_r))}).catch(()=>{}),un}(_n,vn,{upgrade:(ce,N)=>{if(0===N)try{ce.createObjectStore(ge)}catch(J){console.warn(J)}}}).catch(ce=>{throw Wt.create("idb-open",{originalErrorMessage:ce.message})})),K}function O(){return(O=(0,p.Z)(function*(ce){try{const J=(yield L()).transaction(ge),fe=yield J.objectStore(ge).get(nt(ce));return yield J.done,fe}catch(N){if(N instanceof ye.ZR)st.warn(N.message);else{const J=Wt.create("idb-get",{originalErrorMessage:N?.message});st.warn(J.message)}}})).apply(this,arguments)}function ie(ce,N){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,p.Z)(function*(ce,N){try{const fe=(yield L()).transaction(ge,"readwrite");yield fe.objectStore(ge).put(N,nt(ce)),yield fe.done}catch(J){if(J instanceof ye.ZR)st.warn(J.message);else{const fe=Wt.create("idb-set",{originalErrorMessage:J?.message});st.warn(fe.message)}}})).apply(this,arguments)}function nt(ce){return`${ce.name}!${ce.options.appId}`}class _t{constructor(N){this.container=N,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this._storage=new Xt(J),this._heartbeatsCachePromise=this._storage.read().then(fe=>(this._heartbeatsCache=fe,fe))}triggerHeartbeat(){var N=this;return(0,p.Z)(function*(){var J,fe;const rt=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=Kt();if((null!=(null===(J=N._heartbeatsCache)||void 0===J?void 0:J.heartbeats)||(N._heartbeatsCache=yield N._heartbeatsCachePromise,null!=(null===(fe=N._heartbeatsCache)||void 0===fe?void 0:fe.heartbeats)))&&N._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!N._heartbeatsCache.heartbeats.some(un=>un.date===Mt))return N._heartbeatsCache.heartbeats.push({date:Mt,agent:rt}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(un=>{const dn=new Date(un.date).valueOf();return Date.now()-dn<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,p.Z)(function*(){var J;if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null==(null===(J=N._heartbeatsCache)||void 0===J?void 0:J.heartbeats)||0===N._heartbeatsCache.heartbeats.length)return"";const fe=Kt(),{heartbeatsToSend:Ue,unsentEntries:rt}=function Dn(ce,N=1024){const J=[];let fe=ce.slice();for(const Ue of ce){const rt=J.find(Mt=>Mt.agent===Ue.agent);if(rt){if(rt.dates.push(Ue.date),Rr(J)>N){rt.dates.pop();break}}else if(J.push({agent:Ue.agent,dates:[Ue.date]}),Rr(J)>N){J.pop();break}fe=fe.slice(1)}return{heartbeatsToSend:J,unsentEntries:fe}}(N._heartbeatsCache.heartbeats),Mt=(0,ye.L)(JSON.stringify({version:2,heartbeats:Ue}));return N._heartbeatsCache.lastSentHeartbeatDate=fe,rt.length>0?(N._heartbeatsCache.heartbeats=rt,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),Mt})()}}function Kt(){return(new Date).toISOString().substring(0,10)}class Xt{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,p.Z)(function*(){if(yield N._canUseIndexedDBPromise){const fe=yield function M(ce){return O.apply(this,arguments)}(N.app);return fe?.heartbeats?fe:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(N){var J=this;return(0,p.Z)(function*(){var fe;if(yield J._canUseIndexedDBPromise){const rt=yield J.read();return ie(J.app,{lastSentHeartbeatDate:null!==(fe=N.lastSentHeartbeatDate)&&void 0!==fe?fe:rt.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var J=this;return(0,p.Z)(function*(){var fe;if(yield J._canUseIndexedDBPromise){const rt=yield J.read();return ie(J.app,{lastSentHeartbeatDate:null!==(fe=N.lastSentHeartbeatDate)&&void 0!==fe?fe:rt.lastSentHeartbeatDate,heartbeats:[...rt.heartbeats,...N.heartbeats]})}})()}}function Rr(ce){return(0,ye.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function Si(ce){sn(new W.wA("platform-logger",N=>new Jt(N),"PRIVATE")),sn(new W.wA("heartbeat",N=>new _t(N),"PRIVATE")),mr(ln,"0.9.27",ce),mr(ln,"0.9.27","esm2017"),mr("fire-js","")}("")},4537:(Tt,Ne,F)=>{"use strict";F.d(Ne,{H0:()=>pe,wA:()=>te});var p=F(5861),W=F(9058);class te{constructor(re,oe,Ce){this.name=re,this.instanceFactory=oe,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ye="[DEFAULT]";class ue{constructor(re,oe){this.name=re,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const oe=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(oe)){const Ce=new W.BH;if(this.instancesDeferred.set(oe,Ce),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:oe});Qe&&Ce.resolve(Qe)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(re){var oe;const Ce=this.normalizeInstanceIdentifier(re?.identifier),Qe=null!==(oe=re?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(We){if(Qe)return null;throw We}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function ve(Pe){return"EAGER"===Pe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ye})}catch{}for(const[oe,Ce]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(oe);try{const We=this.getOrInitializeService({instanceIdentifier:Qe});Ce.resolve(We)}catch{}}}}clearInstance(re=ye){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,p.Z)(function*(){const oe=Array.from(re.instances.values());yield Promise.all([...oe.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...oe.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ye){return this.instances.has(re)}getOptions(re=ye){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:oe={}}=re,Ce=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:Ce,options:oe});for(const[We,He]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(We)&&He.resolve(Qe);return Qe}onInit(re,oe){var Ce;const Qe=this.normalizeInstanceIdentifier(oe),We=null!==(Ce=this.onInitCallbacks.get(Qe))&&void 0!==Ce?Ce:new Set;We.add(re),this.onInitCallbacks.set(Qe,We);const He=this.instances.get(Qe);return He&&re(He,Qe),()=>{We.delete(re)}}invokeOnInitCallbacks(re,oe){const Ce=this.onInitCallbacks.get(oe);if(Ce)for(const Qe of Ce)try{Qe(re,oe)}catch{}}getOrInitializeService({instanceIdentifier:re,options:oe={}}){let Ce=this.instances.get(re);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=re,Pe===ye?void 0:Pe),options:oe}),this.instances.set(re,Ce),this.instancesOptions.set(re,oe),this.invokeOnInitCallbacks(Ce,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,Ce)}catch{}var Pe;return Ce||null}normalizeInstanceIdentifier(re=ye){return this.component?this.component.multipleInstances?re:ye:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const oe=this.getProvider(re.name);if(oe.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);oe.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const oe=new ue(re,this);return this.providers.set(re,oe),oe}getProviders(){return Array.from(this.providers.values())}}},7879:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Am:()=>Pe,Ub:()=>pe,Yd:()=>ve,in:()=>W});const p=[];var W=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(W||{});const te={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},ye=W.INFO,ue={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},q=(re,oe,...Ce)=>{if(oe<re.logLevel)return;const Qe=(new Date).toISOString(),We=ue[oe];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[We](`[${Qe}]  ${re.name}:`,...Ce)};class ve{constructor(oe){this.name=oe,this._logLevel=ye,this._logHandler=q,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in W))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?te[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...oe),this._logHandler(this,W.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...oe),this._logHandler(this,W.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,W.INFO,...oe),this._logHandler(this,W.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,W.WARN,...oe),this._logHandler(this,W.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...oe),this._logHandler(this,W.ERROR,...oe)}}function pe(re){p.forEach(oe=>{oe.setLogLevel(re)})}function Pe(re,oe){for(const Ce of p){let Qe=null;oe&&oe.level&&(Qe=te[oe.level]),Ce.userLogHandler=null===re?null:(We,He,...et)=>{const pt=et.map(Ke=>{if(null==Ke)return null;if("string"==typeof Ke)return Ke;if("number"==typeof Ke||"boolean"==typeof Ke)return Ke.toString();if(Ke instanceof Error)return Ke.message;try{return JSON.stringify(Ke)}catch{return null}}).filter(Ke=>Ke).join(" ");He>=(Qe??We.logLevel)&&re({level:W[He].toLowerCase(),message:pt,args:et,type:We.name})}}}},3182:(Tt,Ne,F)=>{"use strict";F.d(Ne,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=F(534);(0,p.registerVersion)("firebase","10.8.0","app")},7142:(Tt,Ne,F)=>{"use strict";F.d(Ne,{Z:()=>p.Z});var p=F(3106);p.Z.registerVersion("firebase","10.8.0","app-compat")},6365:(Tt,Ne,F)=>{"use strict";F.r(Ne);var p=F(5861),W=F(3106),te=F(4939),ye=F(9058),ve=(F(534),F(7879),F(4537));function pe(){return window}function oe(){return oe=(0,p.Z)(function*(L,M,O){var ie;const{BuildInfo:Ee}=pe();(0,te.au)(M.sessionId,"AuthEvent did not contain a session ID");const nt=yield function Ke(L){return St.apply(this,arguments)}(M.sessionId),ct={};return(0,te.av)()?ct.ibi=Ee.packageName:(0,te.aw)()?ct.apn=Ee.packageName:(0,te.ax)(L,"operation-not-supported-in-this-environment"),Ee.displayName&&(ct.appDisplayName=Ee.displayName),ct.sessionId=nt,(0,te.ay)(L,O,M.type,void 0,null!==(ie=M.eventId)&&void 0!==ie?ie:void 0,ct)}),oe.apply(this,arguments)}function Qe(){return(Qe=(0,p.Z)(function*(L){const{BuildInfo:M}=pe(),O={};(0,te.av)()?O.iosBundleId=M.packageName:(0,te.aw)()?O.androidPackageName=M.packageName:(0,te.ax)(L,"operation-not-supported-in-this-environment"),yield(0,te.az)(L,O)})).apply(this,arguments)}function et(){return(et=(0,p.Z)(function*(L,M,O){const{cordova:ie}=pe();let Ee=()=>{};try{yield new Promise((nt,ct)=>{let It=null;function _t(){var Xt;nt();const Rr=null===(Xt=ie.plugins.browsertab)||void 0===Xt?void 0:Xt.close;"function"==typeof Rr&&Rr(),"function"==typeof O?.close&&O.close()}function Kt(){It||(It=window.setTimeout(()=>{ct((0,te.aB)(L,"redirect-cancelled-by-user"))},2e3))}function Dn(){"visible"===document?.visibilityState&&Kt()}M.addPassiveListener(_t),document.addEventListener("resume",Kt,!1),(0,te.aw)()&&document.addEventListener("visibilitychange",Dn,!1),Ee=()=>{M.removePassiveListener(_t),document.removeEventListener("resume",Kt,!1),document.removeEventListener("visibilitychange",Dn,!1),It&&window.clearTimeout(It)}})}finally{Ee()}})).apply(this,arguments)}function St(){return(St=(0,p.Z)(function*(L){const M=function mt(L){if((0,te.au)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const M=new ArrayBuffer(L.length),O=new Uint8Array(M);for(let ie=0;ie<L.length;ie++)O[ie]=L.charCodeAt(ie);return O}(L),O=yield crypto.subtle.digest("SHA-256",M);return Array.from(new Uint8Array(O)).map(Ee=>Ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ze extends te.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(M=>{this.resolveInialized=M})}addPassiveListener(M){this.passiveListeners.add(M)}removePassiveListener(M){this.passiveListeners.delete(M)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(M){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(M)),super.onEvent(M)}initialized(){var M=this;return(0,p.Z)(function*(){yield M.initPromise})()}}function it(L){return De.apply(this,arguments)}function De(){return(De=(0,p.Z)(function*(L){const M=yield Jt()._get(Cn(L));return M&&(yield Jt()._remove(Cn(L))),M})).apply(this,arguments)}function Ut(){const L=[];for(let O=0;O<20;O++){const ie=Math.floor(62*Math.random());L.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ie))}return L.join("")}function Jt(){return(0,te.aE)(te.b)}function Cn(L){return(0,te.aF)("authEvent",L.config.apiKey,L.name)}function st(L){if(!L?.includes("?"))return{};const[M,...O]=L.split("?");return(0,ye.zd)(O.join("?"))}const Te=class Bt{constructor(){this._redirectPersistence=te.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=te.aG,this._overrideRedirectResult=te.aH}_initialize(M){var O=this;return(0,p.Z)(function*(){const ie=M._key();let Ee=O.eventManagers.get(ie);return Ee||(Ee=new ze(M),O.eventManagers.set(ie,Ee),O.attachCallbackListeners(M,Ee)),Ee})()}_openPopup(M){(0,te.ax)(M,"operation-not-supported-in-this-environment")}_openRedirect(M,O,ie,Ee){var nt=this;return(0,p.Z)(function*(){!function pt(L){var M,O,ie,Ee,nt,ct,It,_t,Kt,Dn;const Xt=pe();(0,te.aC)("function"==typeof(null===(M=Xt?.universalLinks)||void 0===M?void 0:M.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,te.aC)(typeof(null===(O=Xt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,te.aC)("function"==typeof(null===(nt=null===(Ee=null===(ie=Xt?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===nt?void 0:nt.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.aC)("function"==typeof(null===(_t=null===(It=null===(ct=Xt?.cordova)||void 0===ct?void 0:ct.plugins)||void 0===It?void 0:It.browsertab)||void 0===_t?void 0:_t.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,te.aC)("function"==typeof(null===(Dn=null===(Kt=Xt?.cordova)||void 0===Kt?void 0:Kt.InAppBrowser)||void 0===Dn?void 0:Dn.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(M);const ct=yield nt._initialize(M);yield ct.initialized(),ct.resetRedirect(),(0,te.aI)(),yield nt._originValidation(M);const It=function Oe(L,M,O=null){return{type:M,eventId:O,urlResponse:null,sessionId:Ut(),postBody:null,tenantId:L.tenantId,error:(0,te.aB)(L,"no-auth-event")}}(M,ie,Ee);yield function Fe(L,M){return Jt()._set(Cn(L),M)}(M,It);const _t=yield function re(L,M,O){return oe.apply(this,arguments)}(M,It,O),Kt=yield function We(L){const{cordova:M}=pe();return new Promise(O=>{M.plugins.browsertab.isAvailable(ie=>{let Ee=null;ie?M.plugins.browsertab.openUrl(L):Ee=M.InAppBrowser.open(L,(0,te.aA)()?"_blank":"_system","location=yes"),O(Ee)})})}(_t);return function He(L,M,O){return et.apply(this,arguments)}(M,ct,Kt)})()}_isIframeWebStorageSupported(M,O){throw new Error("Method not implemented.")}_originValidation(M){const O=M._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function Ce(L){return Qe.apply(this,arguments)}(M)),this.originValidationPromises[O]}attachCallbackListeners(M,O){const{universalLinks:ie,handleOpenURL:Ee,BuildInfo:nt}=pe(),ct=setTimeout((0,p.Z)(function*(){yield it(M),O.onEvent(xe())}),500),It=function(){var Dn=(0,p.Z)(function*(Xt){clearTimeout(ct);const Rr=yield it(M);let Si=null;Rr&&Xt?.url&&(Si=function Rt(L,M){var O,ie;const Ee=function Xn(L){const M=st(L),O=M.link?decodeURIComponent(M.link):void 0,ie=st(O).link,Ee=M.deep_link_id?decodeURIComponent(M.deep_link_id):void 0;return st(Ee).link||Ee||ie||O||L}(M);if(Ee.includes("/__/auth/callback")){const nt=st(Ee),ct=nt.firebaseError?function ln(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(nt.firebaseError)):null,It=null===(ie=null===(O=ct?.code)||void 0===O?void 0:O.split("auth/"))||void 0===ie?void 0:ie[1],_t=It?(0,te.aB)(It):null;return _t?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:_t,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:Ee,postBody:null}}return null}(Rr,Xt.url)),O.onEvent(Si||xe())});return function(Rr){return Dn.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,It);const _t=Ee,Kt=`${nt.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Dn=(0,p.Z)(function*(Xt){if(Xt.toLowerCase().startsWith(Kt)&&It({url:Xt}),"function"==typeof _t)try{_t(Xt)}catch(Rr){console.error(Rr)}});return function(Xt){return Dn.apply(this,arguments)}}()}};function xe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,te.aB)("no-auth-event")}}function Je(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function Ve(L=(0,ye.z$)()){return!("file:"!==Je()&&"ionic:"!==Je()&&"capacitor:"!==Je()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pn(){try{const L=self.localStorage,M=te.aN();if(L)return L.setItem(M,"1"),L.removeItem(M),!function $n(L=(0,ye.z$)()){return function bn(){return(0,ye.w1)()&&11===document?.documentMode}()||function nn(L=(0,ye.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,ye.hl)()}catch{return Nn()&&(0,ye.hl)()}return!1}function Nn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tn(){return(function Be(){return"http:"===Je()||"https:"===Je()}()||(0,ye.ru)()||Ve())&&!function kt(){return(0,ye.b$)()||(0,ye.UG)()}()&&Pn()&&!Nn()}function Et(){return Ve()&&typeof document<"u"}function lr(){return(lr=(0,p.Z)(function*(){return!!Et()&&new Promise(L=>{const M=setTimeout(()=>{L(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(M),L(!0)})})})).apply(this,arguments)}const In={LOCAL:"local",NONE:"none",SESSION:"session"},Cr=te.aC,Hn="persistence";function on(L){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(L){yield L._initializationPromise;const M=hn(),O=te.aF(Hn,L.config.apiKey,L.name);M&&M.setItem(O,L._getPersistence())})).apply(this,arguments)}function hn(){var L;try{return(null===(L=function Ht(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const Pr=te.aC;class sn{constructor(){this.browserResolver=te.aE(te.k),this.cordovaResolver=te.aE(Te),this.underlyingResolver=null,this._redirectPersistence=te.a,this._completeRedirectFn=te.aG,this._overrideRedirectResult=te.aH}_initialize(M){var O=this;return(0,p.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(M)})()}_openPopup(M,O,ie,Ee){var nt=this;return(0,p.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openPopup(M,O,ie,Ee)})()}_openRedirect(M,O,ie,Ee){var nt=this;return(0,p.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openRedirect(M,O,ie,Ee)})()}_isIframeWebStorageSupported(M,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(M,O)}_originValidation(M){return this.assertedUnderlyingResolver._originValidation(M)}get _shouldInitProactively(){return Et()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var M=this;return(0,p.Z)(function*(){if(M.underlyingResolver)return;const O=yield function er(){return lr.apply(this,arguments)}();M.underlyingResolver=O?M.cordovaResolver:M.browserResolver})()}}function zn(L){return L.unwrap()}function vt(L){return Wt(L)}function Wt(L){const{_tokenResponse:M}=L instanceof ye.ZR?L.customData:L;if(!M)return null;if(!(L instanceof ye.ZR)&&"temporaryProof"in M&&"phoneNumber"in M)return te.P.credentialFromResult(L);const O=M.providerId;if(!O||O===te.p.PASSWORD)return null;let ie;switch(O){case te.p.GOOGLE:ie=te.X;break;case te.p.FACEBOOK:ie=te.W;break;case te.p.GITHUB:ie=te.Y;break;case te.p.TWITTER:ie=te.$;break;default:const{oauthIdToken:Ee,oauthAccessToken:nt,oauthTokenSecret:ct,pendingToken:It,nonce:_t}=M;return nt||ct||Ee||It?It?O.startsWith("saml.")?te.aQ._create(O,It):te.N._fromParams({providerId:O,signInMethod:O,pendingToken:It,idToken:Ee,accessToken:nt}):new te.Z(O).credential({idToken:Ee,accessToken:nt,rawNonce:_t}):null}return L instanceof ye.ZR?ie.credentialFromError(L):ie.credentialFromResult(L)}function Rn(L,M){return M.catch(O=>{throw O instanceof ye.ZR&&function Ci(L,M){var O;const ie=null===(O=M.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===M?.code)M.resolver=new An(L,te.as(L,M));else if(ie){const Ee=Wt(M),nt=M;Ee&&(nt.credential=Ee,nt.tenantId=ie.tenantId||void 0,nt.email=ie.email||void 0,nt.phoneNumber=ie.phoneNumber||void 0)}}(L,O),O}).then(O=>{const Ee=O.user;return{operationType:O.operationType,credential:vt(O),additionalUserInfo:te.aq(O),user:fn.getOrCreate(Ee)}})}function an(L,M){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,p.Z)(function*(L,M){const O=yield M;return{verificationId:O.verificationId,confirm:ie=>Rn(L,O.confirm(ie))}})).apply(this,arguments)}class An{constructor(M,O){this.resolver=O,this.auth=function Hr(L){return L.wrapped()}(M)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(M){return Rn(zn(this.auth),this.resolver.resolveSignIn(M))}}class fn{constructor(M){this._delegate=M,this.multiFactor=te.at(M)}static getOrCreate(M){return fn.USER_MAP.has(M)||fn.USER_MAP.set(M,new fn(M)),fn.USER_MAP.get(M)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(M){return this._delegate.getIdTokenResult(M)}getIdToken(M){return this._delegate.getIdToken(M)}linkAndRetrieveDataWithCredential(M){return this.linkWithCredential(M)}linkWithCredential(M){var O=this;return(0,p.Z)(function*(){return Rn(O.auth,te.a2(O._delegate,M))})()}linkWithPhoneNumber(M,O){var ie=this;return(0,p.Z)(function*(){return an(ie.auth,te.l(ie._delegate,M,O))})()}linkWithPopup(M){var O=this;return(0,p.Z)(function*(){return Rn(O.auth,te.d(O._delegate,M,sn))})()}linkWithRedirect(M){var O=this;return(0,p.Z)(function*(){return yield on(te.aJ(O.auth)),te.g(O._delegate,M,sn)})()}reauthenticateAndRetrieveDataWithCredential(M){return this.reauthenticateWithCredential(M)}reauthenticateWithCredential(M){var O=this;return(0,p.Z)(function*(){return Rn(O.auth,te.a3(O._delegate,M))})()}reauthenticateWithPhoneNumber(M,O){return an(this.auth,te.r(this._delegate,M,O))}reauthenticateWithPopup(M){return Rn(this.auth,te.e(this._delegate,M,sn))}reauthenticateWithRedirect(M){var O=this;return(0,p.Z)(function*(){return yield on(te.aJ(O.auth)),te.h(O._delegate,M,sn)})()}sendEmailVerification(M){return te.ag(this._delegate,M)}unlink(M){var O=this;return(0,p.Z)(function*(){return yield te.ap(O._delegate,M),O})()}updateEmail(M){return te.al(this._delegate,M)}updatePassword(M){return te.am(this._delegate,M)}updatePhoneNumber(M){return te.u(this._delegate,M)}updateProfile(M){return te.ak(this._delegate,M)}verifyBeforeUpdateEmail(M,O){return te.ah(this._delegate,M,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fn.USER_MAP=new WeakMap;const Ur=te.aC;let tr=(()=>{class L{constructor(O,ie){if(this.app=O,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ee}=O.options;Ur(Ee,"invalid-api-key",{appName:O.name}),Ur(Ee,"invalid-api-key",{appName:O.name});const nt=typeof window<"u"?sn:void 0;this._delegate=ie.initialize({options:{persistence:ci(Ee,O.name),popupRedirectResolver:nt}}),this._delegate._updateErrorMap(te.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ie){te.K(this._delegate,O,ie)}applyActionCode(O){return te.a7(this._delegate,O)}checkActionCode(O){return te.a8(this._delegate,O)}confirmPasswordReset(O,ie){return te.a6(this._delegate,O,ie)}createUserWithEmailAndPassword(O,ie){var Ee=this;return(0,p.Z)(function*(){return Rn(Ee._delegate,te.aa(Ee._delegate,O,ie))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return te.af(this._delegate,O)}isSignInWithEmailLink(O){return te.ad(this._delegate,O)}getRedirectResult(){var O=this;return(0,p.Z)(function*(){Ur(Tn(),O._delegate,"operation-not-supported-in-this-environment");const ie=yield te.j(O._delegate,sn);return ie?Rn(O._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function se(L,M){(0,te.aJ)(L)._logFramework(M)}(this._delegate,O)}onAuthStateChanged(O,ie,Ee){const{next:nt,error:ct,complete:It}=mr(O,ie,Ee);return this._delegate.onAuthStateChanged(nt,ct,It)}onIdTokenChanged(O,ie,Ee){const{next:nt,error:ct,complete:It}=mr(O,ie,Ee);return this._delegate.onIdTokenChanged(nt,ct,It)}sendSignInLinkToEmail(O,ie){return te.ac(this._delegate,O,ie)}sendPasswordResetEmail(O,ie){return te.a5(this._delegate,O,ie||void 0)}setPersistence(O){var ie=this;return(0,p.Z)(function*(){let Ee;switch(function zt(L,M){Cr(Object.values(In).includes(M),L,"invalid-persistence-type"),(0,ye.b$)()?Cr(M!==In.SESSION,L,"unsupported-persistence-type"):(0,ye.UG)()?Cr(M===In.NONE,L,"unsupported-persistence-type"):Nn()?Cr(M===In.NONE||M===In.LOCAL&&(0,ye.hl)(),L,"unsupported-persistence-type"):Cr(M===In.NONE||Pn(),L,"unsupported-persistence-type")}(ie._delegate,O),O){case In.SESSION:Ee=te.a;break;case In.LOCAL:Ee=(yield te.aE(te.i)._isAvailable())?te.i:te.b;break;case In.NONE:Ee=te.U;break;default:return te.ax("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(Ee)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Rn(this._delegate,te.a0(this._delegate))}signInWithCredential(O){return Rn(this._delegate,te.a1(this._delegate,O))}signInWithCustomToken(O){return Rn(this._delegate,te.a4(this._delegate,O))}signInWithEmailAndPassword(O,ie){return Rn(this._delegate,te.ab(this._delegate,O,ie))}signInWithEmailLink(O,ie){return Rn(this._delegate,te.ae(this._delegate,O,ie))}signInWithPhoneNumber(O,ie){return an(this._delegate,te.s(this._delegate,O,ie))}signInWithPopup(O){var ie=this;return(0,p.Z)(function*(){return Ur(Tn(),ie._delegate,"operation-not-supported-in-this-environment"),Rn(ie._delegate,te.c(ie._delegate,O,sn))})()}signInWithRedirect(O){var ie=this;return(0,p.Z)(function*(){return Ur(Tn(),ie._delegate,"operation-not-supported-in-this-environment"),yield on(ie._delegate),te.f(ie._delegate,O,sn)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return te.a9(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=In,L})();function mr(L,M,O){let ie=L;"function"!=typeof L&&({next:ie,error:M,complete:O}=L);const Ee=ie;return{next:ct=>Ee(ct&&fn.getOrCreate(ct)),error:M,complete:O}}function ci(L,M){const O=function cn(L,M){const O=hn();if(!O)return[];const ie=te.aF(Hn,L,M);switch(O.getItem(ie)){case In.NONE:return[te.U];case In.LOCAL:return[te.i,te.a];case In.SESSION:return[te.a];default:return[]}}(L,M);if(typeof self<"u"&&!O.includes(te.i)&&O.push(te.i),typeof window<"u")for(const ie of[te.b,te.a])O.includes(ie)||O.push(ie);return O.includes(te.U)||O.push(te.U),O}class Kn{constructor(){this.providerId="phone",this._delegate=new te.P(zn(W.Z.auth()))}static credential(M,O){return te.P.credential(M,O)}verifyPhoneNumber(M,O){return this._delegate.verifyPhoneNumber(M,O)}unwrap(){return this._delegate}}Kn.PHONE_SIGN_IN_METHOD=te.P.PHONE_SIGN_IN_METHOD,Kn.PROVIDER_ID=te.P.PROVIDER_ID;const _n=te.aC;class vn{constructor(M,O,ie=W.Z.app()){var Ee;_n(null===(Ee=ie.options)||void 0===Ee?void 0:Ee.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new te.R(ie.auth(),M,O),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K(L){L.INTERNAL.registerComponent(new ve.wA("auth-compat",M=>{const O=M.getProvider("app-compat").getImmediate(),ie=M.getProvider("auth");return new tr(O,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:te.A.EMAIL_SIGNIN,PASSWORD_RESET:te.A.PASSWORD_RESET,RECOVER_EMAIL:te.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:te.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:te.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:te.A.VERIFY_EMAIL}},EmailAuthProvider:te.V,FacebookAuthProvider:te.W,GithubAuthProvider:te.Y,GoogleAuthProvider:te.X,OAuthProvider:te.Z,SAMLAuthProvider:te._,PhoneAuthProvider:Kn,PhoneMultiFactorGenerator:te.m,RecaptchaVerifier:vn,TwitterAuthProvider:te.$,Auth:tr,AuthCredential:te.L,Error:ye.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.5.2")}(W.Z)},5861:(Tt,Ne,F)=>{"use strict";function p(te,ye,ue,q,ve,pe,Pe){try{var re=te[pe](Pe),oe=re.value}catch(Ce){return void ue(Ce)}re.done?ye(oe):Promise.resolve(oe).then(q,ve)}function W(te){return function(){var ye=this,ue=arguments;return new Promise(function(q,ve){var pe=te.apply(ye,ue);function Pe(oe){p(pe,q,ve,Pe,re,"next",oe)}function re(oe){p(pe,q,ve,Pe,re,"throw",oe)}Pe(void 0)})}}F.d(Ne,{Z:()=>W})},7582:(Tt,Ne,F)=>{"use strict";function ye(Te,xe){var se={};for(var Re in Te)Object.prototype.hasOwnProperty.call(Te,Re)&&xe.indexOf(Re)<0&&(se[Re]=Te[Re]);if(null!=Te&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(Re=Object.getOwnPropertySymbols(Te);Ie<Re.length;Ie++)xe.indexOf(Re[Ie])<0&&Object.prototype.propertyIsEnumerable.call(Te,Re[Ie])&&(se[Re[Ie]]=Te[Re[Ie]])}return se}function Ce(Te,xe,se,Re){return new(se||(se=Promise))(function(tt,Je){function Be(bn){try{kt(Re.next(bn))}catch(nn){Je(nn)}}function Ve(bn){try{kt(Re.throw(bn))}catch(nn){Je(nn)}}function kt(bn){bn.done?tt(bn.value):function Ie(tt){return tt instanceof se?tt:new se(function(Je){Je(tt)})}(bn.value).then(Be,Ve)}kt((Re=Re.apply(Te,xe||[])).next())})}function we(Te){return this instanceof we?(this.v=Te,this):new we(Te)}function ze(Te,xe,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Re=se.apply(Te,xe||[]),tt=[];return Ie={},Je("next"),Je("throw"),Je("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function Je($n){Re[$n]&&(Ie[$n]=function(Pn){return new Promise(function(Nn,Tn){tt.push([$n,Pn,Nn,Tn])>1||Be($n,Pn)})})}function Be($n,Pn){try{!function Ve($n){$n.value instanceof we?Promise.resolve($n.value.v).then(kt,bn):nn(tt[0][2],$n)}(Re[$n](Pn))}catch(Nn){nn(tt[0][3],Nn)}}function kt($n){Be("next",$n)}function bn($n){Be("throw",$n)}function nn($n,Pn){$n(Pn),tt.shift(),tt.length&&Be(tt[0][0],tt[0][1])}}function Fe(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,xe=Te[Symbol.asyncIterator];return xe?xe.call(Te):(Te=function et(Te){var xe="function"==typeof Symbol&&Symbol.iterator,se=xe&&Te[xe],Re=0;if(se)return se.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&Re>=Te.length&&(Te=void 0),{value:Te&&Te[Re++],done:!Te}}};throw new TypeError(xe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),se={},Re("next"),Re("throw"),Re("return"),se[Symbol.asyncIterator]=function(){return this},se);function Re(tt){se[tt]=Te[tt]&&function(Je){return new Promise(function(Be,Ve){!function Ie(tt,Je,Be,Ve){Promise.resolve(Ve).then(function(kt){tt({value:kt,done:Be})},Je)}(Be,Ve,(Je=Te[tt](Je)).done,Je.value)})}}}F.d(Ne,{FC:()=>ze,KL:()=>Fe,_T:()=>ye,mG:()=>Ce,qq:()=>we}),"function"==typeof SuppressedError&&SuppressedError}},Tt=>{Tt(Tt.s=6162)}]);